(self.webpackChunkmock_project=self.webpackChunkmock_project||[]).push([[620],{620:(ds,yi,ke)=>{"use strict";ke.r(yi),ke.d(yi,{ChartModule:()=>xi});var S=ke(9808),et=ke(4622),Xn=ke(8734),te=ke(7587),Bn=ke(3845),Yt=ke(9296),mi=ke(4500);function De(Tt,qe){1&Tt&&te._UZ(0,"p-skeleton",3)}const Hn=[{path:"",component:(()=>{class Tt{constructor(Et,Wt,gt){this._router=Et,this._dataRequest=Wt,this._loadingService=gt,this.dataAge=[],this.dataTotal=[],this.isLoading=!1}ngOnInit(){this._loadingService.isLoading.subscribe(Et=>{this.isLoading=Et}),this._dataRequest.getAllUser().subscribe(Et=>{var Wt;this.allUsers=Et,console.log(Et);let gt=[];Et.reduce((Nt,ge)=>(Nt[ge.age]||(Nt[ge.age]={age:ge.age,total:0},gt.push(Nt[ge.age])),Nt[ge.age].total+=1,Nt),{}),gt=gt.sort((Nt,ge)=>ge.age-Nt.age),this.totalAge=gt,null===(Wt=this.totalAge)||void 0===Wt||Wt.forEach(Nt=>{this.dataAge.push(Nt.age),this.dataTotal.push(Nt.total)})})}ngAfterViewInit(){setTimeout(()=>{Xn.generate({bindto:"#chart",padding:{left:100},data:{x:"x",columns:[["x",...this.dataAge],["Total",...this.dataTotal]],onclick:Wt=>{const{index:gt}=Wt,{age:Nt}=this.totalAge[gt];this._router.navigate(["users"],{queryParams:{age:Nt}})},type:"bar",labels:!0},axis:{rotated:!0,x:{type:"category",label:{text:"Age",position:"outer-right"}},y:{label:{text:"Total",position:"outer-bottom"}}}})},500)}}return Tt.\u0275fac=function(Et){return new(Et||Tt)(te.Y36(et.F0),te.Y36(Bn.O),te.Y36(Yt.E))},Tt.\u0275cmp=te.Xpm({type:Tt,selectors:[["app-chart"]],decls:4,vars:1,consts:[[1,"grid","mb-5"],["id","chart"],["width","100%","height","50%","styleClass","mb-2",4,"ngIf"],["width","100%","height","50%","styleClass","mb-2"]],template:function(Et,Wt){1&Et&&(te.TgZ(0,"h3",0),te._uU(1,"Chart of age "),te.qZA(),te._UZ(2,"div",1),te.YNc(3,De,1,0,"p-skeleton",2)),2&Et&&(te.xp6(3),te.Q6J("ngIf",Wt.isLoading))},directives:[S.O5,mi.O],styles:[""]}),Tt})()},{path:"**",pathMatch:"full",redirectTo:""}];let Zt=(()=>{class Tt{}return Tt.\u0275fac=function(Et){return new(Et||Tt)},Tt.\u0275mod=te.oAB({type:Tt}),Tt.\u0275inj=te.cJS({imports:[[et.Bz.forChild(Hn)],et.Bz]}),Tt})(),xi=(()=>{class Tt{}return Tt.\u0275fac=function(Et){return new(Et||Tt)},Tt.\u0275mod=te.oAB({type:Tt}),Tt.\u0275inj=te.cJS({imports:[[S.ez,Zt,mi.m]]}),Tt})()},8734:function(ds,yi,ke){ds.exports=function(){"use strict";function S(n){var r=this;r.d3=window.d3?window.d3:ke(8983),r.api=n,r.config=r.getDefaultConfig(),r.data={},r.cache={},r.axes={}}function et(n){this.internal=new S(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function r(s,c,g){Object.keys(s).forEach(function(m){c[m]=s[m].bind(g),Object.keys(s[m]).length>0&&r(s[m],c[m],g)})}(et.prototype,this,this)}var Xn=function(n){return Math.ceil(n)+.5},te=function(n){return 10*Math.ceil(n/10)},Bn=function(n){return n[1]-n[0]},Yt=function(n,r,s){return Zt(n[r])?n[r]:s},mi=function(n){var r=De(n),s=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)];return{x:s[0].x,y:Math.min(s[0].y,s[1].y),width:r.width,height:r.height}},De=function(n){try{return n.getBBox()}catch(r){return{x:0,y:0,width:0,height:0}}},Hn=function(n){return Array.isArray(n)},Zt=function(n){return void 0!==n},xi=function(n){return null==n||Et(n)&&0===n.length||"object"==typeof n&&0===Object.keys(n).length},Tt=function(n){return"function"==typeof n},qe=function(n){return"number"==typeof n},Et=function(n){return"string"==typeof n},Wt=function(n){return void 0===n},gt=function(n){return n||0===n},Nt=function(n){return!xi(n)},ge=function(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},sn=function(n){var r=function(n){void 0===n&&(n=window.navigator.userAgent);var r=n.indexOf("MSIE ");return r>0?parseInt(n.substring(r+5,n.indexOf(".",r)),10):(r=n.indexOf("Trident/"))>0&&(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10))}();return void 0===n?!!r:n===r};function Ut(n,r){var s=this;s.component=n,s.params=r||{},s.d3=n.d3,s.scale=s.d3.scaleLinear(),s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickOffset=0,s.tickCulling=!0,s.tickTextRotate=s.params.tickTextRotate,s.axis=s.generateAxis()}Ut.prototype.axisX=function(n,r,s){n.attr("transform",function(c){return"translate("+Math.ceil(r(c)+s)+", 0)"})},Ut.prototype.axisY=function(n,r){n.attr("transform",function(s){return"translate(0,"+Math.ceil(r(s))+")"})},Ut.prototype.scaleExtent=function(n){var r=n[0],s=n[n.length-1];return r<s?[r,s]:[s,r]},Ut.prototype.generateTicks=function(n){var s,c,g=[];if(n.ticks)return n.ticks.apply(n,this.tickArguments);for(c=n.domain(),s=Math.ceil(c[0]);s<c[1];s++)g.push(s);return g.length>0&&g[0]>0&&g.unshift(g[0]-(g[1]-g[0])),g},Ut.prototype.copyScale=function(){var s,n=this,r=n.scale.copy();return n.params.isCategory&&(s=n.scale.domain(),r.domain([s[0],s[1]-1])),r},Ut.prototype.textFormatted=function(n){var s=this.tickFormat?this.tickFormat(n):n;return void 0!==s?s:""},Ut.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},Ut.prototype.updateTickTextCharSize=function(n){var r=this;if(r.tickTextCharSize)return r.tickTextCharSize;var s={h:11.5,w:5.5};return n.select("text").text(function(c){return r.textFormatted(c)}).each(function(c){var g=De(this),m=r.textFormatted(c),w=g.height,T=m?g.width/m.length:void 0;w&&T&&(s.h=w,s.w=T)}).text(""),r.tickTextCharSize=s,s},Ut.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},Ut.prototype.tspanData=function(n,r,s){var c=this,g=c.params.tickMultiline?c.splitTickText(n,s):[].concat(c.textFormatted(n));return c.params.tickMultiline&&c.params.tickMultilineMax>0&&(g=c.ellipsify(g,c.params.tickMultilineMax)),g.map(function(m){return{index:r,splitted:m,length:g.length}})},Ut.prototype.splitTickText=function(n,r){var m,w,s=this,c=s.textFormatted(n),g=s.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(c))return c;return(!g||g<=0)&&(g=s.isVertical()?95:s.params.isCategory?Math.ceil(r(1)-r(0))-12:110),function C(O,G){w=void 0;for(var Y=1;Y<G.length;Y++)if(" "===G.charAt(Y)&&(w=Y),m=G.substr(0,Y+1),g<s.tickTextCharSize.w*m.length)return C(O.concat(G.substr(0,w||Y)),G.slice(w?w+1:Y));return O.concat(G)}([],c+"")},Ut.prototype.ellipsify=function(n,r){if(n.length<=r)return n;for(var s=n.slice(0,r),c=3,g=r-1;g>=0;g--){var m=s[g].length;if(s[g]=s[g].substr(0,m-c).padEnd(m,"."),(c-=m)<=0)break}return s},Ut.prototype.updateTickLength=function(){var n=this;n.tickLength=Math.max(n.innerTickSize,0)+n.tickPadding},Ut.prototype.lineY2=function(n){var r=this,s=r.scale(n)+(r.tickCentered?0:r.tickOffset);return r.range[0]<s&&s<r.range[1]?r.innerTickSize:0},Ut.prototype.textY=function(){var r=this.tickTextRotate;return r?11.5-r/15*2.5*(r>0?1:-1):this.tickLength},Ut.prototype.textTransform=function(){var r=this.tickTextRotate;return r?"rotate("+r+")":""},Ut.prototype.textTextAnchor=function(){var r=this.tickTextRotate;return r?r>0?"start":"end":"middle"},Ut.prototype.tspanDx=function(){var r=this.tickTextRotate;return r?8*Math.sin(Math.PI*(r/180)):0},Ut.prototype.tspanDy=function(n,r){var s=this,c=s.tickTextCharSize.h;return 0===r&&(c=s.isVertical()?-(s.tickTextCharSize.h/2*(n.length-1)-3):".71em"),c},Ut.prototype.generateAxis=function(){var n=this,r=n.d3,s=n.params;function c(g,m){var w;return g.each(function(){var q,Z,tt,T=c.g=r.select(this),M=this.__chart__||n.scale,C=this.__chart__=n.copyScale(),O=n.tickValues?n.tickValues:n.generateTicks(C),G=T.selectAll(".tick").data(O,C),Y=G.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),z=G.exit().remove(),B=G.merge(Y);s.isCategory?(n.tickOffset=Math.ceil((C(1)-C(0))/2),Z=n.tickCentered?0:n.tickOffset,tt=n.tickCentered?n.tickOffset:0):n.tickOffset=Z=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(T.select(".tick"));var _t=B.select("line").merge(Y.append("line")),At=B.select("text").merge(Y.append("text")),Rt=B.selectAll("text").selectAll("tspan").data(function(at,ut){return n.tspanData(at,ut,C)}),Ot=Rt.enter().append("tspan").merge(Rt).text(function(at){return at.splitted});Rt.exit().remove();var Mt=T.selectAll(".domain").data([0]),pt=Mt.enter().append("path").merge(Mt).attr("class","domain");switch(n.orient){case"bottom":q=n.axisX,_t.attr("x1",Z).attr("x2",Z).attr("y2",function(at,ut){return n.lineY2(at,ut)}),At.attr("x",0).attr("y",function(at,ut){return n.textY(at,ut)}).attr("transform",function(at,ut){return n.textTransform(at,ut)}).style("text-anchor",function(at,ut){return n.textTextAnchor(at,ut)}),Ot.attr("x",0).attr("dy",function(at,ut){return n.tspanDy(at,ut)}).attr("dx",function(at,ut){return n.tspanDx(at,ut)}),pt.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break;case"top":q=n.axisX,_t.attr("x1",Z).attr("x2",Z).attr("y2",function(at,ut){return-1*n.lineY2(at,ut)}),At.attr("x",0).attr("y",function(at,ut){return-1*n.textY(at,ut)-(s.isCategory?2:n.tickLength-2)}).attr("transform",function(at,ut){return n.textTransform(at,ut)}).style("text-anchor",function(at,ut){return n.textTextAnchor(at,ut)}),Ot.attr("x",0).attr("dy",function(at,ut){return n.tspanDy(at,ut)}).attr("dx",function(at,ut){return n.tspanDx(at,ut)}),pt.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break;case"left":q=n.axisY,_t.attr("x2",-n.innerTickSize).attr("y1",tt).attr("y2",tt),At.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),Ot.attr("x",-n.tickLength).attr("dy",function(at,ut){return n.tspanDy(at,ut)}),pt.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break;case"right":q=n.axisY,_t.attr("x2",n.innerTickSize).attr("y1",tt).attr("y2",tt),At.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),Ot.attr("x",n.tickLength).attr("dy",function(at,ut){return n.tspanDy(at,ut)}),pt.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize)}if(C.rangeBand){var Ht=C,ht=Ht.rangeBand()/2;M=C=function(at){return Ht(at)+ht}}else M.rangeBand?M=C:z.call(q,C,n.tickOffset);Y.call(q,M,n.tickOffset),w=(m?B.transition(m):B).style("opacity",1).call(q,C,n.tickOffset)}),w}return c.scale=function(g){return arguments.length?(n.scale=g,c):n.scale},c.orient=function(g){return arguments.length?(n.orient=g in{top:1,right:1,bottom:1,left:1}?g+"":"bottom",c):n.orient},c.tickFormat=function(g){return arguments.length?(n.tickFormat=g,c):n.tickFormat},c.tickCentered=function(g){return arguments.length?(n.tickCentered=g,c):n.tickCentered},c.tickOffset=function(){return n.tickOffset},c.tickInterval=function(){var g;return(g=s.isCategory?2*n.tickOffset:(c.g.select("path.domain").node().getTotalLength()-2*n.outerTickSize)/c.g.selectAll("line").size())==1/0?0:g},c.ticks=function(){return arguments.length?(n.tickArguments=arguments,c):n.tickArguments},c.tickCulling=function(g){return arguments.length?(n.tickCulling=g,c):n.tickCulling},c.tickValues=function(g){if("function"==typeof g)n.tickValues=function(){return g(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=g}return c},c};var k={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},Ki=function n(r){this.owner=r,this.d3=r.d3,this.internal=Ut},yt=Ki;yt.prototype.init=function(){var r=this.owner,s=r.config,c=r.main;r.axes.x=c.append("g").attr("class",k.axis+" "+k.axisX).attr("clip-path",s.axis_x_inner?"":r.clipPathForXAxis).attr("transform",r.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),r.axes.x.append("text").attr("class",k.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),r.axes.y=c.append("g").attr("class",k.axis+" "+k.axisY).attr("clip-path",s.axis_y_inner?"":r.clipPathForYAxis).attr("transform",r.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),r.axes.y.append("text").attr("class",k.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),r.axes.y2=c.append("g").attr("class",k.axis+" "+k.axisY2).attr("transform",r.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),r.axes.y2.append("text").attr("class",k.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},yt.prototype.getXAxis=function(r,s,c,g,m,w,T){var M=this.owner,C=M.config,O={isCategory:M.isCategorized(),withOuterTick:m,tickMultiline:C.axis_x_tick_multiline,tickMultilineMax:C.axis_x_tick_multiline?Number(C.axis_x_tick_multilineMax):0,tickWidth:C.axis_x_tick_width,tickTextRotate:T?0:C.axis_x_tick_rotate,withoutTransition:w},G=new this.internal(this,O).axis.scale(r).orient(s);return M.isTimeSeries()&&g&&"function"!=typeof g&&(g=g.map(function(Y){return M.parseDate(Y)})),G.tickFormat(c).tickValues(g),M.isCategorized()&&(G.tickCentered(C.axis_x_tick_centered),xi(C.axis_x_tick_culling)&&(C.axis_x_tick_culling=!1)),G},yt.prototype.updateXAxisTickValues=function(r,s){var m,c=this.owner,g=c.config;return(g.axis_x_tick_fit||g.axis_x_tick_count)&&(m=this.generateTickValues(c.mapTargetsToUniqueXs(r),g.axis_x_tick_count,c.isTimeSeries())),s?s.tickValues(m):(c.xAxis.tickValues(m),c.subXAxis.tickValues(m)),m},yt.prototype.getYAxis=function(r,s,c,g,m,w,T){var M=this.owner,C=M.config,O=C["axis_"+r+"_tick_format"];!O&&M.isAxisNormalized(r)&&(O=function(Y){return Y+"%"});var G=new this.internal(this,{withOuterTick:m,withoutTransition:w,tickTextRotate:T?0:C.axis_y_tick_rotate}).axis.scale(s).orient(c);return O&&G.tickFormat(O),M.isTimeSeriesY()?G.ticks(C.axis_y_tick_time_type,C.axis_y_tick_time_interval):G.tickValues(g),G},yt.prototype.getId=function(r){var s=this.owner.config;return r in s.data_axes?s.data_axes[r]:"y"},yt.prototype.getXAxisTickFormat=function(){var r=this.owner,s=r.config,c=r.isTimeSeries()?r.defaultAxisTimeFormat:r.isCategorized()?r.categoryName:function(g){return g};return s.axis_x_tick_format&&(Tt(s.axis_x_tick_format)?c=s.axis_x_tick_format:r.isTimeSeries()&&(c=function(g){return g?r.axisTimeFormat(s.axis_x_tick_format)(g):""})),Tt(c)?function(g){return c.call(r,g)}:c},yt.prototype.getTickValues=function(r,s){return r||(s?s.tickValues():void 0)},yt.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},yt.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},yt.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},yt.prototype.getLabelOptionByAxisId=function(r){var g,c=this.owner.config;return"y"===r?g=c.axis_y_label:"y2"===r?g=c.axis_y2_label:"x"===r&&(g=c.axis_x_label),g},yt.prototype.getLabelText=function(r){var s=this.getLabelOptionByAxisId(r);return Et(s)?s:s?s.text:null},yt.prototype.setLabelText=function(r,s){var g=this.owner.config,m=this.getLabelOptionByAxisId(r);Et(m)?"y"===r?g.axis_y_label=s:"y2"===r?g.axis_y2_label=s:"x"===r&&(g.axis_x_label=s):m&&(m.text=s)},yt.prototype.getLabelPosition=function(r,s){var c=this.getLabelOptionByAxisId(r),g=c&&"object"==typeof c&&c.position?c.position:s;return{isInner:g.indexOf("inner")>=0,isOuter:g.indexOf("outer")>=0,isLeft:g.indexOf("left")>=0,isCenter:g.indexOf("center")>=0,isRight:g.indexOf("right")>=0,isTop:g.indexOf("top")>=0,isMiddle:g.indexOf("middle")>=0,isBottom:g.indexOf("bottom")>=0}},yt.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},yt.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},yt.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},yt.prototype.getLabelPositionById=function(r){return"y2"===r?this.getY2AxisLabelPosition():"y"===r?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},yt.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},yt.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},yt.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},yt.prototype.xForAxisLabel=function(r,s){var c=this.owner;return r?s.isLeft?0:s.isCenter?c.width/2:c.width:s.isBottom?-c.height:s.isMiddle?-c.height/2:0},yt.prototype.dxForAxisLabel=function(r,s){return r?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},yt.prototype.textAnchorForAxisLabel=function(r,s){return r?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},yt.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},yt.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},yt.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},yt.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},yt.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},yt.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},yt.prototype.dyForXAxisLabel=function(){var r=this.owner,s=r.config,c=this.getXAxisLabelPosition();return s.axis_rotated?c.isInner?"1.2em":-25-(r.config.axis_x_inner?0:this.getMaxTickWidth("x")):c.isInner?"-0.5em":r.getHorizontalAxisHeight("x")-10},yt.prototype.dyForYAxisLabel=function(){var r=this.owner,s=this.getYAxisLabelPosition();return r.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(r.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},yt.prototype.dyForY2AxisLabel=function(){var r=this.owner,s=this.getY2AxisLabelPosition();return r.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(r.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},yt.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},yt.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},yt.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},yt.prototype.getMaxTickWidth=function(r,s){var m,w,T,M,c=this.owner,g=0;return s&&c.currentMaxTickWidths[r]||(c.svg&&(m=c.filterTargetsToShow(c.data.targets),"y"===r?(w=c.y.copy().domain(c.getYDomain(m,"y")),T=this.getYAxis(r,w,c.yOrient,c.yAxisTickValues,!1,!0,!0)):"y2"===r?(w=c.y2.copy().domain(c.getYDomain(m,"y2")),T=this.getYAxis(r,w,c.y2Orient,c.y2AxisTickValues,!1,!0,!0)):(w=c.x.copy().domain(c.getXDomain(m)),T=this.getXAxis(w,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(m,T)),(M=c.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(T).each(function(){c.d3.select(this).selectAll("text").each(function(){var O=De(this);g<O.width&&(g=O.width)}),M.remove()})),c.currentMaxTickWidths[r]=g<=0?c.currentMaxTickWidths[r]:g),c.currentMaxTickWidths[r]},yt.prototype.updateLabels=function(r){var s=this.owner,c=s.main.select("."+k.axisX+" ."+k.axisXLabel),g=s.main.select("."+k.axisY+" ."+k.axisYLabel),m=s.main.select("."+k.axisY2+" ."+k.axisY2Label);(r?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(r?g.transition():g).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(r?m.transition():m).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},yt.prototype.getPadding=function(r,s,c,g){var m="number"==typeof r?r:r[s];return gt(m)?"ratio"===r.unit?r[s]*g:this.convertPixelsToAxisPadding(m,g):c},yt.prototype.convertPixelsToAxisPadding=function(r,s){var c=this.owner;return s*(r/(c.config.axis_rotated?c.width:c.height))},yt.prototype.generateTickValues=function(r,s,c){var m,w,T,M,C,O,G,g=r;if(s)if(1===(m=Tt(s)?s():s))g=[r[0]];else if(2===m)g=[r[0],r[r.length-1]];else if(m>2){for(C=((T=r[r.length-1])-(w=r[0]))/(1+(M=m-2)),g=[w],O=0;O<M;O++)G=+w+C*(O+1),g.push(c?new Date(G):G);g.push(T)}return c||(g=g.sort(function(Y,z){return Y-z})),g},yt.prototype.generateTransitions=function(r){var c=this.owner.axes;return{axisX:r?c.x.transition().duration(r):c.x,axisY:r?c.y.transition().duration(r):c.y,axisY2:r?c.y2.transition().duration(r):c.y2,axisSubX:r?c.subx.transition().duration(r):c.subx}},yt.prototype.redraw=function(r,s){var c=this.owner,g=r?c.d3.transition().duration(r):null;c.axes.x.style("opacity",s?0:1).call(c.xAxis,g),c.axes.y.style("opacity",s?0:1).call(c.yAxis,g),c.axes.y2.style("opacity",s?0:1).call(c.y2Axis,g),c.axes.subx.style("opacity",s?0:1).call(c.subXAxis,g)};var un={version:"0.7.20",chart:{fn:et.prototype,internal:{fn:S.prototype,axis:{fn:Ki.prototype,internal:{fn:Ut.prototype}}}},generate:function(n){return new et(n)}};function Ji(n,r,s){var c=[.01,10];function m(w){return s(r(w))}return r||(r=n.scaleLinear()).range(c),s||((s=n.scaleLog()).domain(c),s.nice()),m.domain=function(w){return arguments.length?(r.domain(w),m):r.domain()},m.range=function(w){return arguments.length?(s.range(w),m):s.range()},m.ticks=function(w){return function g(w,T,M){var C,O,G,Y;if(arguments.length<3)M=10;else if(0===M)return[];Y=(T-w)/(O=M-1),G=w,(C=new Array(M))[0]=Math.pow(10,G);for(var z=1;z<O;z++)G+=Y,C[z]=Math.pow(10,G);return C[O]=Math.pow(10,T),C}(-2,1,w||10).map(function(T){return r.invert(T)})},m.copy=function(){return Ji(n,r.copy(),s.copy())},m}function fa(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))==1}S.prototype.beforeInit=function(){},S.prototype.afterInit=function(){},S.prototype.init=function(){var n=this,r=n.config;if(n.initParams(),r.data_url)n.convertUrlToData(r.data_url,r.data_mimeType,r.data_headers,r.data_keys,n.initWithData);else if(r.data_json)n.initWithData(n.convertJsonToData(r.data_json,r.data_keys));else if(r.data_rows)n.initWithData(n.convertRowsToData(r.data_rows));else{if(!r.data_columns)throw Error("url or json or rows or columns is required.");n.initWithData(n.convertColumnsToData(r.data_columns))}},S.prototype.initParams=function(){var n=this,r=n.d3,s=n.config;n.clipId="c3-"+(new Date).valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(s.data_xLocaltime?r.timeParse:r.utcParse)(n.config.data_xFormat),n.axisTimeFormat=s.axis_x_localtime?r.timeFormat:r.utcFormat,n.defaultAxisTimeFormat=function(c){return c.getMilliseconds()?r.timeFormat(".%L")(c):c.getSeconds()?r.timeFormat(":%S")(c):c.getMinutes()?r.timeFormat("%I:%M")(c):c.getHours()?r.timeFormat("%I %p")(c):c.getDay()&&1!==c.getDate()||1!==c.getDate()||c.getMonth()?r.timeFormat("%-m/%-d")(c):r.timeFormat("%Y/%-m/%-d")(c)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",n.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",n.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",n.subXOrient=s.axis_rotated?"left":"bottom",n.isLegendRight="right"===s.legend_position,n.isLegendInset="inset"===s.legend_position,n.isLegendTop="top-left"===s.legend_inset_anchor||"top-right"===s.legend_inset_anchor,n.isLegendLeft="top-left"===s.legend_inset_anchor||"bottom-left"===s.legend_inset_anchor,n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=r.selectAll([])},S.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},S.prototype.initWithData=function(n){var g,m,r=this,s=r.d3,c=r.config,w=!0;r.axis=new Ki(r),r.selectChart=c.bindto?"function"==typeof c.bindto.node?c.bindto:s.select(c.bindto):s.selectAll([]),r.selectChart.empty()&&(r.selectChart=s.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),w=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(n),c.data_filter&&(r.data.targets=r.data.targets.filter(c.data_filter)),c.data_hide&&r.addHiddenTargetIds(!0===c.data_hide?r.mapToIds(r.data.targets):c.data_hide),c.legend_hide&&r.addHiddenLegendIds(!0===c.legend_hide?r.mapToIds(r.data.targets):c.legend_hide),r.isStanfordGraphType()&&r.initStanfordData(),r.updateSizes(),r.updateScales(),r.x.domain(s.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(r)}).on("mouseleave",function(){return c.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),g=r.svg.append("defs"),r.clipChart=r.appendClip(g,r.clipId),r.clipXAxis=r.appendClip(g,r.clipIdForXAxis),r.clipYAxis=r.appendClip(g,r.clipIdForYAxis),r.clipGrid=r.appendClip(g,r.clipIdForGrid),r.clipSubchart=r.appendClip(g,r.clipIdForSubchart),r.updateSvgSize(),m=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),c.subchart_show&&r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.isStanfordGraphType()&&r.drawColorScale(),c.subchart_show&&r.initSubchartBrush&&r.initSubchartBrush(),m.append("text").attr("class",k.text+" "+k.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),m.append("g").attr("clip-path",r.clipPath).attr("class",k.chart),c.grid_lines_front&&r.initGridLines(),r.initStanfordElements(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),c.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),w&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.bindWindowFocus(),r.api.element=r.selectChart.node()},S.prototype.smoothLines=function(n,r){var s=this;"grid"===r&&n.each(function(){var c=s.d3.select(this),g=c.attr("x1"),m=c.attr("x2"),w=c.attr("y1"),T=c.attr("y2");c.attr({x1:Math.ceil(g),x2:Math.ceil(m),y1:Math.ceil(w),y2:Math.ceil(T)})})},S.prototype.updateSizes=function(){var n=this,r=n.config,s=n.legend?n.getLegendHeight():0,c=n.legend?n.getLegendWidth():0,g=n.isLegendRight||n.isLegendInset?0:s,m=n.hasArcType(),w=r.axis_rotated||m?0:n.getHorizontalAxisHeight("x"),T=r.axis_rotated||m?0:n.getHorizontalAxisHeight("x",!0),M=r.subchart_show&&!m?r.subchart_size_height+T:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=r.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:m?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+g+n.getCurrentPaddingBottom(),left:M+(m?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:m?0:n.getCurrentPaddingRight(),bottom:w+M+g+n.getCurrentPaddingBottom(),left:m?0:n.getCurrentPaddingLeft()},n.margin2=r.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+g,left:n.rotated_padding_left}:{top:n.currentHeight-M-g,right:NaN,bottom:T+g,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(s,c),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=r.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=r.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?c+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!r.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&m&&(n.margin3.left=n.arcWidth/2+1.1*n.radiusExpanded)},S.prototype.updateTargets=function(n){var r=this,s=r.config;r.updateTargetsForText(n),r.updateTargetsForBar(n),r.updateTargetsForLine(n),r.hasArcType()&&r.updateTargetsForArc&&r.updateTargetsForArc(n),s.subchart_show&&r.updateTargetsForSubchart&&r.updateTargetsForSubchart(n),r.showTargets()},S.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+k.target).filter(function(r){return n.isTargetToShow(r.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},S.prototype.redraw=function(n,r){var C,O,G,Y,z,B,q,Z,tt,_t,At,Rt,Pt,Mt,pt,Ht,ht,at,ut,qt,re,ue,ee,ae,pe,J,mt,Fe,cn,fn,ze,s=this,c=s.main,g=s.d3,m=s.config,w=s.getShapeIndices(s.isAreaType),T=s.getShapeIndices(s.isBarType),M=s.getShapeIndices(s.isLineType),Ot=s.hasArcType(),Xt=s.filterTargetsToShow(s.data.targets),er=s.xv.bind(s);if(C=Yt(n=n||{},"withY",!0),O=Yt(n,"withSubchart",!0),G=Yt(n,"withTransition",!0),B=Yt(n,"withTransform",!1),q=Yt(n,"withUpdateXDomain",!1),Z=Yt(n,"withUpdateOrgXDomain",!1),tt=Yt(n,"withTrimXDomain",!0),Pt=Yt(n,"withUpdateXAxis",q),_t=Yt(n,"withLegend",!1),At=Yt(n,"withEventRect",!0),Rt=Yt(n,"withDimension",!0),Y=Yt(n,"withTransitionForExit",G),z=Yt(n,"withTransitionForAxis",G),ut=G?m.transition_duration:0,qt=Y?ut:0,re=z?ut:0,r=r||s.axis.generateTransitions(re),_t&&m.legend_show?s.updateLegend(s.mapToIds(s.data.targets),n,r):Rt&&s.updateDimension(!0),s.isCategorized()&&0===Xt.length&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Xt.length?(s.updateXDomain(Xt,q,Z,tt),m.axis_x_tick_values||(J=s.axis.updateXAxisTickValues(Xt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),m.zoom_rescale&&!n.flow&&(cn=s.x.orgDomain()),s.y.domain(s.getYDomain(Xt,"y",cn)),s.y2.domain(s.getYDomain(Xt,"y2",cn)),!m.axis_y_tick_values&&m.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),m.axis_y_tick_count)),!m.axis_y2_tick_values&&m.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),m.axis_y2_tick_count)),s.axis.redraw(re,Ot),s.axis.updateLabels(G),(q||Pt)&&Xt.length)if(m.axis_x_tick_culling&&J){for(mt=1;mt<J.length;mt++)if(J.length/mt<m.axis_x_tick_culling_max){Fe=mt;break}s.svg.selectAll("."+k.axisX+" .tick text").each(function(Re){var ln=J.indexOf(Re);ln>=0&&g.select(this).style("display",ln%Fe?"none":"block")})}else s.svg.selectAll("."+k.axisX+" .tick text").style("display","block");Mt=s.generateDrawArea?s.generateDrawArea(w,!1):void 0,pt=s.generateDrawBar?s.generateDrawBar(T):void 0,Ht=s.generateDrawLine?s.generateDrawLine(M,!1):void 0,ht=s.generateXYForText(w,T,M,!0),at=s.generateXYForText(w,T,M,!1),s.updateCircleY(),fn=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),ze=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),C&&(s.subY.domain(s.getYDomain(Xt,"y")),s.subY2.domain(s.getYDomain(Xt,"y2"))),s.updateXgridFocus(),c.select("text."+k.text+"."+k.empty).attr("x",s.width/2).attr("y",s.height/2).text(m.data_empty_label_text).transition().style("opacity",Xt.length?0:1),At&&s.redrawEventRect(),s.updateGrid(ut),s.updateStanfordElements(ut),s.updateRegion(ut),s.updateBar(qt),s.updateLine(qt),s.updateArea(qt),s.updateCircle(fn,ze),s.hasDataLabel()&&s.updateText(ht,at,qt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(ut,qt,B),m.subchart_show&&s.redrawSubchart&&s.redrawSubchart(O,r,ut,qt,w,T,M),s.isStanfordGraphType()&&s.drawColorScale(),c.selectAll("."+k.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),n.flow&&(ae=s.generateFlow({targets:Xt,flow:n.flow,duration:n.flow.duration,drawBar:pt,drawLine:Ht,drawArea:Mt,cx:fn,cy:ze,xv:er,xForText:ht,yForText:at})),ut&&s.isTabVisible()?(pe=g.transition().duration(ut),ue=[],[s.redrawBar(pt,!0,pe),s.redrawLine(Ht,!0,pe),s.redrawArea(Mt,!0,pe),s.redrawCircle(fn,ze,!0,pe),s.redrawText(ht,at,n.flow,!0,pe),s.redrawRegion(!0,pe),s.redrawGrid(!0,pe)].forEach(function(Re){Re.forEach(function(ln){ue.push(ln)})}),ee=s.generateWait(),ue.forEach(function(Re){ee.add(Re)}),ee(function(){ae&&ae(),m.onrendered&&m.onrendered.call(s)})):(s.redrawBar(pt),s.redrawLine(Ht),s.redrawArea(Mt),s.redrawCircle(fn,ze),s.redrawText(ht,at,n.flow),s.redrawRegion(),s.redrawGrid(),ae&&ae(),m.onrendered&&m.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(Re){s.withoutFadeIn[Re]=!0})},S.prototype.updateAndRedraw=function(n){var c,r=this,s=r.config;(n=n||{}).withTransition=Yt(n,"withTransition",!0),n.withTransform=Yt(n,"withTransform",!1),n.withLegend=Yt(n,"withLegend",!1),n.withUpdateXDomain=Yt(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=Yt(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=Yt(n,"withTransitionForTransform",n.withTransition),r.updateSizes(),n.withLegend&&s.legend_show||(c=r.axis.generateTransitions(n.withTransitionForAxis?s.transition_duration:0),r.updateScales(),r.updateSvgSize(),r.transformAll(n.withTransitionForTransform,c)),r.redraw(n,c)},S.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},S.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},S.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},S.prototype.isCustomX=function(){var r=this.config;return!this.isTimeSeries()&&(r.data_x||Nt(r.data_xs))},S.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},S.prototype.getTranslate=function(n){var c,g,r=this,s=r.config;return"main"===n?(c=Xn(r.margin.left),g=Xn(r.margin.top)):"context"===n?(c=Xn(r.margin2.left),g=Xn(r.margin2.top)):"legend"===n?(c=r.margin3.left,g=r.margin3.top):"x"===n?(c=0,g=s.axis_rotated?0:r.height):"y"===n?(c=0,g=s.axis_rotated?r.height:0):"y2"===n?(c=s.axis_rotated?0:r.width,g=s.axis_rotated?1:0):"subx"===n?(c=0,g=s.axis_rotated?0:r.height2):"arc"===n&&(c=r.arcWidth/2,g=r.arcHeight/2-(r.hasType("gauge")?6:0)),"translate("+c+","+g+")"},S.prototype.initialOpacity=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?1:0},S.prototype.initialOpacityForCircle=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},S.prototype.opacityForCircle=function(n){var s=(Tt(this.config.point_show)?this.config.point_show(n):this.config.point_show)||this.isStanfordType(n)?1:0;return gt(n.value)?this.isScatterType(n)?.5:s:0},S.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},S.prototype.xx=function(n){return n?this.x(n.x):null},S.prototype.xvCustom=function(n,r){var s=this,c=r?n[r]:n.value;return s.isTimeSeries()?c=s.parseDate(n.value):s.isCategorized()&&"string"==typeof n.value&&(c=s.config.axis_x_categories.indexOf(n.value)),Math.ceil(s.x(c))},S.prototype.yvCustom=function(n,r){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(r?n[r]:n.value))},S.prototype.xv=function(n){var r=this,s=n.value;return r.isTimeSeries()?s=r.parseDate(n.value):r.isCategorized()&&"string"==typeof n.value&&(s=r.config.axis_x_categories.indexOf(n.value)),Math.ceil(r.x(s))},S.prototype.yv=function(n){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(n.value))},S.prototype.subxx=function(n){return n?this.subX(n.x):null},S.prototype.transformMain=function(n,r){var c,g,m,s=this;r&&r.axisX?c=r.axisX:(c=s.main.select("."+k.axisX),n&&(c=c.transition())),r&&r.axisY?g=r.axisY:(g=s.main.select("."+k.axisY),n&&(g=g.transition())),r&&r.axisY2?m=r.axisY2:(m=s.main.select("."+k.axisY2),n&&(m=m.transition())),(n?s.main.transition():s.main).attr("transform",s.getTranslate("main")),c.attr("transform",s.getTranslate("x")),g.attr("transform",s.getTranslate("y")),m.attr("transform",s.getTranslate("y2")),s.main.select("."+k.chartArcs).attr("transform",s.getTranslate("arc"))},S.prototype.transformAll=function(n,r){var s=this;s.transformMain(n,r),s.config.subchart_show&&s.transformContext(n,r),s.legend&&s.transformLegend(n)},S.prototype.updateSvgSize=function(){var n=this,r=n.svg.select("."+k.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",r.size()&&r.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},S.prototype.updateDimension=function(n){var r=this;n||(r.config.axis_rotated?(r.axes.x.call(r.xAxis),r.axes.subx.call(r.subXAxis)):(r.axes.y.call(r.yAxis),r.axes.y2.call(r.y2Axis))),r.updateSizes(),r.updateScales(),r.updateSvgSize(),r.transformAll(!1)},S.prototype.observeInserted=function(n){var s,r=this;"undefined"!=typeof MutationObserver?(s=new MutationObserver(function(c){c.forEach(function(g){"childList"===g.type&&g.previousSibling&&(s.disconnect(),r.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})})).observe(n.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},S.prototype.bindResize=function(){var n=this,r=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){r.onresize.call(n)}),r.resize_auto&&n.resizeFunction.add(function(){void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){r.onresized.call(n)}),n.resizeIfElementDisplayed=function(){null==n.api||!n.api.element.offsetParent||n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},S.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},S.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},S.prototype.generateResize=function(){var n=[];function r(){n.forEach(function(s){s()})}return r.add=function(s){n.push(s)},r.remove=function(s){for(var c=0;c<n.length;c++)if(n[c]===s){n.splice(c,1);break}},r},S.prototype.endall=function(n,r){var s=0;n.each(function(){++s}).on("end",function(){--s||r.apply(this,arguments)})},S.prototype.generateWait=function(){var n=this,r=[],s=function(c){var g=setInterval(function(){if(n.isTabVisible()){var m=0;r.forEach(function(w){if(w.empty())m+=1;else try{w.transition()}catch(T){m+=1}}),m===r.length&&(clearInterval(g),c&&c())}},50)};return s.add=function(c){r.push(c)},s},S.prototype.parseDate=function(n){var s;return n instanceof Date?s=n:"string"==typeof n?s=this.dataTimeParse(n):("object"==typeof n||"number"==typeof n&&!isNaN(n))&&(s=new Date(+n)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+n+"' to Date object"),s},S.prototype.isTabVisible=function(){return!document.hidden},S.prototype.getPathBox=mi,S.prototype.CLASS=k,"SVGPathSeg"in window||(window.SVGPathSeg=function(n,r,s){this.pathSegType=n,this.pathSegTypeAsLetter=r,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=r,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=r,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=r,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=r,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,r,s,c,g,m,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=r,this._y=s,this._x1=c,this._y1=g,this._x2=m,this._y2=w},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,r,s,c,g,m,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=r,this._y=s,this._x1=c,this._y1=g,this._x2=m,this._y2=w},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,r,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=r,this._y=s,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,r,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=r,this._y=s,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,r,s,c,g,m,w,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=r,this._y=s,this._r1=c,this._r2=g,this._angle=m,this._largeArcFlag=w,this._sweepFlag=T},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,r,s,c,g,m,w,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=r,this._y=s,this._r1=c,this._r2=g,this._angle=m,this._largeArcFlag=w,this._sweepFlag=T},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=r},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=r},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=r},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=r},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=r,this._y=s,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,r,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=r,this._y=s,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,r){return new window.SVGPathSegMovetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,r){return new window.SVGPathSegMovetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,r){return new window.SVGPathSegLinetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,r){return new window.SVGPathSegLinetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,r,s,c,g,m){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,r,s,c,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,r,s,c,g,m){return new window.SVGPathSegCurvetoCubicRel(void 0,n,r,s,c,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,r,s,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,r,s,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,r,s,c,g,m,w){return new window.SVGPathSegArcAbs(void 0,n,r,s,c,g,m,w)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,r,s,c,g,m,w){return new window.SVGPathSegArcRel(void 0,n,r,s,c,g,m,w)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,r,s,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,r)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(void 0===n||!isFinite(n))throw"Invalid arguments.";var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.getAttribute("d"));var s=r.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(r.pathSegList.removeItem(s),n>r.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(this._pathElement){var r=!1;n.forEach(function(s){"d"==s.attributeName&&(r=!0)}),r&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,r){return this._checkPathSynchronizedToList(),r>this.numberOfItems&&(r=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(r,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,r){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(r),this._list[r]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var r=this._list[n];return this._list.splice(n,1),this._writeListToPath(),r},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var r="",s=!0;return n.forEach(function(c){s?(s=!1,r+=c._asPathString()):r+=" "+c._asPathString()}),r},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||0==n.length)return[];var r=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(T){this.pathSegList.push(T)};var c=function(T){this._string=T,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var T=this._string[this._currentIndex];return T<=" "&&(" "==T||"\n"==T||"\t"==T||"\r"==T||"\f"==T)},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},c.prototype._pathSegTypeFromChar=function(T){switch(T){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(T,M){return("+"==T||"-"==T||"."==T||T>="0"&&T<="9")&&M!=window.SVGPathSeg.PATHSEG_CLOSEPATH?M==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:M==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:M:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var T=this.peekSegmentType();return T==window.SVGPathSeg.PATHSEG_MOVETO_ABS||T==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var T=0,M=0,C=1,O=0,G=1,Y=1,z=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,G=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var B=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=B)for(var q=this._currentIndex-1,Z=1;q>=B;)M+=Z*(this._string.charAt(q--)-"0"),Z*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)C*=10,O+=(this._string.charAt(this._currentIndex)-"0")/C,this._currentIndex+=1}if(this._currentIndex!=z&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,Y=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)T*=10,T+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var tt=M+O;if(tt*=G,T&&(tt*=Math.pow(10,Y*T)),z!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),tt}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var T=!1,M=this._string.charAt(this._currentIndex++);if("0"==M)T=!1;else{if("1"!=M)return;T=!0}return this._skipOptionalSpacesOrDelimiter(),T}},c.prototype.parseSegment=function(){var T=this._string[this._currentIndex],M=this._pathSegTypeFromChar(T);if(M==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(M=this._nextCommandHelper(T,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=M,M){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(r);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(r,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(r,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(r,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(r,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(r,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(r,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(r,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(r,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);default:throw"Unknown path seg type."}};var g=new s,m=new c(n);if(!m.initialCommandIsMoveTo())return[];for(;m.hasMoreData();){var w=m.parseSegment();if(!w)return[];g.appendSegment(w)}return g.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(r,s){return r>>=0,s=String(void 0!==s?s:" "),this.length>r?String(this):((r-=this.length)>s.length&&(s+=s.repeat(r/s.length)),String(this)+s.slice(0,r))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(r,s){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(r),g=1;g<arguments.length;g++){var m=arguments[g];if(null!=m)for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(c[w]=m[w])}return c},writable:!0,configurable:!0}),(et.prototype.axis=function(){}).labels=function(n){var r=this.internal;arguments.length&&(Object.keys(n).forEach(function(s){r.axis.setLabelText(s,n[s])}),r.axis.updateLabels())},et.prototype.axis.max=function(n){var r=this.internal,s=r.config;if(!arguments.length)return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max};"object"==typeof n?(gt(n.x)&&(s.axis_x_max=n.x),gt(n.y)&&(s.axis_y_max=n.y),gt(n.y2)&&(s.axis_y2_max=n.y2)):s.axis_y_max=s.axis_y2_max=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},et.prototype.axis.min=function(n){var r=this.internal,s=r.config;if(!arguments.length)return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min};"object"==typeof n?(gt(n.x)&&(s.axis_x_min=n.x),gt(n.y)&&(s.axis_y_min=n.y),gt(n.y2)&&(s.axis_y2_min=n.y2)):s.axis_y_min=s.axis_y2_min=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},et.prototype.axis.range=function(n){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};Zt(n.max)&&this.axis.max(n.max),Zt(n.min)&&this.axis.min(n.min)},et.prototype.axis.types=function(n){var r=this.internal;if(void 0===n)return{y:r.config.axis_y_type,y2:r.config.axis_y2_type};Zt(n.y)&&(r.config.axis_y_type=n.y),Zt(n.y2)&&(r.config.axis_y2_type=n.y2),r.updateScales(),r.redraw()},et.prototype.category=function(n,r){var s=this.internal,c=s.config;return arguments.length>1&&(c.axis_x_categories[n]=r,s.redraw()),c.axis_x_categories[n]},et.prototype.categories=function(n){var r=this.internal,s=r.config;return arguments.length&&(s.axis_x_categories=n,r.redraw()),s.axis_x_categories},et.prototype.resize=function(n){var s=this.internal.config;s.size_width=n?n.width:null,s.size_height=n?n.height:null,this.flush()},et.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},et.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(r){n[r]=null}),null},et.prototype.color=function(n){return this.internal.color(n)},(et.prototype.data=function(n){var r=this.internal.data.targets;return void 0===n?r:r.filter(function(s){return[].concat(n).indexOf(s.id)>=0})}).shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},et.prototype.data.values=function(n,r){void 0===r&&(r=!0);var s=null;if(n){var c=this.data(n);c&&Hn(c)&&(s=c.reduce(function(g,m){var w=m.values.map(function(T){return T.value});return r?g=g.concat(w):g.push(w),g},[]))}return s},et.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},et.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},et.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},et.prototype.data.stackNormalized=function(n){if(void 0===n)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},(et.prototype.donut=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},et.prototype.flow=function(n){var s,c,T,M,C,Y,z,r=this.internal,g=[],m=r.getMaxDataCount(),O=0,G=0;if(n.json)c=r.convertJsonToData(n.json,n.keys);else if(n.rows)c=r.convertRowsToData(n.rows);else{if(!n.columns)return;c=r.convertColumnsToData(n.columns)}s=r.convertDataToTargets(c,!0),r.data.targets.forEach(function(B){var Z,tt,q=!1;for(Z=0;Z<s.length;Z++)if(B.id===s[Z].id){for(q=!0,B.values[B.values.length-1]&&(G=B.values[B.values.length-1].index+1),O=s[Z].values.length,tt=0;tt<O;tt++)s[Z].values[tt].index=G+tt,r.isTimeSeries()||(s[Z].values[tt].x=G+tt);B.values=B.values.concat(s[Z].values),s.splice(Z,1);break}q||g.push(B.id)}),r.data.targets.forEach(function(B){var q,Z;for(q=0;q<g.length;q++)if(B.id===g[q])for(G=B.values[B.values.length-1].index+1,Z=0;Z<O;Z++)B.values.push({id:B.id,index:G+Z,x:r.isTimeSeries()?r.getOtherTargetX(G+Z):G+Z,value:null})}),r.data.targets.length&&s.forEach(function(B){var q,Z=[];for(q=r.data.targets[0].values[0].index;q<G;q++)Z.push({id:B.id,index:q,x:r.isTimeSeries()?r.getOtherTargetX(q):q,value:null});B.values.forEach(function(tt){tt.index+=G,r.isTimeSeries()||(tt.x+=G)}),B.values=Z.concat(B.values)}),r.data.targets=r.data.targets.concat(s),r.getMaxDataCount(),C=(M=r.data.targets[0]).values[0],Zt(n.to)?(O=0,z=r.isTimeSeries()?r.parseDate(n.to):n.to,M.values.forEach(function(B){B.x<z&&O++})):Zt(n.length)&&(O=n.length),m?1===m&&r.isTimeSeries()&&(Y=(M.values[M.values.length-1].x-C.x)/2,T=[new Date(+C.x-Y),new Date(+C.x+Y)],r.updateXDomain(null,!0,!0,!1,T)):(Y=r.isTimeSeries()?M.values.length>1?M.values[M.values.length-1].x-C.x:C.x-r.getXDomain(r.data.targets)[0]:1,r.updateXDomain(null,!0,!0,!1,T=[C.x-Y,C.x])),r.updateTargets(r.data.targets),r.redraw({flow:{index:C.index,length:O,duration:gt(n.duration)?n.duration:r.config.transition_duration,done:n.done,orgDataCount:m},withLegend:!0,withTransition:m>1,withTrimXDomain:!1,withUpdateXAxis:!0})},S.prototype.generateFlow=function(n){var r=this,s=r.config,c=r.d3;return function(){var q,tt,Mt,at,ut,qt,re,ue,ee,ae,pe,g=n.targets,m=n.flow,w=n.drawBar,T=n.drawLine,M=n.drawArea,C=n.cx,O=n.cy,G=n.xv,Y=n.xForText,z=n.yForText,B=n.duration,_t=m.index,At=m.length,Rt=r.getValueOnIndex(r.data.targets[0].values,_t),Pt=r.getValueOnIndex(r.data.targets[0].values,_t+At),Ot=r.x.domain(),pt=m.duration||B,Ht=m.done||function(){},ht=r.generateWait();r.flowing=!0,r.data.targets.forEach(function(J){J.values.splice(0,At)}),Mt=r.updateXDomain(g,!0,!0),r.updateXGrid&&r.updateXGrid(!0),at=r.xgrid||c.selectAll([]),ut=r.xgridLines||c.selectAll([]),qt=r.mainRegion||c.selectAll([]),re=r.mainText||c.selectAll([]),ue=r.mainBar||c.selectAll([]),ee=r.mainLine||c.selectAll([]),ae=r.mainArea||c.selectAll([]),pe=r.mainCircle||c.selectAll([]),m.orgDataCount?q=1===m.orgDataCount||(Rt&&Rt.x)===(Pt&&Pt.x)||r.isTimeSeries()?r.x(Ot[0])-r.x(Mt[0]):r.x(Rt.x)-r.x(Pt.x):1!==r.data.targets[0].values.length?q=r.x(Ot[0])-r.x(Mt[0]):r.isTimeSeries()?(Rt=r.getValueOnIndex(r.data.targets[0].values,0),Pt=r.getValueOnIndex(r.data.targets[0].values,r.data.targets[0].values.length-1),q=r.x(Rt.x)-r.x(Pt.x)):q=Bn(Mt)/2,tt="translate("+q+",0) scale("+Bn(Ot)/Bn(Mt)+",1)",r.hideXGridFocus();var Xt=c.transition().ease(c.easeLinear).duration(pt);ht.add(r.xAxis(r.axes.x,Xt)),ht.add(ue.transition(Xt).attr("transform",tt)),ht.add(ee.transition(Xt).attr("transform",tt)),ht.add(ae.transition(Xt).attr("transform",tt)),ht.add(pe.transition(Xt).attr("transform",tt)),ht.add(re.transition(Xt).attr("transform",tt)),ht.add(qt.filter(r.isRegionOnX).transition(Xt).attr("transform",tt)),ht.add(at.transition(Xt).attr("transform",tt)),ht.add(ut.transition(Xt).attr("transform",tt)),ht(function(){var J,mt=[],Fe=[];if(At){for(J=0;J<At;J++)mt.push("."+k.shape+"-"+(_t+J)),Fe.push("."+k.text+"-"+(_t+J));r.svg.selectAll("."+k.shapes).selectAll(mt).remove(),r.svg.selectAll("."+k.texts).selectAll(Fe).remove(),r.svg.select("."+k.xgrid).remove()}at.attr("transform",null).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),ut.attr("transform",null),ut.select("line").attr("x1",s.axis_rotated?0:G).attr("x2",s.axis_rotated?r.width:G),ut.select("text").attr("x",s.axis_rotated?r.width:0).attr("y",G),ue.attr("transform",null).attr("d",w),ee.attr("transform",null).attr("d",T),ae.attr("transform",null).attr("d",M),pe.attr("transform",null).attr("cx",C).attr("cy",O),re.attr("transform",null).attr("x",Y).attr("y",z).style("fill-opacity",r.opacityForText.bind(r)),qt.attr("transform",null),qt.filter(r.isRegionOnX).attr("x",r.regionX.bind(r)).attr("width",r.regionWidth.bind(r)),Ht(),r.flowing=!1})}},et.prototype.focus=function(n){var s,r=this.internal;n=r.mapToTargetIds(n),s=r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))),this.revert(),this.defocus(),s.classed(k.focused,!0).classed(k.defocused,!1),r.hasArcType()&&r.expandArc(n),r.toggleFocusLegend(n,!0),r.focusedTargetIds=n,r.defocusedTargetIds=r.defocusedTargetIds.filter(function(c){return n.indexOf(c)<0})},et.prototype.defocus=function(n){var r=this.internal;n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))).classed(k.focused,!1).classed(k.defocused,!0),r.hasArcType()&&r.unexpandArc(n),r.toggleFocusLegend(n,!1),r.focusedTargetIds=r.focusedTargetIds.filter(function(c){return n.indexOf(c)<0}),r.defocusedTargetIds=n},et.prototype.revert=function(n){var r=this.internal;n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n)).classed(k.focused,!1).classed(k.defocused,!1),r.hasArcType()&&r.unexpandArc(n),r.config.legend_show&&(r.showLegend(n.filter(r.isLegendToShow.bind(r))),r.legend.selectAll(r.selectorLegends(n)).filter(function(){return r.d3.select(this).classed(k.legendItemFocused)}).classed(k.legendItemFocused,!1)),r.focusedTargetIds=[],r.defocusedTargetIds=[]},(et.prototype.xgrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_x_lines=n,r.redrawWithoutRescale()),s.grid_x_lines}).add=function(n){return this.xgrids(this.internal.config.grid_x_lines.concat(n||[]))},et.prototype.xgrids.remove=function(n){this.internal.removeGridLines(n,!0)},(et.prototype.ygrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_y_lines=n,r.redrawWithoutRescale()),s.grid_y_lines}).add=function(n){return this.ygrids(this.internal.config.grid_y_lines.concat(n||[]))},et.prototype.ygrids.remove=function(n){this.internal.removeGridLines(n,!1)},et.prototype.groups=function(n){var r=this.internal,s=r.config;return Wt(n)||(s.data_groups=n,r.redraw()),s.data_groups},(et.prototype.legend=function(){}).show=function(n){var r=this.internal;r.showLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!0})},et.prototype.legend.hide=function(n){var r=this.internal;r.hideLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!1})},et.prototype.load=function(n){var r=this.internal,s=r.config;n.xs&&r.addXs(n.xs),"names"in n&&et.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(c){s.data_classes[c]=n.classes[c]}),"categories"in n&&r.isCategorized()&&(s.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(c){s.data_axes[c]=n.axes[c]}),"colors"in n&&Object.keys(n.colors).forEach(function(c){s.data_colors[c]=n.colors[c]}),"cacheIds"in n&&r.hasCaches(n.cacheIds)?r.load(r.getCaches(n.cacheIds),n.done):n.unload?r.unload(r.mapToTargetIds(!0===n.unload?null:n.unload),function(){r.loadFromArgs(n)}):r.loadFromArgs(n)},et.prototype.unload=function(n){var r=this.internal;(n=n||{})instanceof Array?n={ids:n}:"string"==typeof n&&(n={ids:[n]}),r.unload(r.mapToTargetIds(n.ids),function(){r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},(et.prototype.pie=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},(et.prototype.regions=function(n){var r=this.internal,s=r.config;return n&&(s.regions=n,r.redrawWithoutRescale()),s.regions}).add=function(n){var r=this.internal,s=r.config;return n&&(s.regions=s.regions.concat(n),r.redrawWithoutRescale()),s.regions},et.prototype.regions.remove=function(n){var c,g,m,r=this.internal,s=r.config;return c=Yt(n=n||{},"duration",s.transition_duration),g=Yt(n,"classes",[k.region]),m=r.main.select("."+k.regions).selectAll(g.map(function(w){return"."+w})),(c?m.transition().duration(c):m).style("opacity",0).remove(),s.regions=s.regions.filter(function(w){var T=!1;return!w.class||(w.class.split(" ").forEach(function(M){g.indexOf(M)>=0&&(T=!0)}),!T)}),s.regions},et.prototype.selected=function(n){var r=this.internal,s=r.d3;return r.main.selectAll("."+k.shapes+r.getTargetSelectorSuffix(n)).selectAll("."+k.shape).filter(function(){return s.select(this).classed(k.SELECTED)}).nodes().map(function(c){var g=c.__data__;return g.data?g.data:g})},et.prototype.select=function(n,r,s){var c=this.internal,g=c.d3,m=c.config;!m.data_selection_enabled||c.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(w,T){var M=g.select(this),C=w.data?w.data.id:w.id,O=c.getToggle(this,w).bind(c),G=m.data_selection_grouped||!n||n.indexOf(C)>=0,Y=!r||r.indexOf(T)>=0,z=M.classed(k.SELECTED);M.classed(k.line)||M.classed(k.area)||(G&&Y?m.data_selection_isselectable(w)&&!z&&O(!0,M.classed(k.SELECTED,!0),w,T):Zt(s)&&s&&z&&O(!1,M.classed(k.SELECTED,!1),w,T))})},et.prototype.unselect=function(n,r){var s=this.internal,c=s.d3,g=s.config;!g.data_selection_enabled||s.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(m,w){var T=c.select(this),M=m.data?m.data.id:m.id,C=s.getToggle(this,m).bind(s),O=g.data_selection_grouped||!n||n.indexOf(M)>=0,G=!r||r.indexOf(w)>=0,Y=T.classed(k.SELECTED);T.classed(k.line)||T.classed(k.area)||O&&G&&g.data_selection_isselectable(m)&&Y&&C(!1,T.classed(k.SELECTED,!1),m,w)})},et.prototype.show=function(n,r){var c,s=this.internal;n=s.mapToTargetIds(n),r=r||{},s.removeHiddenTargetIds(n),(c=s.svg.selectAll(s.selectorTargets(n))).transition().style("display",sn()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",1)}),r.withLegend&&s.showLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},et.prototype.hide=function(n,r){var c,s=this.internal;n=s.mapToTargetIds(n),r=r||{},s.addHiddenTargetIds(n),(c=s.svg.selectAll(s.selectorTargets(n))).transition().style("opacity",0,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",0),c.style("display","none")}),r.withLegend&&s.hideLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},et.prototype.toggle=function(n,r){var s=this,c=this.internal;c.mapToTargetIds(n).forEach(function(g){c.isTargetToShow(g)?s.hide(g,r):s.show(g,r)})},(et.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},et.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(r){n.withoutFadeIn[r]=!1}),n.updateAndRedraw(),n.showTargets())},et.prototype.subchart.hide=function(){var n=this.internal;!n.config.subchart_show||(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},(et.prototype.tooltip=function(){}).show=function(n){var s,c,r=this.internal,g={};n.mouse?g=n.mouse:(n.data?c=n.data:void 0!==n.x&&(s=n.id?r.data.targets.filter(function(m){return m.id===n.id}):r.data.targets,c=r.filterByX(s,n.x).slice(0,1)[0]),g=c?r.getMousePosition(c):null),r.dispatchEvent("mousemove",g),r.config.tooltip_onshow.call(r,c)},et.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},et.prototype.transform=function(n,r){var s=this.internal,c=["pie","donut"].indexOf(n)>=0?{withTransform:!0}:null;s.transformTo(r,n,c)},S.prototype.transformTo=function(n,r,s){var c=this,g=!c.hasArcType(),m=s||{withTransitionForAxis:g};m.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(n,r),c.updateTargets(c.data.targets),c.updateAndRedraw(m)},et.prototype.x=function(n){var r=this.internal;return arguments.length&&(r.updateTargetX(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},et.prototype.xs=function(n){var r=this.internal;return arguments.length&&(r.updateTargetXs(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},(et.prototype.zoom=function(n){var r=this.internal;return n?(r.isTimeSeries()&&(n=n.map(function(s){return r.parseDate(s)})),r.config.subchart_show?r.brush.selectionAsValue(n,!0):(r.updateXDomain(null,!0,!1,!1,n),r.redraw({withY:r.config.zoom_rescale,withSubchart:!1})),r.config.zoom_onzoom.call(this,r.x.orgDomain()),n):r.x.domain()}).enable=function(n){var r=this.internal;r.config.zoom_enabled=n,r.updateAndRedraw()},et.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},et.prototype.zoom.max=function(n){var r=this.internal,s=r.config;if(0!==n&&!n)return s.zoom_x_max;s.zoom_x_max=r.d3.max([r.orgXDomain[1],n])},et.prototype.zoom.min=function(n){var r=this.internal,s=r.config;if(0!==n&&!n)return s.zoom_x_min;s.zoom_x_min=r.d3.min([r.orgXDomain[0],n])},et.prototype.zoom.range=function(n){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};Zt(n.max)&&this.domain.max(n.max),Zt(n.min)&&this.domain.min(n.min)},S.prototype.initPie=function(){var n=this;n.pie=n.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(g){return g.values.reduce(function(m,w){return m+w.value},0)});var s=n.getOrderFunction();if(s&&(n.isOrderAsc()||n.isOrderDesc())){var c=s;s=function(g,m){return-1*c(g,m)}}n.pie.sort(s||null)},S.prototype.updateRadius=function(){var n=this,r=n.config,s=r.gauge_width||r.donut_width,c=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=.95*n.radiusExpanded,n.innerRadiusRatio=s?(n.radius-s)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=s||(c<=n.radius-n.innerRadius?n.radius-n.innerRadius:c<=n.radius?c:n.radius)},S.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},S.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},S.prototype.updateAngle=function(n){var m,w,T,M,r=this,s=r.config,c=!1,g=0;return s?(r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(C){!c&&C.data.id===n.data.id&&(c=!0,(n=C).index=g),g++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),r.isGaugeType(n.data)&&(m=s.gauge_min,w=s.gauge_max,T=Math.PI*(s.gauge_fullCircle?2:1)/(w-m),M=n.value<m?0:n.value<w?n.value-m:w-m,n.startAngle=s.gauge_startingAngle,n.endAngle=n.startAngle+T*M),c?n:null):null},S.prototype.getSvgArc=function(){var n=this,r=n.hasType("gauge"),s=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,c=n.d3.arc().outerRadius(function(m){return r?n.radius-s*m.index:n.radius}).innerRadius(function(m){return r?n.radius-s*(m.index+1):n.innerRadius}),g=function(m,w){var T;return w?c(m):(T=n.updateAngle(m))?c(T):"M 0 0"};return g.centroid=c.centroid,g},S.prototype.getSvgArcExpanded=function(n){n=n||1;var r=this,s=r.hasType("gauge"),c=r.gaugeArcWidth/r.filterTargetsToShow(r.data.targets).length,g=Math.min(r.radiusExpanded*n-r.radius,.8*c-100*(1-n)),m=r.d3.arc().outerRadius(function(w){return s?r.radius-c*w.index+g:r.radiusExpanded*n}).innerRadius(function(w){return s?r.radius-c*(w.index+1):r.innerRadius});return function(w){var T=r.updateAngle(w);return T?m(T):"M 0 0"}},S.prototype.getArc=function(n,r,s){return s||this.isArcType(n.data)?this.svgArc(n,r):"M 0 0"},S.prototype.transformForArcLabel=function(n){var g,m,w,T,M,r=this,s=r.config,c=r.updateAngle(n),C="",O=r.hasType("gauge");if(c&&!O)g=this.svgArc.centroid(c),m=isNaN(g[0])?0:g[0],w=isNaN(g[1])?0:g[1],T=Math.sqrt(m*m+w*w),C="translate("+m*(M=r.hasType("donut")&&s.donut_label_ratio?Tt(s.donut_label_ratio)?s.donut_label_ratio(n,r.radius,T):s.donut_label_ratio:r.hasType("pie")&&s.pie_label_ratio?Tt(s.pie_label_ratio)?s.pie_label_ratio(n,r.radius,T):s.pie_label_ratio:r.radius&&T?(36/r.radius>.375?1.175-36/r.radius:.8)*r.radius/T:0)+","+w*M+")";else if(c&&O&&r.filterTargetsToShow(r.data.targets).length>1){var G=Math.sin(c.endAngle-Math.PI/2);C="translate("+(m=Math.cos(c.endAngle-Math.PI/2)*(r.radiusExpanded+25))+","+(w=G*(r.radiusExpanded+15-Math.abs(10*G))+3)+")"}return C},S.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},S.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},S.prototype.textForArcLabel=function(n){var s,c,g,m,w,r=this;return r.shouldShowArcLabel()&&(c=(s=r.updateAngle(n))?s.value:null,g=r.getRatio("arc",s),m=n.data.id,r.hasType("gauge")||r.meetsArcLabelThreshold(g))?(w=r.getArcLabelFormat())?w(c,g,m):r.defaultArcValueFormat(c,g):""},S.prototype.textForGaugeMinMax=function(n,r){var c=this.getGaugeLabelExtents();return c?c(n,r):n},S.prototype.expandArc=function(n){var s,r=this;r.transiting?s=window.setInterval(function(){r.transiting||(window.clearInterval(s),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(n))},10):(n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+k.chartArc)).each(function(c){!r.shouldExpand(c.data.id)||r.d3.select(this).selectAll("path").transition().duration(r.expandDuration(c.data.id)).attr("d",r.svgArcExpanded).transition().duration(2*r.expandDuration(c.data.id)).attr("d",r.svgArcExpandedSub).each(function(g){r.isDonutType(g.data)})}))},S.prototype.unexpandArc=function(n){var r=this;r.transiting||(n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+k.chartArc)).selectAll("path").transition().duration(function(s){return r.expandDuration(s.data.id)}).attr("d",r.svgArc),r.svg.selectAll("."+k.arc))},S.prototype.expandDuration=function(n){var r=this,s=r.config;return r.isDonutType(n)?s.donut_expand_duration:r.isGaugeType(n)?s.gauge_expand_duration:r.isPieType(n)?s.pie_expand_duration:50},S.prototype.shouldExpand=function(n){var r=this,s=r.config;return r.isDonutType(n)&&s.donut_expand||r.isGaugeType(n)&&s.gauge_expand||r.isPieType(n)&&s.pie_expand},S.prototype.shouldShowArcLabel=function(){var n=this,r=n.config,s=!0;return n.hasType("donut")?s=r.donut_label_show:n.hasType("pie")&&(s=r.pie_label_show),s},S.prototype.meetsArcLabelThreshold=function(n){var s=this.config;return n>=(this.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold)},S.prototype.getArcLabelFormat=function(){var n=this,r=n.config,s=r.pie_label_format;return n.hasType("gauge")?s=r.gauge_label_format:n.hasType("donut")&&(s=r.donut_label_format),s},S.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},S.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},S.prototype.updateTargetsForArc=function(n){var g,r=this,s=r.main,m=r.classChartArc.bind(r),w=r.classArcs.bind(r),T=r.classFocus.bind(r);(g=s.select("."+k.chartArcs).selectAll("."+k.chartArc).data(r.pie(n)).attr("class",function(M){return m(M)+T(M.data)}).enter().append("g").attr("class",m)).append("g").attr("class",w),g.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},S.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+k.chart).append("g").attr("class",k.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",k.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},S.prototype.redrawArc=function(n,r,s){var T,M,C,O,c=this,g=c.d3,m=c.config,w=c.main,G=c.hasType("gauge");if(M=(T=w.selectAll("."+k.arcs).selectAll("."+k.arc).data(c.arcData.bind(c))).enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(B){return c.color(B.data)}).style("cursor",function(B){return m.interaction_enabled&&m.data_selection_isselectable(B)?"pointer":null}).each(function(B){c.isGaugeType(B.data)&&(B.startAngle=B.endAngle=m.gauge_startingAngle),this._current=B}).merge(T),G&&(O=(C=w.selectAll("."+k.arcs).selectAll("."+k.arcLabelLine).data(c.arcData.bind(c))).enter().append("rect").attr("class",function(B){return k.arcLabelLine+" "+k.target+" "+k.target+"-"+B.data.id}).merge(C),1===c.filterTargetsToShow(c.data.targets).length?O.style("display","none"):O.style("fill",function(B){return c.levelColor?c.levelColor(B.data.values.reduce(function(q,Z){return q+Z.value},0)):c.color(B.data)}).style("display",m.gauge_labelLine_show?"":"none").each(function(B){var q=0,tt=0,_t=0,At="";if(c.hiddenTargetIds.indexOf(B.data.id)<0){var Rt=c.updateAngle(B),Pt=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(Rt.index+1),Ot=Rt.endAngle-Math.PI/2,Mt=c.radius-Pt,pt=Ot-(0===Mt?0:1/Mt);q=c.radiusExpanded-c.radius+Pt,tt=Math.cos(pt)*Mt,_t=Math.sin(pt)*Mt,At="rotate("+180*Ot/Math.PI+", "+tt+", "+_t+")"}g.select(this).attr("x",tt).attr("y",_t).attr("width",q).attr("height",2).attr("transform",At).style("stroke-dasharray","0, "+(q+2)+", 0")})),M.attr("transform",function(B){return!c.isGaugeType(B.data)&&s?"scale(0)":""}).on("mouseover",m.interaction_enabled?function(B){var q,Z;c.transiting||(q=c.updateAngle(B))&&(Z=c.convertToArcData(q),c.expandArc(q.data.id),c.api.focus(q.data.id),c.toggleFocusLegend(q.data.id,!0),c.config.data_onmouseover(Z,this))}:null).on("mousemove",m.interaction_enabled?function(B){var Z,q=c.updateAngle(B);q&&(Z=c.convertToArcData(q),c.showTooltip([Z],this))}:null).on("mouseout",m.interaction_enabled?function(B){var q,Z;c.transiting||(q=c.updateAngle(B))&&(Z=c.convertToArcData(q),c.unexpandArc(q.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(Z,this))}:null).on("click",m.interaction_enabled?function(B,q){var tt,Z=c.updateAngle(B);Z&&(tt=c.convertToArcData(Z),c.toggleShape&&c.toggleShape(this,tt,q),c.config.data_onclick.call(c.api,tt,this))}:null).each(function(){c.transiting=!0}).transition().duration(n).attrTween("d",function(B){var Z,q=c.updateAngle(B);return q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),Z=g.interpolate(this._current,q),this._current=Z(0),function(tt){if(null===c.config)return"M 0 0";var _t=Z(tt);return _t.data=B.data,c.getArc(_t,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(B){return c.levelColor?c.levelColor(B.data.values.reduce(function(q,Z){return q+Z.value},0)):c.color(B.data.id)}).call(c.endall,function(){c.transiting=!1}),T.exit().transition().duration(r).style("opacity",0).remove(),w.selectAll("."+k.chartArc).select("text").style("opacity",0).attr("class",function(B){return c.isGaugeType(B.data)?k.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(B){return c.isGaugeType(B.data)&&1===c.filterTargetsToShow(c.data.targets).length?Math.round(c.radius/5)+"px":""}).transition().duration(n).style("opacity",function(B){return c.isTargetToShow(B.data.id)&&c.isArcType(B.data)?1:0}),w.select("."+k.chartArcsTitle).style("opacity",c.hasType("donut")||G?1:0),G){var Y=0,z=c.arcs.select("g."+k.chartArcsBackground).selectAll("path."+k.chartArcsBackground).data(c.data.targets);z.enter().append("path").attr("class",function(B,q){return k.chartArcsBackground+" "+k.chartArcsBackground+"-"+q}).merge(z).attr("d",function(B){if(c.hiddenTargetIds.indexOf(B.id)>=0)return"M 0 0";var q={data:[{value:m.gauge_max}],startAngle:m.gauge_startingAngle,endAngle:-1*m.gauge_startingAngle*(m.gauge_fullCircle?Math.PI:1),index:Y++};return c.getArc(q,!0,!0)}),z.exit().remove(),c.arcs.select("."+k.chartArcsGaugeUnit).attr("dy",".75em").text(m.gauge_label_show?m.gauge_units:""),c.arcs.select("."+k.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(m.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(m.gauge_label_show?c.textForGaugeMinMax(m.gauge_min,!1):""),c.arcs.select("."+k.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(m.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(m.gauge_label_show?c.textForGaugeMinMax(m.gauge_max,!0):"")}},S.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",k.chartArcsBackground),n.append("text").attr("class",k.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",k.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",k.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},S.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},S.prototype.addToCache=function(n,r){this.cache["$"+n]=r},S.prototype.getFromCache=function(n){return this.cache["$"+n]},S.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(r){return/^\$/.test(r)}).forEach(function(r){delete n.cache[r]})},S.prototype.hasCaches=function(n){for(var r=0;r<n.length;r++)if(!(n[r]in this.cache))return!1;return!0},S.prototype.addCache=function(n,r){this.cache[n]=this.cloneTarget(r)},S.prototype.getCaches=function(n){var s,r=[];for(s=0;s<n.length;s++)n[s]in this.cache&&r.push(this.cloneTarget(this.cache[n[s]]));return r},S.prototype.categoryName=function(n){var r=this.config;return n<r.axis_x_categories.length?r.axis_x_categories[n]:n},S.prototype.generateTargetClass=function(n){return n||0===n?("-"+n).replace(/\s/g,"-"):""},S.prototype.generateClass=function(n,r){return" "+n+" "+n+this.generateTargetClass(r)},S.prototype.classText=function(n){return this.generateClass(k.text,n.index)},S.prototype.classTexts=function(n){return this.generateClass(k.texts,n.id)},S.prototype.classShape=function(n){return this.generateClass(k.shape,n.index)},S.prototype.classShapes=function(n){return this.generateClass(k.shapes,n.id)},S.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(k.line,n.id)},S.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(k.lines,n.id)},S.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(k.circle,n.index)},S.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(k.circles,n.id)},S.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(k.bar,n.index)},S.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(k.bars,n.id)},S.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(k.arc,n.data.id)},S.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(k.arcs,n.data.id)},S.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(k.area,n.id)},S.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(k.areas,n.id)},S.prototype.classRegion=function(n,r){return this.generateClass(k.region,r)+" "+("class"in n?n.class:"")},S.prototype.classEvent=function(n){return this.generateClass(k.eventRect,n.index)},S.prototype.classTarget=function(n){var s=this.config.data_classes[n],c="";return s&&(c=" "+k.target+"-"+s),this.generateClass(k.target,n)+c},S.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},S.prototype.classFocused=function(n){return" "+(this.focusedTargetIds.indexOf(n.id)>=0?k.focused:"")},S.prototype.classDefocused=function(n){return" "+(this.defocusedTargetIds.indexOf(n.id)>=0?k.defocused:"")},S.prototype.classChartText=function(n){return k.chartText+this.classTarget(n.id)},S.prototype.classChartLine=function(n){return k.chartLine+this.classTarget(n.id)},S.prototype.classChartBar=function(n){return k.chartBar+this.classTarget(n.id)},S.prototype.classChartArc=function(n){return k.chartArc+this.classTarget(n.data.id)},S.prototype.getTargetSelectorSuffix=function(n){var r=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(r):r.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},S.prototype.selectorTarget=function(n,r){return(r||"")+"."+k.target+this.getTargetSelectorSuffix(n)},S.prototype.selectorTargets=function(n,r){var s=this;return(n=n||[]).length?n.map(function(c){return s.selectorTarget(c,r)}):null},S.prototype.selectorLegend=function(n){return"."+k.legendItem+this.getTargetSelectorSuffix(n)},S.prototype.selectorLegends=function(n){var r=this;return n&&n.length?n.map(function(s){return r.selectorLegend(s)}):null},S.prototype.getClipPath=function(n){return"url("+(sn(9)?"":document.URL.split("#")[0])+"#"+n+")"},S.prototype.appendClip=function(n,r){return n.append("clipPath").attr("id",r).append("rect")},S.prototype.getAxisClipX=function(n){var r=Math.max(30,this.margin.left);return n?-(1+r):-(r-1)},S.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},S.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},S.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},S.prototype.getYAxisClipX=function(){var n=this;return n.config.axis_y_inner?-1:n.getAxisClipX(n.config.axis_rotated)},S.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},S.prototype.getAxisClipWidth=function(n){var r=this,s=Math.max(30,r.margin.left),c=Math.max(30,r.margin.right);return n?r.width+2+s+c:r.margin.left+20},S.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},S.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},S.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},S.prototype.getYAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(n.config.axis_rotated)+(n.config.axis_y_inner?20:0)},S.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},S.prototype.generateColor=function(){var r=this.config,s=this.d3,c=r.data_colors,g=Nt(r.color_pattern)?r.color_pattern:s.schemeCategory10,m=r.data_color,w=[];return function(T){var C,M=T.id||T.data&&T.data.id||T;return c[M]instanceof Function?C=c[M](T):c[M]?C=c[M]:(w.indexOf(M)<0&&w.push(M),C=g[w.indexOf(M)%g.length],c[M]=C),m instanceof Function?m(C,T):C}},S.prototype.generateLevelColor=function(){var r=this.config,s=r.color_pattern,c=r.color_threshold,g="value"===c.unit,m=c.values&&c.values.length?c.values:[],w=c.max||100;return Nt(c)&&Nt(s)?function(T){var M,O=s[s.length-1];for(M=0;M<m.length;M++)if((g?T:100*T/w)<m[M]){O=s[M];break}return O}:null},S.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(r){return r},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(r,s,c,g){return this.getTooltipContent?this.getTooltipContent(r,s,c,g):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(r){n[r]=this.additionalConfig[r]},this),n},S.prototype.additionalConfig={},S.prototype.loadConfig=function(n){var s,c,g,r=this.config;function m(){var w=c.shift();return w&&s&&"object"==typeof s&&w in s?(s=s[w],m()):w?void 0:s}Object.keys(r).forEach(function(w){s=n,c=w.split("_"),g=m(),Zt(g)&&(r[w]=g)})},S.prototype.convertUrlToData=function(n,r,s,c,g){var T,M,m=this,w=r||"csv";"json"===w?(T=m.d3.json,M=m.convertJsonToData):"tsv"===w?(T=m.d3.tsv,M=m.convertXsvToData):(T=m.d3.csv,M=m.convertXsvToData),T(n,s).then(function(C){g.call(m,M.call(m,C,c))}).catch(function(C){throw C})},S.prototype.convertXsvToData=function(n){var r=n.columns;return 0===n.length?{keys:r,rows:[r.reduce(function(c,g){var m;return Object.assign(c,((m={})[g]=null,m))},{})]}:{keys:r,rows:[].concat(n)}},S.prototype.convertJsonToData=function(n,r){var g,m,s=this,c=[];return r?(r.x?(g=r.value.concat(r.x),s.config.data_x=r.x):g=r.value,c.push(g),n.forEach(function(w){var T=[];g.forEach(function(M){var C=s.findValueInJson(w,M);Wt(C)&&(C=null),T.push(C)}),c.push(T)}),m=s.convertRowsToData(c)):(Object.keys(n).forEach(function(w){c.push([w].concat(n[w]))}),m=s.convertColumnsToData(c)),m},S.prototype.findValueInJson=function(n,r){if(r in n)return n[r];for(var s=(r=(r=r.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),c=0;c<s.length;++c){var g=s[c];if(!(g in n))return;n=n[g]}return n},S.prototype.convertRowsToData=function(n){for(var r=[],s=n[0],c=1;c<n.length;c++){for(var g={},m=0;m<n[c].length;m++){if(Wt(n[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");g[s[m]]=n[c][m]}r.push(g)}return{keys:s,rows:r}},S.prototype.convertColumnsToData=function(n){for(var r=[],s=[],c=0;c<n.length;c++){for(var g=n[c][0],m=1;m<n[c].length;m++){if(Wt(r[m-1])&&(r[m-1]={}),Wt(n[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");r[m-1][g]=n[c][m]}s.push(g)}return{keys:s,rows:r}},S.prototype.convertDataToTargets=function(n,r){var g,m,w,T,M,s=this,c=s.config;if(Hn(n)?T=Object.keys(n[0]):(T=n.keys,n=n.rows),w=T.filter(s.isX,s),s.isStanfordGraphType()){if(M=T.filter(s.isEpochs,s),m=T.filter(s.isNotXAndNotEpochs,s),1!==w.length||1!==M.length||1!==m.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else m=T.filter(s.isNotX,s);return m.forEach(function(C){var O=s.getXKey(C);s.isCustomX()||s.isTimeSeries()?w.indexOf(O)>=0?s.data.xs[C]=(r&&s.data.xs[C]?s.data.xs[C]:[]).concat(n.map(function(G){return G[O]}).filter(gt).map(function(G,Y){return s.generateTargetX(G,C,Y)})):c.data_x?s.data.xs[C]=s.getOtherTargetXs():Nt(c.data_xs)&&(s.data.xs[C]=s.getXValuesOfXKey(O,s.data.targets)):s.data.xs[C]=n.map(function(G,Y){return Y})}),m.forEach(function(C){if(!s.data.xs[C])throw new Error('x is not defined for id = "'+C+'".')}),(g=m.map(function(C,O){var G=c.data_idConverter(C);return{id:G,id_org:C,values:n.map(function(Y,z){var tt,_t,q=Y[s.getXKey(C)],Z=null===Y[C]||isNaN(Y[C])?null:+Y[C];return s.isCustomX()&&s.isCategorized()&&!Wt(q)?(0===O&&0===z&&(c.axis_x_categories=[]),-1===(tt=c.axis_x_categories.indexOf(q))&&(tt=c.axis_x_categories.length,c.axis_x_categories.push(q))):tt=s.generateTargetX(q,C,z),(Wt(Y[C])||s.data.xs[C].length<=z)&&(tt=void 0),_t={x:tt,value:Z,id:G},s.isStanfordGraphType()&&(_t.epochs=Y[M]),_t}).filter(function(Y){return Zt(Y.x)})}})).forEach(function(C){var O;c.data_xSort&&(C.values=C.values.sort(function(G,Y){return(G.x||0===G.x?G.x:1/0)-(Y.x||0===Y.x?Y.x:1/0)})),O=0,C.values.forEach(function(G){G.index=O++}),s.data.xs[C.id].sort(function(G,Y){return G-Y})}),s.hasNegativeValue=s.hasNegativeValueInTargets(g),s.hasPositiveValue=s.hasPositiveValueInTargets(g),c.data_type&&s.setTargetType(s.mapToIds(g).filter(function(C){return!(C in c.data_types)}),c.data_type),g.forEach(function(C){s.addCache(C.id_org,C)}),g},S.prototype.isEpochs=function(n){var s=this.config;return s.data_epochs&&n===s.data_epochs},S.prototype.isX=function(n){var s=this.config;return s.data_x&&n===s.data_x||Nt(s.data_xs)&&function(n,r){var s=!1;return Object.keys(n).forEach(function(c){n[c]===r&&(s=!0)}),s}(s.data_xs,n)},S.prototype.isNotX=function(n){return!this.isX(n)},S.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},S.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},S.prototype.isAxisNormalized=function(n){var r=this;return!!r.isStackNormalized()&&r.data.targets.filter(function(s){return r.axis.getId(s.id)===n}).some(function(s){return r.isTargetNormalized(s.id)})},S.prototype.isTargetNormalized=function(n){return this.isStackNormalized()&&this.config.data_groups.some(function(s){return s.includes(n)})},S.prototype.getXKey=function(n){var s=this.config;return s.data_x?s.data_x:Nt(s.data_xs)?s.data_xs[n]:null},S.prototype.getTotalPerIndex=function(n){var r=this;if(!r.isStackNormalized())return null;var s=r.getFromCache("getTotalPerIndex");if(void 0!==s)return s[n];var c={y:[],y2:[]};return r.data.targets.filter(function(g){return r.isTargetNormalized(g.id)}).filter(function(g){return r.isTargetToShow(g.id)}).forEach(function(g){var m=c[r.axis.getId(g.id)];g.values.forEach(function(w,T){m[T]||(m[T]=0),m[T]+=qe(w.value)?w.value:0})}),r.addToCache("getTotalPerIndex",c),c[n]},S.prototype.getTotalDataSum=function(){var n=this,r=n.getFromCache("getTotalDataSum");if(void 0!==r)return r;var s=function(n){return Array.isArray(n)?[].concat.apply([],n):[]}(n.data.targets.filter(function(c){return n.isTargetToShow(c.id)}).map(function(c){return c.values})).map(function(c){return c.value}).reduce(function(c,g){return c+g},0);return n.addToCache("getTotalDataSum",s),s},S.prototype.getXValuesOfXKey=function(n,r){var c,s=this;return(r&&Nt(r)?s.mapToIds(r):[]).forEach(function(m){s.getXKey(m)===n&&(c=s.data.xs[m])}),c},S.prototype.getXValue=function(n,r){var s=this;return n in s.data.xs&&s.data.xs[n]&&gt(s.data.xs[n][r])?s.data.xs[n][r]:r},S.prototype.getOtherTargetXs=function(){var r=Object.keys(this.data.xs);return r.length?this.data.xs[r[0]]:null},S.prototype.getOtherTargetX=function(n){var r=this.getOtherTargetXs();return r&&n<r.length?r[n]:null},S.prototype.addXs=function(n){var r=this;Object.keys(n).forEach(function(s){r.config.data_xs[s]=n[s]})},S.prototype.addName=function(n){var s;return n&&(n.name=void 0!==(s=this.config.data_names[n.id])?s:n.id),n},S.prototype.getValueOnIndex=function(n,r){var s=n.filter(function(c){return c.index===r});return s.length?s[0]:null},S.prototype.updateTargetX=function(n,r){var s=this;n.forEach(function(c){c.values.forEach(function(g,m){g.x=s.generateTargetX(r[m],c.id,m)}),s.data.xs[c.id]=r})},S.prototype.updateTargetXs=function(n,r){var s=this;n.forEach(function(c){r[c.id]&&s.updateTargetX([c],r[c.id])})},S.prototype.generateTargetX=function(n,r,s){var c=this;return c.isTimeSeries()?c.parseDate(n||c.getXValue(r,s)):c.isCustomX()&&!c.isCategorized()?gt(n)?+n:c.getXValue(r,s):s},S.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(r){return{x:r.x,value:r.value,id:r.id}})}},S.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(r){return r.values.length})},S.prototype.mapToIds=function(n){return n.map(function(r){return r.id})},S.prototype.mapToTargetIds=function(n){return n?[].concat(n):this.mapToIds(this.data.targets)},S.prototype.hasTarget=function(n,r){var c,s=this.mapToIds(n);for(c=0;c<s.length;c++)if(s[c]===r)return!0;return!1},S.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},S.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},S.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},S.prototype.filterTargetsToShow=function(n){var r=this;return n.filter(function(s){return r.isTargetToShow(s.id)})},S.prototype.getTargets=function(){return this.data.targets},S.prototype.mapTargetsToUniqueXs=function(n){var r=this,s=r.d3.set(r.d3.merge(n.map(function(c){return c.values.map(function(g){return+g.x})}))).values();return(s=r.isTimeSeries()?s.map(function(c){return new Date(+c)}):s.map(function(c){return+c})).sort(function(c,g){return c<g?-1:c>g?1:c>=g?0:NaN})},S.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenTargetIds.indexOf(n[r])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[r]));this.resetCache()},S.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(r){return n.indexOf(r)<0}),this.resetCache()},S.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenLegendIds.indexOf(n[r])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[r]))},S.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(r){return n.indexOf(r)<0})},S.prototype.getValuesAsIdKeyed=function(n){var r={};return n.forEach(function(s){r[s.id]=[],s.values.forEach(function(c){r[s.id].push(c.value)})}),r},S.prototype.checkValueInTargets=function(n,r){var c,g,m,s=Object.keys(n);for(c=0;c<s.length;c++)for(m=n[s[c]].values,g=0;g<m.length;g++)if(r(m[g].value))return!0;return!1},S.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r<0})},S.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r>0})},S.prototype.isOrderDesc=function(){var n=this.config;return"string"==typeof n.data_order&&"desc"===n.data_order.toLowerCase()},S.prototype.isOrderAsc=function(){var n=this.config;return"string"==typeof n.data_order&&"asc"===n.data_order.toLowerCase()},S.prototype.getOrderFunction=function(){var n=this,r=n.config,s=n.isOrderAsc(),c=n.isOrderDesc();if(s||c){var g=function(w,T){return w+Math.abs(T.value)};return function(w,T){var M=w.values.reduce(g,0),C=T.values.reduce(g,0);return s?C-M:M-C}}if(Tt(r.data_order))return r.data_order;if(Hn(r.data_order)){var m=r.data_order;return function(w,T){return m.indexOf(w.id)-m.indexOf(T.id)}}},S.prototype.orderTargets=function(n){var r=this.getOrderFunction();return r&&n.sort(r),n},S.prototype.filterByIndex=function(n,r){return this.d3.merge(n.map(function(s){return s.values.filter(function(c){return c.index===r})}))},S.prototype.filterByX=function(n,r){return this.d3.merge(n.map(function(s){return s.values})).filter(function(s){return s.x-r==0})},S.prototype.filterRemoveNull=function(n){return n.filter(function(r){return gt(r.value)})},S.prototype.filterByXDomain=function(n,r){return n.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(c){return r[0]<=c.x&&c.x<=r[1]})}})},S.prototype.hasDataLabel=function(){var n=this.config;return!("boolean"!=typeof n.data_labels||!n.data_labels)||!("object"!=typeof n.data_labels||!Nt(n.data_labels))},S.prototype.getDataLabelLength=function(n,r,s){var c=this,g=[0,0];return c.selectChart.select("svg").selectAll(".dummy").data([n,r]).enter().append("text").text(function(w){return c.dataLabelFormat(w.id)(w)}).each(function(w,T){g[T]=1.3*De(this)[s]}).remove(),g},S.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},S.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},S.prototype.findClosestFromTargets=function(n,r){var s=this,c=n.map(function(g){return s.findClosest(g.values,r,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(g){return g});if(0!==c.length)return 1===c.length?c[0]:s.findClosest(c,r,s.dist.bind(s))},S.prototype.findClosestFromTargetsByX=function(n,r){var s,c;return n.forEach(function(g){g.values.forEach(function(m){var w=Math.abs(r-m.x);(void 0===c||w<c)&&(s=m,c=w)})}),s},S.prototype.findClosest=function(n,r,s,c){void 0===c&&(c=1/0);var m,g=this;return n.filter(function(w){return w&&g.isBarType(w.id)}).forEach(function(w){if(!m){var T=g.main.select("."+k.bars+g.getTargetSelectorSuffix(w.id)+" ."+k.bar+"-"+w.index).node();g.isWithinBar(r,T)&&(m=w)}}),n.filter(function(w){return w&&!g.isBarType(w.id)}).forEach(function(w){var T=s(w,r);T<c&&(c=T,m=w)}),m},S.prototype.dist=function(n,r){var s=this,c=s.config,g=c.axis_rotated?1:0,m=c.axis_rotated?0:1,w=s.circleY(n,n.index),T=s.x(n.x);return Math.sqrt(Math.pow(T-r[g],2)+Math.pow(w-r[m],2))},S.prototype.horizontalDistance=function(n,r){var g=this.config.axis_rotated?1:0,m=this.x(n.x);return Math.abs(m-r[g])},S.prototype.convertValuesToStep=function(n){var s,r=[].concat(n);if(!this.isCategorized())return n;for(s=n.length+1;0<s;s--)r[s]=r[s-1];return r[0]={x:r[0].x-1,value:r[0].value,id:r[0].id},r[n.length+1]={x:r[n.length].x+1,value:r[n.length].value,id:r[n.length].id},r},S.prototype.getRatio=function(n,r,s){void 0===s&&(s=!1);var c=this,g=c.api,m=0;if(r&&g.data.shown.call(g).length)if(m=r.ratio||r.value,"arc"===n)if(c.hasType("gauge"))m=(r.endAngle-r.startAngle)/(Math.PI*(c.config.gauge_fullCircle?2:1));else{var w=c.getTotalDataSum();m=r.value/w}else"index"===n&&(w=c.getTotalPerIndex(c.axis.getId(r.id)),r.ratio=qe(r.value)&&w&&w[r.index]>0?r.value/w[r.index]:0,m=r.ratio);return s&&m?100*m:m},S.prototype.updateDataAttributes=function(n,r){var g=this.config["data_"+n];return void 0===r||(Object.keys(r).forEach(function(m){g[m]=r[m]}),this.redraw({withLegend:!0})),g},S.prototype.load=function(n,r){var s=this;n&&(r.filter&&(n=n.filter(r.filter)),(r.type||r.types)&&n.forEach(function(c){s.setTargetType(c.id,r.types&&r.types[c.id]?r.types[c.id]:r.type)}),s.data.targets.forEach(function(c){for(var g=0;g<n.length;g++)if(c.id===n[g].id){c.values=n[g].values,n.splice(g,1);break}}),s.data.targets=s.data.targets.concat(n)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.done&&r.done()},S.prototype.loadFromArgs=function(n){var r=this;r.resetCache(),n.data?r.load(r.convertDataToTargets(n.data),n):n.url?r.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(s){r.load(r.convertDataToTargets(s),n)}):r.load(n.json?r.convertDataToTargets(r.convertJsonToData(n.json,n.keys)):n.rows?r.convertDataToTargets(r.convertRowsToData(n.rows)):n.columns?r.convertDataToTargets(r.convertColumnsToData(n.columns)):null,n)},S.prototype.unload=function(n,r){var s=this;s.resetCache(),r||(r=function(){}),(n=n.filter(function(c){return s.hasTarget(s.data.targets,c)}))&&0!==n.length?(s.svg.selectAll(n.map(function(c){return s.selectorTarget(c)})).transition().style("opacity",0).remove().call(s.endall,r),n.forEach(function(c){s.withoutFadeIn[c]=!1,s.legend&&s.legend.selectAll("."+k.legendItem+s.getTargetSelectorSuffix(c)).remove(),s.data.targets=s.data.targets.filter(function(g){return g.id!==c})})):r()},S.prototype.getYDomainMin=function(n){var m,w,T,M,C,O,r=this,s=r.config,c=r.mapToIds(n),g=r.getValuesAsIdKeyed(n);if(s.data_groups.length>0)for(O=r.hasNegativeValueInTargets(n),m=0;m<s.data_groups.length;m++)if(0!==(M=s.data_groups[m].filter(function(G){return c.indexOf(G)>=0})).length)for(T=M[0],O&&g[T]&&g[T].forEach(function(G,Y){g[T][Y]=G<0?G:0}),w=1;w<M.length;w++)g[C=M[w]]&&g[C].forEach(function(G,Y){r.axis.getId(C)===r.axis.getId(T)&&g[T]&&!(O&&+G>0)&&(g[T][Y]+=+G)});return r.d3.min(Object.keys(g).map(function(G){return r.d3.min(g[G])}))},S.prototype.getYDomainMax=function(n){var m,w,T,M,C,O,r=this,s=r.config,c=r.mapToIds(n),g=r.getValuesAsIdKeyed(n);if(s.data_groups.length>0)for(O=r.hasPositiveValueInTargets(n),m=0;m<s.data_groups.length;m++)if(0!==(M=s.data_groups[m].filter(function(G){return c.indexOf(G)>=0})).length)for(T=M[0],O&&g[T]&&g[T].forEach(function(G,Y){g[T][Y]=G>0?G:0}),w=1;w<M.length;w++)g[C=M[w]]&&g[C].forEach(function(G,Y){r.axis.getId(C)===r.axis.getId(T)&&g[T]&&!(O&&+G<0)&&(g[T][Y]+=+G)});return r.d3.max(Object.keys(g).map(function(G){return r.d3.max(g[G])}))},S.prototype.getYDomain=function(n,r,s){var c=this,g=c.config;if(c.isAxisNormalized(r))return[0,100];var G,Y,z,B,Z,tt,_t,At,Rt,Pt,m=n.filter(function(at){return c.axis.getId(at.id)===r}),w=s?c.filterByXDomain(m,s):m,T="y2"===r?g.axis_y2_min:g.axis_y_min,M="y2"===r?g.axis_y2_max:g.axis_y_max,C=c.getYDomainMin(w),O=c.getYDomainMax(w),q="y2"===r?g.axis_y2_center:g.axis_y_center,Ot=c.hasType("bar",w)&&g.bar_zerobased||c.hasType("area",w)&&g.area_zerobased,Mt="y2"===r?g.axis_y2_inverted:g.axis_y_inverted,pt=c.hasDataLabel()&&g.axis_rotated,Ht=c.hasDataLabel()&&!g.axis_rotated;if(C=gt(T)?T:gt(M)?C<M?C:M-10:C,O=gt(M)?M:gt(T)?T<O?O:T+10:O,0===w.length)return"y2"===r?c.y2.domain():c.y.domain();if(isNaN(C)&&(C=0),isNaN(O)&&(O=C),C===O&&(C<0?O=0:C=0),Rt=C>=0&&O>=0,Pt=C<=0&&O<=0,(gt(T)&&Rt||gt(M)&&Pt)&&(Ot=!1),Ot&&(Rt&&(C=0),Pt&&(O=0)),z=B=.1*(Y=Math.abs(O-C)),void 0!==q&&(O=q+(Z=Math.max(Math.abs(C),Math.abs(O))),C=q-Z),pt)tt=c.getDataLabelLength(C,O,"width"),_t=Bn(c.y.range()),z+=Y*((At=[tt[0]/_t,tt[1]/_t])[1]/(1-At[0]-At[1])),B+=Y*(At[0]/(1-At[0]-At[1]));else if(Ht){tt=c.getDataLabelLength(C,O,"height");var ht=c.getY(g["axis_"+r+"_type"],[0,g.axis_rotated?c.width:c.height],[0,Y]);z+=ht(tt[1]),B+=ht(tt[0])}return"y"===r&&Nt(g.axis_y_padding)&&(z=c.axis.getPadding(g.axis_y_padding,"top",z,Y),B=c.axis.getPadding(g.axis_y_padding,"bottom",B,Y)),"y2"===r&&Nt(g.axis_y2_padding)&&(z=c.axis.getPadding(g.axis_y2_padding,"top",z,Y),B=c.axis.getPadding(g.axis_y2_padding,"bottom",B,Y)),Ot&&(Rt&&(B=C),Pt&&(z=-O)),G=[C-B,O+z],Mt?G.reverse():G},S.prototype.getXDomainMin=function(n){var r=this,s=r.config;return Zt(s.axis_x_min)?r.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:r.d3.min(n,function(c){return r.d3.min(c.values,function(g){return g.x})})},S.prototype.getXDomainMax=function(n){var r=this,s=r.config;return Zt(s.axis_x_max)?r.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:r.d3.max(n,function(c){return r.d3.max(c.values,function(g){return g.x})})},S.prototype.getXDomainPadding=function(n){var g,m,w,T,r=this,s=r.config,c=n[1]-n[0];return m=r.isCategorized()?0:r.hasType("bar")?(g=r.getMaxDataCount())>1?c/(g-1)/2:.5:.01*c,"object"==typeof s.axis_x_padding&&Nt(s.axis_x_padding)?(w=gt(s.axis_x_padding.left)?s.axis_x_padding.left:m,T=gt(s.axis_x_padding.right)?s.axis_x_padding.right:m):w=T="number"==typeof s.axis_x_padding?s.axis_x_padding:m,{left:w,right:T}},S.prototype.getXDomain=function(n){var r=this,s=[r.getXDomainMin(n),r.getXDomainMax(n)],c=s[0],g=s[1],m=r.getXDomainPadding(s),w=0,T=0;return c-g==0&&!r.isCategorized()&&(r.isTimeSeries()?(c=new Date(.5*c.getTime()),g=new Date(1.5*g.getTime())):(c=0===c?1:.5*c,g=0===g?-1:1.5*g)),(c||0===c)&&(w=r.isTimeSeries()?new Date(c.getTime()-m.left):c-m.left),(g||0===g)&&(T=r.isTimeSeries()?new Date(g.getTime()+m.right):g+m.right),[w,T]},S.prototype.updateXDomain=function(n,r,s,c,g){var m=this,w=m.config;return s&&(m.x.domain(g||m.d3.extent(m.getXDomain(n))),m.orgXDomain=m.x.domain(),w.zoom_enabled&&m.zoom.update(),m.subX.domain(m.x.domain()),m.brush&&m.brush.updateScale(m.subX)),r&&m.x.domain(g||(!m.brush||m.brush.empty()?m.orgXDomain:m.brush.selectionAsValue())),c&&m.x.domain(m.trimXDomain(m.x.orgDomain())),m.x.domain()},S.prototype.trimXDomain=function(n){var r=this.getZoomDomain(),s=r[0],c=r[1];return n[0]<=s&&(n[1]=s-n[0]+ +n[1],n[0]=s),c<=n[1]&&(n[0]=+n[0]-(n[1]-c),n[1]=c),n},S.prototype.drag=function(n){var m,w,T,M,C,O,G,Y,r=this,s=r.config,c=r.main,g=r.d3;r.hasArcType()||!s.data_selection_enabled||!s.data_selection_multiple||(m=r.dragStart[0],w=r.dragStart[1],T=n[0],M=n[1],C=Math.min(m,T),O=Math.max(m,T),G=s.data_selection_grouped?r.margin.top:Math.min(w,M),Y=s.data_selection_grouped?r.height:Math.max(w,M),c.select("."+k.dragarea).attr("x",C).attr("y",G).attr("width",O-C).attr("height",Y-G),c.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(z,B){if(s.data_selection_isselectable(z)){var _t,At,Ot,pt,q=g.select(this),Z=q.classed(k.SELECTED),tt=q.classed(k.INCLUDED),Mt=!1;if(q.classed(k.circle))_t=1*q.attr("cx"),At=1*q.attr("cy"),Ot=r.togglePoint,Mt=C<_t&&_t<O&&G<At&&At<Y;else{if(!q.classed(k.bar))return;At=(pt=mi(this)).y,Ot=r.togglePath,Mt=!(O<(_t=pt.x)||_t+pt.width<C||Y<At||At+pt.height<G)}Mt^tt&&(q.classed(k.INCLUDED,!tt),q.classed(k.SELECTED,!Z),Ot.call(r,!Z,q,z,B))}}))},S.prototype.dragstart=function(n){var r=this,s=r.config;r.hasArcType()||!s.data_selection_enabled||(r.dragStart=n,r.main.select("."+k.chart).append("rect").attr("class",k.dragarea).style("opacity",.1),r.dragging=!0)},S.prototype.dragend=function(){var n=this,r=n.config;n.hasArcType()||!r.data_selection_enabled||(n.main.select("."+k.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+k.shape).classed(k.INCLUDED,!1),n.dragging=!1)},S.prototype.getYFormat=function(n){var r=this,s=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.yFormat,c=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.y2Format;return function(g,m,w){return("y2"===r.axis.getId(w)?c:s).call(r,g,m)}},S.prototype.yFormat=function(n){var s=this.config;return(s.axis_y_tick_format?s.axis_y_tick_format:this.defaultValueFormat)(n)},S.prototype.y2Format=function(n){var s=this.config;return(s.axis_y2_tick_format?s.axis_y2_tick_format:this.defaultValueFormat)(n)},S.prototype.defaultValueFormat=function(n){return gt(n)?+n:""},S.prototype.defaultArcValueFormat=function(n,r){return(100*r).toFixed(1)+"%"},S.prototype.dataLabelFormat=function(n){var s=this.config.data_labels,g=function(m){return gt(m)?+m:""};return"function"==typeof s.format?s.format:"object"==typeof s.format?s.format[n]?!0===s.format[n]?g:s.format[n]:function(){return""}:g},S.prototype.initGrid=function(){var n=this,r=n.config,s=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",k.grid),r.grid_x_show&&n.grid.append("g").attr("class",k.xgrids),r.grid_y_show&&n.grid.append("g").attr("class",k.ygrids),r.grid_focus_show&&n.grid.append("g").attr("class",k.xgridFocus).append("line").attr("class",k.xgridFocus),n.xgrid=s.selectAll([]),r.grid_lines_front||n.initGridLines()},S.prototype.initGridLines=function(){var n=this,r=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",k.grid+" "+k.gridLines),n.gridLines.append("g").attr("class",k.xgridLines),n.gridLines.append("g").attr("class",k.ygridLines),n.xgridLines=r.selectAll([])},S.prototype.updateXGrid=function(n){var r=this,s=r.config,c=r.d3,g=r.generateGridData(s.grid_x_type,r.x),m=r.isCategorized()?r.xAxis.tickOffset():0;r.xgridAttr=s.axis_rotated?{x1:0,x2:r.width,y1:function(M){return r.x(M)-m},y2:function(M){return r.x(M)-m}}:{x1:function(M){return r.x(M)+m},x2:function(M){return r.x(M)+m},y1:0,y2:r.height},r.xgridAttr.opacity=function(){return+c.select(this).attr(s.axis_rotated?"y1":"x1")===(s.axis_rotated?r.height:0)?0:1};var w=r.main.select("."+k.xgrids).selectAll("."+k.xgrid).data(g),T=w.enter().append("line").attr("class",k.xgrid).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",0);r.xgrid=T.merge(w),n||r.xgrid.attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),w.exit().remove()},S.prototype.updateYGrid=function(){var n=this,r=n.config,s=n.yAxis.tickValues()||n.y.ticks(r.grid_y_ticks),c=n.main.select("."+k.ygrids).selectAll("."+k.ygrid).data(s),g=c.enter().append("line").attr("class",k.ygrid);n.ygrid=g.merge(c),n.ygrid.attr("x1",r.axis_rotated?n.y:0).attr("x2",r.axis_rotated?n.y:n.width).attr("y1",r.axis_rotated?0:n.y).attr("y2",r.axis_rotated?n.height:n.y),c.exit().remove(),n.smoothLines(n.ygrid,"grid")},S.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},S.prototype.gridTextDx=function(n){return"start"===n.position?4:"middle"===n.position?0:-4},S.prototype.xGridTextX=function(n){return"start"===n.position?-this.height:"middle"===n.position?-this.height/2:0},S.prototype.yGridTextX=function(n){return"start"===n.position?0:"middle"===n.position?this.width/2:this.width},S.prototype.updateGrid=function(n){var g,m,w,T,r=this,s=r.main,c=r.config,M=r.xv.bind(r),C=r.yv.bind(r),O=r.xGridTextX.bind(r),G=r.yGridTextX.bind(r);r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),s.select("line."+k.xgridFocus).style("visibility","hidden"),c.grid_x_show&&r.updateXGrid(),(m=(g=s.select("."+k.xgridLines).selectAll("."+k.xgridLine).data(c.grid_x_lines)).enter().append("g").attr("class",function(Y){return k.xgridLine+(Y.class?" "+Y.class:"")})).append("line").attr("x1",c.axis_rotated?0:M).attr("x2",c.axis_rotated?r.width:M).attr("y1",c.axis_rotated?M:0).attr("y2",c.axis_rotated?M:r.height).style("opacity",0),m.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",c.axis_rotated?"":"rotate(-90)").attr("x",c.axis_rotated?G:O).attr("y",M).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines=m.merge(g),g.exit().transition().duration(n).style("opacity",0).remove(),c.grid_y_show&&r.updateYGrid(),(T=(w=s.select("."+k.ygridLines).selectAll("."+k.ygridLine).data(c.grid_y_lines)).enter().append("g").attr("class",function(Y){return k.ygridLine+(Y.class?" "+Y.class:"")})).append("line").attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:r.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?r.height:C).style("opacity",0),T.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",c.axis_rotated?"rotate(-90)":"").attr("x",c.axis_rotated?O:G).attr("y",C).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.ygridLines=T.merge(w),r.ygridLines.select("line").transition().duration(n).attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:r.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?r.height:C).style("opacity",1),r.ygridLines.select("text").transition().duration(n).attr("x",c.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",C).text(function(Y){return Y.text}).style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},S.prototype.redrawGrid=function(n,r){var s=this,c=s.config,g=s.xv.bind(s),m=s.xgridLines.select("line"),w=s.xgridLines.select("text");return[(n?m.transition(r):m).attr("x1",c.axis_rotated?0:g).attr("x2",c.axis_rotated?s.width:g).attr("y1",c.axis_rotated?g:0).attr("y2",c.axis_rotated?g:s.height).style("opacity",1),(n?w.transition(r):w).attr("x",c.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",g).text(function(T){return T.text}).style("opacity",1)]},S.prototype.showXGridFocus=function(n){var r=this,s=r.config,c=n.filter(function(w){return w&&gt(w.value)}),g=r.main.selectAll("line."+k.xgridFocus),m=r.xx.bind(r);!s.tooltip_show||r.hasType("stanford")||r.hasArcType()||(g.style("visibility","visible").data([c[0]]).attr(s.axis_rotated?"y1":"x1",m).attr(s.axis_rotated?"y2":"x2",m),r.smoothLines(g,"grid"))},S.prototype.hideXGridFocus=function(){this.main.select("line."+k.xgridFocus).style("visibility","hidden")},S.prototype.updateXgridFocus=function(){var n=this,r=n.config;n.main.select("line."+k.xgridFocus).attr("x1",r.axis_rotated?0:-10).attr("x2",r.axis_rotated?n.width:-10).attr("y1",r.axis_rotated?-10:0).attr("y2",r.axis_rotated?-10:n.height)},S.prototype.generateGridData=function(n,r){var g,m,w,T,c=[],M=this.main.select("."+k.axisX).selectAll(".tick").size();if("year"===n)for(m=(g=this.getXDomain())[0].getFullYear(),w=g[1].getFullYear(),T=m;T<=w;T++)c.push(new Date(T+"-01-01 00:00:00"));else(c=r.ticks(10)).length>M&&(c=c.filter(function(C){return(""+C).indexOf(".")<0}));return c},S.prototype.getGridFilterToRemove=function(n){return n?function(r){var s=!1;return[].concat(n).forEach(function(c){("value"in c&&r.value===c.value||"class"in c&&r.class===c.class)&&(s=!0)}),s}:function(){return!0}},S.prototype.removeGridLines=function(n,r){var s=this,c=s.config,g=s.getGridFilterToRemove(n),m=function(M){return!g(M)},T=r?k.xgridLine:k.ygridLine;s.main.select("."+(r?k.xgridLines:k.ygridLines)).selectAll("."+T).filter(g).transition().duration(c.transition_duration).style("opacity",0).remove(),r?c.grid_x_lines=c.grid_x_lines.filter(m):c.grid_y_lines=c.grid_y_lines.filter(m)},S.prototype.initEventRect=function(){var n=this,r=n.config;n.main.select("."+k.chart).append("g").attr("class",k.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+k.eventRects).append("rect").attr("class",k.eventRect),r.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),r.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(r.zoom_initialRange)))},S.prototype.redrawEventRect=function(){var n=this,r=n.d3,s=n.config;function c(){n.svg.select("."+k.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var g=function(w,T){return T&&(n.isBarType(T.id)||n.dist(T,w)<s.point_sensitivity)},m=function(w){return w?n.addName(Object.assign({},w)):null};n.main.select("."+k.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",s.interaction_enabled?function(){!s||n.hasArcType()||(n.mouseover&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),c())}:null).on("mousemove",s.interaction_enabled?function(){if(!n.dragging){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var G,T=r.mouse(this),M=m(n.findClosestFromTargets(w,T)),C=g(T,M);if(n.mouseover&&(!M||M.id!==n.mouseover.id||M.index!==n.mouseover.index)&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),M&&!n.mouseover&&(s.data_onmouseover.call(n.api,M),n.mouseover=M),n.svg.select("."+k.eventRect).style("cursor",C?"pointer":null),!s.tooltip_grouped||n.hasType("stanford",w))M&&(G=[M]);else{var Y;(Y=M||n.findClosestFromTargetsByX(w,n.x.invert(s.axis_rotated?T[1]:T[0])))&&(G=n.filterByX(w,Y.x))}if(!G||0===G.length)return c();G=G.map(m),n.showTooltip(G,this),s.point_focus_expand_enabled&&(n.unexpandCircles(),G.forEach(function(B){n.expandCircles(B.index,B.id,!1)})),n.unexpandBars(),G.forEach(function(B){n.expandBars(B.index,B.id,!1)}),n.showXGridFocus(G)}}}:null).on("click",s.interaction_enabled?function(){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var T=r.mouse(this),M=m(n.findClosestFromTargets(w,T));if(g(T,M)&&((!s.data_selection_grouped||n.isStanfordType(M)?[M]:n.filterByX(w,M.x)).forEach(function(G){n.main.selectAll("."+k.shapes+n.getTargetSelectorSuffix(G.id)).selectAll("."+k.shape+"-"+G.index).each(function(){(s.data_selection_grouped||n.isWithinShape(this,G))&&n.toggleShape(this,G,G.index)})}),M)){var O=n.main.selectAll("."+k.shapes+n.getTargetSelectorSuffix(M.id)).select("."+k.shape+"-"+M.index);s.data_onclick.call(n.api,M,O.node())}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&n.drag?r.drag().on("drag",function(){n.drag(r.mouse(this))}).on("start",function(){n.dragstart(r.mouse(this))}).on("end",function(){n.dragend()}):function(){})},S.prototype.getMousePosition=function(n){return[this.x(n.x),this.getYScale(n.id)(n.value)]},S.prototype.dispatchEvent=function(n,r){var g=this.main.select("."+k.eventRect).node(),m=g.getBoundingClientRect(),w=m.left+(r?r[0]:0),T=m.top+(r?r[1]:0),M=document.createEvent("MouseEvents");M.initMouseEvent(n,!0,!0,window,0,w,T,w,T,!1,!1,!1,!1,0,null),g.dispatchEvent(M)},S.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show)return n.legend.style("visibility","hidden"),void(n.hiddenLegendIds=n.mapToIds(n.data.targets));n.updateLegendWithDefaults()},S.prototype.updateLegendWithDefaults=function(){var n=this;n.updateLegend(n.mapToIds(n.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},S.prototype.updateSizeForLegend=function(n,r){var s=this,c=s.config,g={top:s.isLegendTop?s.getCurrentPaddingTop()+c.legend_inset_y+5.5:s.currentHeight-n-s.getCurrentPaddingBottom()-c.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+c.legend_inset_x+.5:s.currentWidth-r-s.getCurrentPaddingRight()-c.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?g.top:s.currentHeight-n,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-r:s.isLegendInset?g.left:0}},S.prototype.transformLegend=function(n){var r=this;(n?r.legend.transition():r.legend).attr("transform",r.getTranslate("legend"))},S.prototype.updateLegendStep=function(n){this.legendStep=n},S.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},S.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},S.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},S.prototype.getLegendHeight=function(){var n=this,r=0;return n.config.legend_show&&(r=n.isLegendRight?n.currentHeight:Math.max(20,n.legendItemHeight)*(n.legendStep+1)),r},S.prototype.opacityForLegend=function(n){return n.classed(k.legendItemHidden)?null:1},S.prototype.opacityForUnfocusedLegend=function(n){return n.classed(k.legendItemHidden)?null:.3},S.prototype.toggleFocusLegend=function(n,r){var s=this;n=s.mapToTargetIds(n),s.legend.selectAll("."+k.legendItem).filter(function(c){return n.indexOf(c)>=0}).classed(k.legendItemFocused,r).transition().duration(100).style("opacity",function(){return(r?s.opacityForLegend:s.opacityForUnfocusedLegend).call(s,s.d3.select(this))})},S.prototype.revertLegend=function(){var n=this,r=n.d3;n.legend.selectAll("."+k.legendItem).classed(k.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(r.select(this))})},S.prototype.showLegend=function(n){var r=this,s=r.config;s.legend_show||(s.legend_show=!0,r.legend.style("visibility","visible"),r.legendHasRendered||r.updateLegendWithDefaults()),r.removeHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return r.opacityForLegend(r.d3.select(this))})},S.prototype.hideLegend=function(n){var r=this,s=r.config;s.legend_show&&xi(n)&&(s.legend_show=!1,r.legend.style("visibility","hidden")),r.addHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},S.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},S.prototype.updateLegend=function(n,r,s){var m,w,T,M,C,O,G,Y,z,Rt,ut,qt,re,ue,ee,ae,c=this,g=c.config,Z=0,tt=0,At=g.legend_item_tile_width+5,Pt=0,Ot={},Mt={},pt={},Ht=[0],ht={},at=0;function Xt(J,mt,Fe){var Qe,ha,cn=0===Fe,er=Fe===n.length-1,fn=function pe(J,mt){return c.legendItemTextBox[mt]||(c.legendItemTextBox[mt]=c.getTextRect(J.textContent,k.legendItem,J)),c.legendItemTextBox[mt]}(J,mt),ze=fn.width+At+(!er||c.isLegendRight||c.isLegendInset?10:0)+g.legend_padding,Re=fn.height+4,ln=c.isLegendRight||c.isLegendInset?Re:ze,vi=c.isLegendRight||c.isLegendInset?c.getLegendHeight():c.getLegendWidth();function nr(je,Mn){Mn||(Qe=(vi-Pt-ln)/2)<10&&(Qe=(vi-ln)/2,Pt=0,at++),ht[je]=at,Ht[at]=c.isLegendInset?10:Qe,Ot[je]=Pt,Pt+=ln}cn&&(Pt=0,at=0,Z=0,tt=0),!g.legend_show||c.isLegendToShow(mt)?(Mt[mt]=ze,pt[mt]=Re,(!Z||ze>=Z)&&(Z=ze),(!tt||Re>=tt)&&(tt=Re),ha=c.isLegendRight||c.isLegendInset?tt:Z,g.legend_equally?(Object.keys(Mt).forEach(function(je){Mt[je]=Z}),Object.keys(pt).forEach(function(je){pt[je]=tt}),(Qe=(vi-ha*n.length)/2)<10?(Pt=0,at=0,n.forEach(function(je){nr(je)})):nr(mt,!0)):nr(mt)):Mt[mt]=pt[mt]=ht[mt]=Ot[mt]=0}n=n.filter(function(J){return!Zt(g.data_names[J])||null!==g.data_names[J]}),ut=Yt(r=r||{},"withTransition",!0),qt=Yt(r,"withTransitionForTransform",!0),c.isLegendInset&&c.updateLegendStep(at=g.legend_inset_step?g.legend_inset_step:n.length),c.isLegendRight?(m=function(J){return Z*ht[J]},M=function(J){return Ht[ht[J]]+Ot[J]}):c.isLegendInset?(m=function(J){return Z*ht[J]+10},M=function(J){return Ht[ht[J]]+Ot[J]}):(m=function(J){return Ht[ht[J]]+Ot[J]},M=function(J){return tt*ht[J]}),w=function(J,mt){return m(J,mt)+4+g.legend_item_tile_width},C=function(J,mt){return M(J,mt)+9},T=function(J,mt){return m(J,mt)},O=function(J,mt){return M(J,mt)-5},G=function(J,mt){return m(J,mt)-2},Y=function(J,mt){return m(J,mt)-2+g.legend_item_tile_width},z=function(J,mt){return M(J,mt)+4},(Rt=c.legend.selectAll("."+k.legendItem).data(n).enter().append("g").attr("class",function(J){return c.generateClass(k.legendItem,J)}).style("visibility",function(J){return c.isLegendToShow(J)?"visible":"hidden"}).style("cursor",function(){return g.interaction_enabled?"pointer":"auto"}).on("click",g.interaction_enabled?function(J){g.legend_item_onclick?g.legend_item_onclick.call(c,J):c.d3.event.altKey?(c.api.hide(),c.api.show(J)):(c.api.toggle(J),c.isTargetToShow(J)?c.api.focus(J):c.api.revert())}:null).on("mouseover",g.interaction_enabled?function(J){g.legend_item_onmouseover?g.legend_item_onmouseover.call(c,J):(c.d3.select(this).classed(k.legendItemFocused,!0),!c.transiting&&c.isTargetToShow(J)&&c.api.focus(J))}:null).on("mouseout",g.interaction_enabled?function(J){g.legend_item_onmouseout?g.legend_item_onmouseout.call(c,J):(c.d3.select(this).classed(k.legendItemFocused,!1),c.api.revert())}:null)).append("text").text(function(J){return Zt(g.data_names[J])?g.data_names[J]:J}).each(function(J,mt){Xt(this,J,mt)}).style("pointer-events","none").attr("x",c.isLegendRight||c.isLegendInset?w:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:C),Rt.append("rect").attr("class",k.legendItemEvent).style("fill-opacity",0).attr("x",c.isLegendRight||c.isLegendInset?T:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:O),Rt.append("line").attr("class",k.legendItemTile).style("stroke",c.color).style("pointer-events","none").attr("x1",c.isLegendRight||c.isLegendInset?G:-200).attr("y1",c.isLegendRight||c.isLegendInset?-200:z).attr("x2",c.isLegendRight||c.isLegendInset?Y:-200).attr("y2",c.isLegendRight||c.isLegendInset?-200:z).attr("stroke-width",g.legend_item_tile_height),ae=c.legend.select("."+k.legendBackground+" rect"),c.isLegendInset&&Z>0&&0===ae.size()&&(ae=c.legend.insert("g","."+k.legendItem).attr("class",k.legendBackground).append("rect")),re=c.legend.selectAll("text").data(n).text(function(J){return Zt(g.data_names[J])?g.data_names[J]:J}).each(function(J,mt){Xt(this,J,mt)}),(ut?re.transition():re).attr("x",w).attr("y",C),ue=c.legend.selectAll("rect."+k.legendItemEvent).data(n),(ut?ue.transition():ue).attr("width",function(J){return Mt[J]}).attr("height",function(J){return pt[J]}).attr("x",T).attr("y",O),ee=c.legend.selectAll("line."+k.legendItemTile).data(n),(ut?ee.transition():ee).style("stroke",c.levelColor?function(J){return c.levelColor(c.cache[J].values.reduce(function(mt,Fe){return mt+Fe.value},0))}:c.color).attr("x1",G).attr("y1",z).attr("x2",Y).attr("y2",z),ae&&(ut?ae.transition():ae).attr("height",c.getLegendHeight()-12).attr("width",Z*(at+1)+10),c.legend.selectAll("."+k.legendItem).classed(k.legendItemHidden,function(J){return!c.isTargetToShow(J)}),c.updateLegendItemWidth(Z),c.updateLegendItemHeight(tt),c.updateLegendStep(at),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(qt,s),c.legendHasRendered=!0},S.prototype.initRegion=function(){var n=this;n.region=n.main.append("g").attr("clip-path",n.clipPath).attr("class",k.regions)},S.prototype.updateRegion=function(n){var r=this,s=r.config;r.region.style("visibility",r.hasArcType()?"hidden":"visible");var c=r.main.select("."+k.regions).selectAll("."+k.region).data(s.regions),g=c.enter().append("g");g.append("rect").attr("x",r.regionX.bind(r)).attr("y",r.regionY.bind(r)).attr("width",r.regionWidth.bind(r)).attr("height",r.regionHeight.bind(r)).style("fill-opacity",function(m){return gt(m.opacity)?m.opacity:.1}),g.append("text").text(r.labelRegion.bind(r)),r.mainRegion=g.merge(c).attr("class",r.classRegion.bind(r)),c.exit().transition().duration(n).style("opacity",0).remove()},S.prototype.redrawRegion=function(n,r){var s=this,c=s.mainRegion,g=s.mainRegion.selectAll("text");return[(n?c.transition(r):c).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(m){return gt(m.opacity)?m.opacity:.1}),(n?g.transition(r):g).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},S.prototype.regionX=function(n){var r=this,s=r.config;return"y"===n.axis||"y2"===n.axis?s.axis_rotated&&"start"in n?("y"===n.axis?r.y:r.y2)(n.start):0:s.axis_rotated?0:"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0},S.prototype.regionY=function(n){var r=this,s=r.config;return"y"===n.axis||"y2"===n.axis?s.axis_rotated?0:"end"in n?("y"===n.axis?r.y:r.y2)(n.end):0:s.axis_rotated&&"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0},S.prototype.regionWidth=function(n){var g,r=this,s=r.config,c=r.regionX(n);return(g="y"===n.axis||"y2"===n.axis?s.axis_rotated&&"end"in n?("y"===n.axis?r.y:r.y2)(n.end):r.width:s.axis_rotated?r.width:"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.width)<c?0:g-c},S.prototype.regionHeight=function(n){var g,r=this,s=r.config,c=this.regionY(n);return(g="y"===n.axis||"y2"===n.axis?s.axis_rotated?r.height:"start"in n?("y"===n.axis?r.y:r.y2)(n.start):r.height:s.axis_rotated&&"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.height)<c?0:g-c},S.prototype.isRegionOnX=function(n){return!n.axis||"x"===n.axis},S.prototype.labelRegion=function(n){return"label"in n?n.label:""},S.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},S.prototype.labelOffsetX=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+s:this.regionX(n)+r},S.prototype.labelOffsetY=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+r):this.regionY(n)+10+s},S.prototype.getScale=function(n,r,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([n,r])},S.prototype.getX=function(n,r,s,c){var T,g=this,m=g.getScale(n,r,g.isTimeSeries()),w=s?m.domain(s):m;for(T in g.isCategorized()?(c=c||function(){return 0},m=function(M,C){var O=w(M)+c(M);return C?O:Math.ceil(O)}):m=function(M,C){var O=w(M);return C?O:Math.ceil(O)},w)m[T]=w[T];return m.orgDomain=function(){return w.domain()},g.isCategorized()&&(m.domain=function(M){return arguments.length?(w.domain(M),m):[(M=this.orgDomain())[0],M[1]+1]}),m},S.prototype.getY=function(n,r,s){var c;if("timeseries"===n||"time"===n)c=this.d3.scaleTime();else if("log"===n)c=Ji(this.d3);else{if("linear"!==n&&void 0!==n)throw new Error('Invalid Y axis type: "'+n+'"');c=this.d3.scaleLinear()}return r&&c.domain(r),s&&c.range(s),c},S.prototype.getYScale=function(n){return"y2"===this.axis.getId(n)?this.y2:this.y},S.prototype.getSubYScale=function(n){return"y2"===this.axis.getId(n)?this.subY2:this.subY},S.prototype.updateScales=function(){var n=this,r=n.config,s=!n.x;n.xMin=r.axis_rotated?1:0,n.xMax=r.axis_rotated?n.height:n.width,n.yMin=r.axis_rotated?0:n.height,n.yMax=r.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=r.axis_rotated?0:n.height2,n.subYMax=r.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,s?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(r.axis_y_type,s?r.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(c){return c%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(r.axis_y_type,s?r.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,r.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,r.axis_y2_tick_outer),s||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},S.prototype.selectPoint=function(n,r,s){var c=this,g=c.config,m=(g.axis_rotated?c.circleY:c.circleX).bind(c),w=(g.axis_rotated?c.circleX:c.circleY).bind(c),T=c.pointSelectR.bind(c);g.data_onselected.call(c.api,r,n.node()),c.main.select("."+k.selectedCircles+c.getTargetSelectorSuffix(r.id)).selectAll("."+k.selectedCircle+"-"+s).data([r]).enter().append("circle").attr("class",function(){return c.generateClass(k.selectedCircle,s)}).attr("cx",m).attr("cy",w).attr("stroke",function(){return c.color(r)}).attr("r",function(M){return 1.4*c.pointSelectR(M)}).transition().duration(100).attr("r",T)},S.prototype.unselectPoint=function(n,r,s){var c=this;c.config.data_onunselected.call(c.api,r,n.node()),c.main.select("."+k.selectedCircles+c.getTargetSelectorSuffix(r.id)).selectAll("."+k.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},S.prototype.togglePoint=function(n,r,s,c){n?this.selectPoint(r,s,c):this.unselectPoint(r,s,c)},S.prototype.selectPath=function(n,r){var s=this;s.config.data_onselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(r)).brighter(.75)})},S.prototype.unselectPath=function(n,r){var s=this;s.config.data_onunselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.color(r)})},S.prototype.togglePath=function(n,r,s,c){n?this.selectPath(r,s,c):this.unselectPath(r,s,c)},S.prototype.getToggle=function(n,r){var c,s=this;return"circle"===n.nodeName?c=s.isStepType(r)?function(){}:s.togglePoint:"path"===n.nodeName&&(c=s.togglePath),c},S.prototype.toggleShape=function(n,r,s){var c=this,g=c.d3,m=c.config,w=g.select(n),T=w.classed(k.SELECTED),M=c.getToggle(n,r).bind(c);m.data_selection_enabled&&m.data_selection_isselectable(r)&&(m.data_selection_multiple||c.main.selectAll("."+k.shapes+(m.data_selection_grouped?c.getTargetSelectorSuffix(r.id):"")).selectAll("."+k.shape).each(function(C,O){var G=g.select(this);G.classed(k.SELECTED)&&M(!1,G.classed(k.SELECTED,!1),C,O)}),w.classed(k.SELECTED,!T),M(!T,w,r,s))},S.prototype.initBar=function(){this.main.select("."+k.chart).append("g").attr("class",k.chartBars)},S.prototype.updateTargetsForBar=function(n){var r=this,s=r.config,m=r.classChartBar.bind(r),w=r.classBars.bind(r),T=r.classFocus.bind(r);r.main.select("."+k.chartBars).selectAll("."+k.chartBar).data(n).attr("class",function(M){return m(M)+T(M)}).enter().append("g").attr("class",m).style("pointer-events","none").append("g").attr("class",w).style("cursor",function(M){return s.data_selection_isselectable(M)?"pointer":null})},S.prototype.updateBar=function(n){var r=this,s=r.barData.bind(r),c=r.classBar.bind(r),g=r.initialOpacity.bind(r),m=function(M){return r.color(M.id)},w=r.main.selectAll("."+k.bars).selectAll("."+k.bar).data(s),T=w.enter().append("path").attr("class",c).style("stroke",m).style("fill",m);r.mainBar=T.merge(w).style("opacity",g),w.exit().transition().duration(n).style("opacity",0)},S.prototype.redrawBar=function(n,r,s){var c=this;return[(r?this.mainBar.transition(s):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(g){return c.isTargetToShow(g.id)?1:0})]},S.prototype.getBarW=function(n,r){var c=this.config,g="number"==typeof c.bar_width?c.bar_width:r?n.tickInterval()*c.bar_width_ratio/r:0;return c.bar_width_max&&g>c.bar_width_max?c.bar_width_max:g},S.prototype.getBars=function(n,r){var s=this;return(r?s.main.selectAll("."+k.bars+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+k.bar+(gt(n)?"-"+n:""))},S.prototype.expandBars=function(n,r,s){s&&this.unexpandBars(),this.getBars(n,r).classed(k.EXPANDED,!0)},S.prototype.unexpandBars=function(n){this.getBars(n).classed(k.EXPANDED,!1)},S.prototype.generateDrawBar=function(n,r){var c=this.config,g=this.generateGetBarPoints(n,r);return function(m,w){var T=g(m,w),M=c.axis_rotated?1:0,C=c.axis_rotated?0:1;return"M "+T[0][M]+","+T[0][C]+" L"+T[1][M]+","+T[1][C]+" L"+T[2][M]+","+T[2][C]+" L"+T[3][M]+","+T[3][C]+" z"}},S.prototype.generateGetBarPoints=function(n,r){var s=this,g=n.__max__+1,m=s.getBarW(r?s.subXAxis:s.xAxis,g),w=s.getShapeX(m,g,n,!!r),T=s.getShapeY(!!r),M=s.getShapeOffset(s.isBarType,n,!!r),C=m*(s.config.bar_space/2),O=r?s.getSubYScale:s.getYScale;return function(G,Y){var z=O.call(s,G.id)(0),B=M(G,Y)||z,q=w(G),Z=T(G);return s.config.axis_rotated&&(0<G.value&&Z<z||G.value<0&&z<Z)&&(Z=z),[[q+C,B],[q+C,Z-=z-B],[q+m-C,Z],[q+m-C,B]]}},S.prototype.isWithinBar=function(n,r){return function(n,r,s){return void 0===s&&(s=0),r.x-s<n[0]&&n[0]<r.x+r.width+s&&r.y-s<n[1]&&n[1]<r.y+r.height+s}(n,De(r),2)},S.prototype.getShapeIndices=function(n){var m,w,r=this,s=r.config,c={},g=0;return r.filterTargetsToShow(r.data.targets.filter(n,r)).forEach(function(T){for(m=0;m<s.data_groups.length;m++)if(!(s.data_groups[m].indexOf(T.id)<0))for(w=0;w<s.data_groups[m].length;w++)if(s.data_groups[m][w]in c){c[T.id]=c[s.data_groups[m][w]];break}Wt(c[T.id])&&(c[T.id]=g++)}),c.__max__=g-1,c},S.prototype.getShapeX=function(n,r,s,c){var m=c?this.subX:this.x;return function(w){var T=w.id in s?s[w.id]:0;return w.x||0===w.x?m(w.x)-n*(r/2-T):0}},S.prototype.getShapeY=function(n){var r=this;return function(s){return(n?r.getSubYScale(s.id):r.getYScale(s.id))(r.isTargetNormalized(s.id)?r.getRatio("index",s,!0):s.value)}},S.prototype.getShapeOffset=function(n,r,s){var c=this,g=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(n,c))),m=g.map(function(w){return w.id});return function(w,T){var M=s?c.getSubYScale(w.id):c.getYScale(w.id),C=M(0),O=C;return g.forEach(function(G){var Y=c.isStepType(w)?c.convertValuesToStep(G.values):G.values,z=c.isTargetNormalized(w.id),B=Y.map(function(q){return z?c.getRatio("index",q,!0):q.value});G.id===w.id||r[G.id]!==r[w.id]||m.indexOf(G.id)<m.indexOf(w.id)&&((Wt(Y[T])||+Y[T].x!=+w.x)&&(T=-1,Y.forEach(function(q,Z){(q.x.constructor===Date?+q.x:q.x)===(w.x.constructor===Date?+w.x:w.x)&&(T=Z)})),T in Y&&Y[T].value*w.value>=0&&(O+=M(B[T])-C))}),O}},S.prototype.isWithinShape=function(n,r){var g,s=this,c=s.d3.select(n);return s.isTargetToShow(r.id)?"circle"===n.nodeName?g=s.isStepType(r)?s.isWithinStep(n,s.getYScale(r.id)(r.value)):s.isWithinCircle(n,1.5*s.pointSelectR(r)):"path"===n.nodeName&&(g=!c.classed(k.bar)||s.isWithinBar(s.d3.mouse(n),n)):g=!1,g},S.prototype.getInterpolate=function(n){var r=this,s=r.d3,c={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter};return r.isSplineType(n)?c[r.config.spline_interpolation_type]||c.cardinal:r.isStepType(n)?c[r.config.line_step_type]:c.linear},S.prototype.initLine=function(){this.main.select("."+k.chart).append("g").attr("class",k.chartLines)},S.prototype.updateTargetsForLine=function(n){var g,r=this,s=r.config,m=r.classChartLine.bind(r),w=r.classLines.bind(r),T=r.classAreas.bind(r),M=r.classCircles.bind(r),C=r.classFocus.bind(r);(g=r.main.select("."+k.chartLines).selectAll("."+k.chartLine).data(n).attr("class",function(O){return m(O)+C(O)}).enter().append("g").attr("class",m).style("opacity",0).style("pointer-events","none")).append("g").attr("class",w),g.append("g").attr("class",T),g.append("g").attr("class",function(O){return r.generateClass(k.selectedCircles,O.id)}),g.append("g").attr("class",M).style("cursor",function(O){return s.data_selection_isselectable(O)?"pointer":null}),n.forEach(function(O){r.main.selectAll("."+k.selectedCircles+r.getTargetSelectorSuffix(O.id)).selectAll("."+k.selectedCircle).each(function(G){G.value=O.values[G.index].value})})},S.prototype.updateLine=function(n){var r=this,s=r.main.selectAll("."+k.lines).selectAll("."+k.line).data(r.lineData.bind(r)),c=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);r.mainLine=c.merge(s).style("opacity",r.initialOpacity.bind(r)).style("shape-rendering",function(g){return r.isStepType(g)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(n).style("opacity",0)},S.prototype.redrawLine=function(n,r,s){return[(r?this.mainLine.transition(s):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},S.prototype.generateDrawLine=function(n,r){var s=this,c=s.config,g=s.d3.line(),m=s.generateGetLinePoints(n,r),w=r?s.getSubYScale:s.getYScale,T=function(C){return(r?s.subxx:s.xx).call(s,C)},M=function(C,O){return c.data_groups.length>0?m(C,O)[0][1]:w.call(s,C.id)(C.value)};return g=c.axis_rotated?g.x(M).y(T):g.x(T).y(M),c.line_connectNull||(g=g.defined(function(C){return null!=C.value})),function(C){var q,O=c.line_connectNull?s.filterRemoveNull(C.values):C.values,G=r?s.subX:s.x,Y=w.call(s,C.id),z=0,B=0;return s.isLineType(C)?c.data_regions[C.id]?q=s.lineWithRegions(O,G,Y,c.data_regions[C.id]):(s.isStepType(C)&&(O=s.convertValuesToStep(O)),q=g.curve(s.getInterpolate(C))(O)):(O[0]&&(z=G(O[0].x),B=Y(O[0].value)),q=c.axis_rotated?"M "+B+" "+z:"M "+z+" "+B),q||"M 0 0"}},S.prototype.generateGetLinePoints=function(n,r){var s=this,c=s.config,m=s.getShapeX(0,n.__max__+1,n,!!r),w=s.getShapeY(!!r),T=s.getShapeOffset(s.isLineType,n,!!r),M=r?s.getSubYScale:s.getYScale;return function(C,O){var G=M.call(s,C.id)(0),Y=T(C,O)||G,z=m(C),B=w(C);return c.axis_rotated&&(0<C.value&&B<G||C.value<0&&G<B)&&(B=G),[[z,B-(G-Y)],[z,B-(G-Y)],[z,B-(G-Y)],[z,B-(G-Y)]]}},S.prototype.lineWithRegions=function(n,r,s,c){var T,M,O,G,Y,z,B,Z,tt,At,Rt,g=this,m=g.config,C="M",_t=g.isCategorized()?.5:0,Pt=[];function Ot(pt,Ht){var ht;for(ht=0;ht<Ht.length;ht++)if(Ht[ht].start<pt&&pt<=Ht[ht].end)return!0;return!1}if(Zt(c))for(T=0;T<c.length;T++)Pt[T]={},Pt[T].start=Wt(c[T].start)?n[0].x:g.isTimeSeries()?g.parseDate(c[T].start):c[T].start,Pt[T].end=Wt(c[T].end)?n[n.length-1].x:g.isTimeSeries()?g.parseDate(c[T].end):c[T].end;function Mt(pt){return"M"+pt[0][0]+" "+pt[0][1]+" "+pt[1][0]+" "+pt[1][1]}for(At=m.axis_rotated?function(pt){return s(pt.value)}:function(pt){return r(pt.x)},Rt=m.axis_rotated?function(pt){return r(pt.x)}:function(pt){return s(pt.value)},O=g.isTimeSeries()?function(pt,Ht,ht,at){var ut=pt.x.getTime(),qt=Ht.x-pt.x,re=new Date(ut+qt*ht),ue=new Date(ut+qt*(ht+at));return Mt(m.axis_rotated?[[s(Y(ht)),r(re)],[s(Y(ht+at)),r(ue)]]:[[r(re),s(Y(ht))],[r(ue),s(Y(ht+at))]])}:function(pt,Ht,ht,at){return Mt(m.axis_rotated?[[s(Y(ht),!0),r(G(ht))],[s(Y(ht+at),!0),r(G(ht+at))]]:[[r(G(ht),!0),s(Y(ht))],[r(G(ht+at),!0),s(Y(ht+at))]])},T=0;T<n.length;T++)if(Wt(Pt)||!Ot(n[T].x,Pt))C+=" "+At(n[T])+" "+Rt(n[T]);else for(G=g.getScale(n[T-1].x+_t,n[T].x+_t,g.isTimeSeries()),Y=g.getScale(n[T-1].value,n[T].value),z=r(n[T].x)-r(n[T-1].x),B=s(n[T].value)-s(n[T-1].value),tt=2*(Z=2/Math.sqrt(Math.pow(z,2)+Math.pow(B,2))),M=Z;M<=1;M+=tt)C+=O(n[T-1],n[T],M,Z);return C},S.prototype.updateArea=function(n){var r=this,s=r.d3,c=r.main.selectAll("."+k.areas).selectAll("."+k.area).data(r.lineData.bind(r)),g=c.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});r.mainArea=g.merge(c).style("opacity",r.orgAreaOpacity),c.exit().transition().duration(n).style("opacity",0)},S.prototype.redrawArea=function(n,r,s){return[(r?this.mainArea.transition(s):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},S.prototype.generateDrawArea=function(n,r){var s=this,c=s.config,g=s.d3.area(),m=s.generateGetAreaPoints(n,r),w=r?s.getSubYScale:s.getYScale,T=function(O){return(r?s.subxx:s.xx).call(s,O)},M=function(O,G){return c.data_groups.length>0?m(O,G)[0][1]:w.call(s,O.id)(s.getAreaBaseValue(O.id))},C=function(O,G){return c.data_groups.length>0?m(O,G)[1][1]:w.call(s,O.id)(O.value)};return g=c.axis_rotated?g.x0(M).x1(C).y(T):g.x(T).y0(c.area_above?0:M).y1(C),c.line_connectNull||(g=g.defined(function(O){return null!==O.value})),function(O){var B,G=c.line_connectNull?s.filterRemoveNull(O.values):O.values,Y=0,z=0;return s.isAreaType(O)?(s.isStepType(O)&&(G=s.convertValuesToStep(G)),B=g.curve(s.getInterpolate(O))(G)):(G[0]&&(Y=s.x(G[0].x),z=s.getYScale(O.id)(G[0].value)),B=c.axis_rotated?"M "+z+" "+Y:"M "+Y+" "+z),B||"M 0 0"}},S.prototype.getAreaBaseValue=function(){return 0},S.prototype.generateGetAreaPoints=function(n,r){var s=this,c=s.config,m=s.getShapeX(0,n.__max__+1,n,!!r),w=s.getShapeY(!!r),T=s.getShapeOffset(s.isAreaType,n,!!r),M=r?s.getSubYScale:s.getYScale;return function(C,O){var G=M.call(s,C.id)(0),Y=T(C,O)||G,z=m(C),B=w(C);return c.axis_rotated&&(0<C.value&&B<G||C.value<0&&G<B)&&(B=G),[[z,Y],[z,B-(G-Y)],[z,B-(G-Y)],[z,Y]]}},S.prototype.updateCircle=function(n,r){var s=this,c=s.main.selectAll("."+k.circles).selectAll("."+k.circle).data(s.lineOrScatterOrStanfordData.bind(s)),g=c.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",n).attr("cy",r).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=g.merge(c).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),c.exit().style("opacity",0)},S.prototype.redrawCircle=function(n,r,s,c){var g=this,m=g.main.selectAll("."+k.selectedCircle);return[(s?g.mainCircle.transition(c):g.mainCircle).style("opacity",this.opacityForCircle.bind(g)).style("color",g.isStanfordGraphType()?g.getStanfordPointColor.bind(g):g.color).attr("cx",n).attr("cy",r),(s?m.transition(c):m).attr("cx",n).attr("cy",r)]},S.prototype.circleX=function(n){return n.x||0===n.x?this.x(n.x):null},S.prototype.updateCircleY=function(){var r,s,n=this;n.config.data_groups.length>0?(r=n.getShapeIndices(n.isLineType),s=n.generateGetLinePoints(r),n.circleY=function(c,g){return s(c,g)[0][1]}):n.circleY=function(c){return n.getYScale(c.id)(c.value)}},S.prototype.getCircles=function(n,r){var s=this;return(r?s.main.selectAll("."+k.circles+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+k.circle+(gt(n)?"-"+n:""))},S.prototype.expandCircles=function(n,r,s){var c=this,g=c.pointExpandedR.bind(c);s&&c.unexpandCircles(),c.getCircles(n,r).classed(k.EXPANDED,!0).attr("r",g)},S.prototype.unexpandCircles=function(n){var r=this,s=r.pointR.bind(r);r.getCircles(n).filter(function(){return r.d3.select(this).classed(k.EXPANDED)}).classed(k.EXPANDED,!1).attr("r",s)},S.prototype.pointR=function(n){var s=this.config;return this.isStepType(n)?0:Tt(s.point_r)?s.point_r(n):s.point_r},S.prototype.pointExpandedR=function(n){var r=this,s=r.config;return s.point_focus_expand_enabled?Tt(s.point_focus_expand_r)?s.point_focus_expand_r(n):s.point_focus_expand_r?s.point_focus_expand_r:1.75*r.pointR(n):r.pointR(n)},S.prototype.pointSelectR=function(n){var s=this.config;return Tt(s.point_select_r)?s.point_select_r(n):s.point_select_r?s.point_select_r:4*this.pointR(n)},S.prototype.isWithinCircle=function(n,r){var s=this.d3,c=s.mouse(n),g=s.select(n),m=+g.attr("cx"),w=+g.attr("cy");return Math.sqrt(Math.pow(m-c[0],2)+Math.pow(w-c[1],2))<r},S.prototype.isWithinStep=function(n,r){return Math.abs(r-this.d3.mouse(n)[1])<30},S.prototype.getCurrentWidth=function(){var r=this.config;return r.size_width?r.size_width:this.getParentWidth()},S.prototype.getCurrentHeight=function(){var n=this,r=n.config,s=r.size_height?r.size_height:n.getParentHeight();return s>0?s:320/(n.hasType("gauge")&&!r.gauge_fullCircle?2:1)},S.prototype.getCurrentPaddingTop=function(){var n=this,r=n.config,s=gt(r.padding_top)?r.padding_top:0;return n.title&&n.title.node()&&(s+=n.getTitlePadding()),s},S.prototype.getCurrentPaddingBottom=function(){var n=this.config;return gt(n.padding_bottom)?n.padding_bottom:0},S.prototype.getCurrentPaddingLeft=function(n){var r=this,s=r.config;return gt(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(te(r.getAxisWidthByAxisId("x",n)),40):!s.axis_y_show||s.axis_y_inner?r.axis.getYAxisLabelPosition().isOuter?30:1:te(r.getAxisWidthByAxisId("y",n))},S.prototype.getCurrentPaddingRight=function(){var n=this,r=n.config,s=0,g=n.isLegendRight?n.getLegendWidth()+20:0;return s=gt(r.padding_right)?r.padding_right+1:r.axis_rotated?10+g:!r.axis_y2_show||r.axis_y2_inner?2+g+(n.axis.getY2AxisLabelPosition().isOuter?20:0):te(n.getAxisWidthByAxisId("y2"))+g,n.colorScale&&n.colorScale.node()&&(s+=n.getColorScalePadding()),s},S.prototype.getParentRectValue=function(n){for(var s,r=this.selectChart.node();r&&"BODY"!==r.tagName;){try{s=r.getBoundingClientRect()[n]}catch(c){"width"===n&&(s=r.offsetWidth)}if(s)break;r=r.parentNode}return s},S.prototype.getParentWidth=function(){return this.getParentRectValue("width")},S.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return n.indexOf("px")>0?+n.replace("px",""):0},S.prototype.getSvgLeft=function(n){var r=this,s=r.config,c=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,m=r.main.select("."+(s.axis_rotated?k.axisX:k.axisY)).node(),w=m&&c?m.getBoundingClientRect():{right:0},T=r.selectChart.node().getBoundingClientRect(),M=r.hasArcType(),C=w.right-T.left-(M?0:r.getCurrentPaddingLeft(n));return C>0?C:0},S.prototype.getAxisWidthByAxisId=function(n,r){var c=this.axis.getLabelPositionById(n);return this.axis.getMaxTickWidth(n,r)+(c.isInner?20:40)},S.prototype.getHorizontalAxisHeight=function(n,r){var s=this,c=s.config,g=30;return"x"!==n||(Zt(r)&&r?c.subchart_axis_x_show:c.axis_x_show)?"x"===n&&c.axis_x_height?c.axis_x_height:"y"!==n||c.axis_y_show?"y2"!==n||c.axis_y2_show?("x"===n&&!c.axis_rotated&&c.axis_x_tick_rotate&&(g=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_x_tick_rotate))/180)),"y"===n&&c.axis_rotated&&c.axis_y_tick_rotate&&(g=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_y_tick_rotate))/180)),g+(s.axis.getLabelPositionById(n).isInner?0:10)+("y2"===n?-10:0)):s.rotated_padding_top:!c.legend_show||s.isLegendRight||s.isLegendInset?1:10:8},S.prototype.initBrush=function(n){var r=this,s=r.d3;return r.brush=(r.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var c=s.event.sourceEvent;c&&"zoom"===c.type||r.redrawForBrush()}).on("end",function(){var c=s.event.sourceEvent;c&&"zoom"===c.type||r.brush.empty()&&c&&"end"!==c.type&&r.brush.clear()}),r.brush.updateExtent=function(){var c=this.scale.range();return this.extent(r.config.axis_rotated?[[0,c[0]],[r.width2,c[1]]]:[[c[0],0],[c[1],r.height2]]),this},r.brush.updateScale=function(c){return this.scale=c,this},r.brush.update=function(c){this.updateScale(c||r.subX).updateExtent(),r.context.select("."+k.brush).call(this)},r.brush.clear=function(){r.context.select("."+k.brush).call(r.brush.move,null)},r.brush.selection=function(){return s.brushSelection(r.context.select("."+k.brush).node())},r.brush.selectionAsValue=function(c,g){var m,w;return c?(r.context&&(m=[this.scale(c[0]),this.scale(c[1])],w=r.context.select("."+k.brush),g&&(w=w.transition()),r.brush.move(w,m)),[]):(m=r.brush.selection()||[0,0],[this.scale.invert(m[0]),this.scale.invert(m[1])])},r.brush.empty=function(){var c=r.brush.selection();return!c||c[0]===c[1]},r.brush.updateScale(n)},S.prototype.initSubchart=function(){var n=this,r=n.config,s=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",k.chart),s.select("."+k.chart).append("g").attr("class",k.chartBars),s.select("."+k.chart).append("g").attr("class",k.chartLines),s.append("g").attr("clip-path",n.clipPath).attr("class",k.brush),n.axes.subx=s.append("g").attr("class",k.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",r.axis_rotated?"":n.clipPathForXAxis).style("visibility",r.subchart_axis_x_show?"visible":"hidden")},S.prototype.initSubchartBrush=function(){var n=this;n.initBrush(n.subX).updateExtent(),n.context.select("."+k.brush).call(n.brush)},S.prototype.updateTargetsForSubchart=function(n){var g,m,w,T,r=this,s=r.context,c=r.config,M=r.classChartBar.bind(r),C=r.classBars.bind(r),O=r.classChartLine.bind(r),G=r.classLines.bind(r),Y=r.classAreas.bind(r);(w=(T=s.select("."+k.chartBars).selectAll("."+k.chartBar).data(n)).enter().append("g").style("opacity",0)).merge(T).attr("class",M),w.append("g").attr("class",C),(g=(m=s.select("."+k.chartLines).selectAll("."+k.chartLine).data(n)).enter().append("g").style("opacity",0)).merge(m).attr("class",O),g.append("g").attr("class",G),g.append("g").attr("class",Y),s.selectAll("."+k.brush+" rect").attr(c.axis_rotated?"width":"height",c.axis_rotated?r.width2:r.height2)},S.prototype.updateBarForSubchart=function(n){var r=this,s=r.context.selectAll("."+k.bars).selectAll("."+k.bar).data(r.barData.bind(r)),c=s.enter().append("path").attr("class",r.classBar.bind(r)).style("stroke","none").style("fill",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextBar=c.merge(s).style("opacity",r.initialOpacity.bind(r))},S.prototype.redrawBarForSubchart=function(n,r,s){(r?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",n).style("opacity",1)},S.prototype.updateLineForSubchart=function(n){var r=this,s=r.context.selectAll("."+k.lines).selectAll("."+k.line).data(r.lineData.bind(r)),c=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextLine=c.merge(s).style("opacity",r.initialOpacity.bind(r))},S.prototype.redrawLineForSubchart=function(n,r,s){(r?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",n).style("opacity",1)},S.prototype.updateAreaForSubchart=function(n){var r=this,s=r.d3,c=r.context.selectAll("."+k.areas).selectAll("."+k.area).data(r.lineData.bind(r)),g=c.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});c.exit().transition().duration(n).style("opacity",0).remove(),r.contextArea=g.merge(c).style("opacity",0)},S.prototype.redrawAreaForSubchart=function(n,r,s){(r?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},S.prototype.redrawSubchart=function(n,r,s,c,g,m,w){var C,O,G,T=this,M=T.d3;M.event&&"zoom"===M.event.type&&T.brush.selectionAsValue(T.x.orgDomain()),n&&(T.brush.empty()||T.brush.selectionAsValue(T.x.orgDomain()),C=T.generateDrawArea(g,!0),O=T.generateDrawBar(m,!0),G=T.generateDrawLine(w,!0),T.updateBarForSubchart(s),T.updateLineForSubchart(s),T.updateAreaForSubchart(s),T.redrawBarForSubchart(O,s,s),T.redrawLineForSubchart(G,s,s),T.redrawAreaForSubchart(C,s,s))},S.prototype.redrawForBrush=function(){var c,n=this,r=n.x,s=n.d3;n.redraw({withTransition:!1,withY:n.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),c=s.event.selection||n.brush.scale.range(),n.main.select("."+k.eventRect).call(n.zoom.transform,s.zoomIdentity.scale(n.width/(c[1]-c[0])).translate(-c[0],0)),n.config.subchart_onbrush.call(n.api,r.orgDomain())},S.prototype.transformContext=function(n,r){var c,s=this;r&&r.axisSubX?c=r.axisSubX:(c=s.context.select("."+k.axisX),n&&(c=c.transition())),s.context.attr("transform",s.getTranslate("context")),c.attr("transform",s.getTranslate("subx"))},S.prototype.getDefaultSelection=function(){var n=this,r=n.config,s=Tt(r.axis_x_selection)?r.axis_x_selection(n.getXDomain(n.data.targets)):r.axis_x_selection;return n.isTimeSeries()&&(s=[n.parseDate(s[0]),n.parseDate(s[1])]),s},S.prototype.removeSubchart=function(){var n=this;n.brush=null,n.context.remove(),n.context=null},S.prototype.initText=function(){var n=this;n.main.select("."+k.chart).append("g").attr("class",k.chartTexts),n.mainText=n.d3.selectAll([])},S.prototype.updateTargetsForText=function(n){var r=this,s=r.classChartText.bind(r),c=r.classTexts.bind(r),g=r.classFocus.bind(r),m=r.main.select("."+k.chartTexts).selectAll("."+k.chartText).data(n),w=m.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");w.append("g").attr("class",c),w.merge(m).attr("class",function(T){return s(T)+g(T)})},S.prototype.updateText=function(n,r,s){var c=this,g=c.config,m=c.barOrLineData.bind(c),w=c.classText.bind(c),T=c.main.selectAll("."+k.texts).selectAll("."+k.text).data(m),M=T.enter().append("text").attr("class",w).attr("text-anchor",function(C){return g.axis_rotated?C.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",r).style("fill",function(C){return c.color(C)}).style("fill-opacity",0);c.mainText=M.merge(T).text(function(C,O,G){return c.dataLabelFormat(C.id)(C.value,C.id,O,G)}),T.exit().transition().duration(s).style("fill-opacity",0).remove()},S.prototype.redrawText=function(n,r,s,c,g){return[(c?this.mainText.transition(g):this.mainText).attr("x",n).attr("y",r).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},S.prototype.getTextRect=function(n,r,s){var w,c=this.d3.select("body").append("div").classed("c3",!0),g=c.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),m=this.d3.select(s).style("font");return g.selectAll(".dummy").data([n]).enter().append("text").classed(r||"",!0).style("font",m).text(n).each(function(){w=De(this)}),c.remove(),w},S.prototype.generateXYForText=function(n,r,s,c){var g=this,m=g.generateGetAreaPoints(n,!1),w=g.generateGetBarPoints(r,!1),T=g.generateGetLinePoints(s,!1),M=c?g.getXForText:g.getYForText;return function(C,O){var G=g.isAreaType(C)?m:g.isBarType(C)?w:T;return M.call(g,G(C,O),C,this)}},S.prototype.getXForText=function(n,r,s){var m,w,c=this,g=De(s);return c.config.axis_rotated?(w=c.isBarType(r)?4:6,m=n[2][1]+w*(r.value<0?-1:1)):m=c.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0],null===r.value&&(m>c.width?m=c.width-g.width:m<0&&(m=4)),m},S.prototype.getYForText=function(n,r,s){var m,c=this,g=De(s);return c.config.axis_rotated?m=(n[0][0]+n[2][0]+.6*g.height)/2:(m=n[2][1],r.value<0||0===r.value&&!c.hasPositiveValue?(m+=g.height,c.isBarType(r)&&c.isSafari()?m-=3:!c.isBarType(r)&&c.isChrome()&&(m+=3)):m+=c.isBarType(r)?-3:-6),null===r.value&&!c.config.axis_rotated&&(m<g.height?m=g.height:m>this.height&&(m=this.height-4)),m},S.prototype.initTitle=function(){var n=this;n.title=n.svg.append("text").text(n.config.title_text).attr("class",n.CLASS.title)},S.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},S.prototype.xForTitle=function(){var n=this,r=n.config,s=r.title_position||"left";return s.indexOf("right")>=0?n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-r.title_padding.right:s.indexOf("center")>=0?Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):r.title_padding.left},S.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},S.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},S.prototype.drawColorScale=function(){var g,w,T,M,C,O,G,n=this,r=n.d3,s=n.config,c=n.data.targets[0];if(g=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,5<0||g<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");T=r.range(s.stanford_padding.bottom,G=n.height-s.stanford_padding.bottom-s.stanford_padding.top,5),O=r.scaleSequential(c.colors).domain([T[T.length-1],T[0]]),n.colorScale&&n.colorScale.remove(),n.colorScale=n.svg.append("g").attr("width",50).attr("height",G).attr("class",k.colorScale),n.colorScale.append("g").attr("transform","translate(0, "+s.stanford_padding.top+")").selectAll("bars").data(T).enter().append("rect").attr("y",function(Y,z){return 5*z}).attr("x",0).attr("width",g).attr("height",5).attr("fill",function(Y){return O(Y)}),C=r.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([T[0]+s.stanford_padding.top+T[T.length-1]+5-1,T[0]+s.stanford_padding.top]),M=r.axisRight(C),"pow10"===s.stanford_scaleFormat?M.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):Tt(s.stanford_scaleFormat)?M.tickFormat(s.stanford_scaleFormat):M.tickFormat(r.format("d")),Tt(s.stanford_scaleValues)&&M.tickValues(s.stanford_scaleValues(c.minEpochs,c.maxEpochs)),w=n.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+g+",0)").call(M),"pow10"===s.stanford_scaleFormat&&w.selectAll(".tick text").text(null).filter(fa).text(10).append("tspan").attr("dy","-.7em").text(function(Y){return Math.round(Math.log(Y)/Math.LN10)}),n.colorScale.attr("transform","translate("+(n.currentWidth-n.xForColorScale())+", 0)")},S.prototype.xForColorScale=function(){return this.config.stanford_padding.right+De(this.colorScale.node()).width},S.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},S.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},S.prototype.initStanfordData=function(){var g,m,w,n=this,r=n.d3,s=n.config,c=n.data.targets[0];if(c.values.sort(_s),g=c.values.map(function(T){return T.epochs}),(w=isNaN(s.stanford_scaleMin)?r.min(g):s.stanford_scaleMin)>(m=isNaN(s.stanford_scaleMax)?r.max(g):s.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=Tt(s.stanford_colors)?s.stanford_colors:r.interpolateHslLong(r.hsl(250,1,.5),r.hsl(0,1,.5)),c.colorscale=r.scaleSequentialLog(c.colors).domain([w,m]),c.minEpochs=w,c.maxEpochs=m},S.prototype.getStanfordPointColor=function(n){return this.data.targets[0].colorscale(n.epochs)},S.prototype.getCentroid=function(n){var g,m,w,T,M,r=tr(n),s=0,c=0;for(g=0,m=n.length-1;g<n.length;m=g,g+=1)s+=((T=n[g]).x+(M=n[m]).x)*(w=T.x*M.y-M.x*T.y),c+=(T.y+M.y)*w;return{x:s/(w=6*r),y:c/w}},S.prototype.getStanfordTooltipTitle=function(n){var s=this.axis.getLabelText("x"),c=this.axis.getLabelText("y");return"\n      <tr><th>"+(s?ge(s):"x")+"</th><th class='value'>"+n.x+"</th></tr>\n      <tr><th>"+(c?ge(c):"y")+"</th><th class='value'>"+n.value+"</th></tr>\n    "},S.prototype.countEpochsInRegion=function(n){var c,g,s=this.data.targets[0];return c=s.values.reduce(function(m,w){return m+Number(w.epochs)},0),{value:g=s.values.reduce(function(m,w){return la(w,n)?m+Number(w.epochs):m},0),percentage:0!==g?(g/c*100).toFixed(1):0}};var tr=function(n){var s,c,g,m,r=0;for(s=0,c=n.length-1;s<n.length;c=s,s+=1)r+=(g=n[s]).x*(m=n[c]).y,r-=g.y*m.x;return r/2},la=function(n,r){for(var s,c,g,T=n.x,M=n.value,C=!1,O=0,G=r.length-1;O<r.length;G=O++)s=r[O].x,(c=r[O].y)>M!=(g=r[G].y)>M&&T<(r[G].x-s)*(M-c)/(g-c)+s&&(C=!C);return C},_s=function(n,r){return n.epochs<r.epochs?-1:n.epochs>r.epochs?1:0};return S.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+k.chart).append("g").attr("class",k.stanfordElements),n.stanfordElements.append("g").attr("class",k.stanfordLines),n.stanfordElements.append("g").attr("class",k.stanfordTexts),n.stanfordElements.append("g").attr("class",k.stanfordRegions)},S.prototype.updateStanfordElements=function(n){var g,m,w,T,M,C,r=this,s=r.main,c=r.config,O=r.xvCustom.bind(r),G=r.yvCustom.bind(r),Y=r.countEpochsInRegion.bind(r);(m=(g=s.select("."+k.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+k.stanfordLine).data(c.stanford_lines)).enter().append("g").attr("class",function(z){return k.stanfordLine+(z.class?" "+z.class:"")})).append("line").attr("x1",function(z){return c.axis_rotated?G(z,"value_y1"):O(z,"value_x1")}).attr("x2",function(z){return c.axis_rotated?G(z,"value_y2"):O(z,"value_x2")}).attr("y1",function(z){return c.axis_rotated?O(z,"value_x1"):G(z,"value_y1")}).attr("y2",function(z){return c.axis_rotated?O(z,"value_x2"):G(z,"value_y2")}).style("opacity",0),r.stanfordLines=m.merge(g),r.stanfordLines.select("line").transition().duration(n).attr("x1",function(z){return c.axis_rotated?G(z,"value_y1"):O(z,"value_x1")}).attr("x2",function(z){return c.axis_rotated?G(z,"value_y2"):O(z,"value_x2")}).attr("y1",function(z){return c.axis_rotated?O(z,"value_x1"):G(z,"value_y1")}).attr("y2",function(z){return c.axis_rotated?O(z,"value_x2"):G(z,"value_y2")}).style("opacity",1),g.exit().transition().duration(n).style("opacity",0).remove(),(C=(M=s.select("."+k.stanfordTexts).selectAll("."+k.stanfordText).data(c.stanford_texts)).enter().append("g").attr("class",function(z){return k.stanfordText+(z.class?" "+z.class:"")})).append("text").attr("x",function(z){return c.axis_rotated?G(z,"y"):O(z,"x")}).attr("y",function(z){return c.axis_rotated?O(z,"x"):G(z,"y")}).style("opacity",0),r.stanfordTexts=C.merge(M),r.stanfordTexts.select("text").transition().duration(n).attr("x",function(z){return c.axis_rotated?G(z,"y"):O(z,"x")}).attr("y",function(z){return c.axis_rotated?O(z,"x"):G(z,"y")}).text(function(z){return z.content}).style("opacity",1),M.exit().transition().duration(n).style("opacity",0).remove(),(T=(w=s.select("."+k.stanfordRegions).selectAll("."+k.stanfordRegion).data(c.stanford_regions)).enter().append("g").attr("class",function(z){return k.stanfordRegion+(z.class?" "+z.class:"")})).append("polygon").attr("points",function(z){return z.points.map(function(B){return[c.axis_rotated?G(B,"y"):O(B,"x"),c.axis_rotated?O(B,"x"):G(B,"y")].join(",")}).join(" ")}).style("opacity",0),T.append("text").attr("x",function(z){return r.getCentroid(z.points).x}).attr("y",function(z){return r.getCentroid(z.points).y}).style("opacity",0),r.stanfordRegions=T.merge(w),r.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(z){return z.points.map(function(B){return[c.axis_rotated?G(B,"y"):O(B,"x"),c.axis_rotated?O(B,"x"):G(B,"y")].join(",")}).join(" ")}).style("opacity",function(z){return z.opacity?z.opacity:.2}),r.stanfordRegions.select("text").transition().duration(n).attr("x",function(z){return c.axis_rotated?G(r.getCentroid(z.points),"y"):O(r.getCentroid(z.points),"x")}).attr("y",function(z){return c.axis_rotated?O(r.getCentroid(z.points),"x"):G(r.getCentroid(z.points),"y")}).text(function(z){var B,q,Z;return z.text?(r.isStanfordGraphType()&&(B=(Z=Y(z.points)).value,q=Z.percentage),z.text(B,q)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},S.prototype.initTooltip=function(){var s,n=this,r=n.config;if(n.tooltip=n.selectChart.style("position","relative").append("div").attr("class",k.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),r.tooltip_init_show){if(n.isTimeSeries()&&Et(r.tooltip_init_x)){for(r.tooltip_init_x=n.parseDate(r.tooltip_init_x),s=0;s<n.data.targets[0].values.length&&n.data.targets[0].values[s].x-r.tooltip_init_x!=0;s++);r.tooltip_init_x=s}n.tooltip.html(r.tooltip_contents.call(n,n.data.targets.map(function(c){return n.addName(c.values[r.tooltip_init_x])}),n.axis.getXAxisTickFormat(),n.getYFormat(n.hasArcType()),n.color)),n.tooltip.style("top",r.tooltip_init_position.top).style("left",r.tooltip_init_position.left).style("display","block")}},S.prototype.getTooltipSortFunction=function(){var n=this,r=n.config;if(0!==r.data_groups.length&&void 0===r.tooltip_order){var m=n.orderTargets(n.data.targets).map(function(w){return w.id});return(n.isOrderAsc()||n.isOrderDesc())&&(m=m.reverse()),function(w,T){return m.indexOf(w.id)-m.indexOf(T.id)}}var s=r.tooltip_order;void 0===s&&(s=r.data_order);var c=function(w){return w?w.value:null};if(Et(s)&&"asc"===s.toLowerCase())return function(w,T){return c(w)-c(T)};if(Et(s)&&"desc"===s.toLowerCase())return function(w,T){return c(T)-c(w)};if(Tt(s)){var g=s;return void 0===r.tooltip_order&&(g=function(w,T){return s(w?{id:w.id,values:[w]}:null,T?{id:T.id,values:[T]}:null)}),g}return Hn(s)?function(w,T){return s.indexOf(w.id)-s.indexOf(T.id)}:void 0},S.prototype.getTooltipContent=function(n,r,s,c){var M,C,O,G,Y,z,g=this,m=g.config,w=m.tooltip_format_title||r,T=m.tooltip_format_name||function(Z){return Z},B=m.tooltip_format_value;B||(B=g.isTargetNormalized(n.id)?function(Z,tt){return(100*tt).toFixed(2)+"%"}:s);var q=this.getTooltipSortFunction();for(q&&n.sort(q),C=0;C<n.length;C++)if(n[C]&&(n[C].value||0===n[C].value)){if(g.isStanfordGraphType())M||(O=g.getStanfordTooltipTitle(n[C]),M="<table class='"+g.CLASS.tooltip+"'>"+O),z=g.getStanfordPointColor(n[C]),Y=ge(m.data_epochs),G=n[C].epochs;else if(M||(O=ge(w?w(n[C].x,n[C].index):n[C].x),M="<table class='"+g.CLASS.tooltip+"'>"+(O||0===O?"<tr><th colspan='2'>"+O+"</th></tr>":"")),void 0!==(G=ge(B(n[C].value,n[C].ratio,n[C].id,n[C].index,n)))){if(null===n[C].name)continue;Y=ge(T(n[C].name,n[C].ratio,n[C].id,n[C].index)),z=g.levelColor?g.levelColor(n[C].value):c(n[C].id)}void 0!==G&&(M+="<tr class='"+g.CLASS.tooltipName+"-"+g.getTargetSelectorSuffix(n[C].id)+"'>",M+="<td class='name'><span style='background-color:"+z+"'></span>"+Y+"</td>",M+="<td class='value'>"+G+"</td>",M+="</tr>")}return M+"</table>"},S.prototype.tooltipPosition=function(n,r,s,c){var T,M,C,O,G,g=this,m=g.config,w=g.d3,Y=g.hasArcType(),z=w.mouse(c);return Y?(M=(g.width-(g.isLegendRight?g.getLegendWidth():0))/2+z[0],O=(g.hasType("gauge")?g.height:g.height/2)+z[1]+20):(T=g.getSvgLeft(!0),m.axis_rotated?(C=(M=T+z[0]+100)+r,G=g.currentWidth-g.getCurrentPaddingRight(),O=g.x(n[0].x)+20):(C=(M=T+g.getCurrentPaddingLeft(!0)+g.x(n[0].x)+20)+r,G=T+g.currentWidth-g.getCurrentPaddingRight(),O=z[1]+15),C>G&&(M-=C-G+20),O+s>g.currentHeight&&(O-=s+30)),O<0&&(O=0),{top:O,left:M}},S.prototype.showTooltip=function(n,r){var g,m,w,s=this,c=s.config,T=s.hasArcType(),M=n.filter(function(O){return O&&gt(O.value)}),C=c.tooltip_position||S.prototype.tooltipPosition;0!==M.length&&c.tooltip_show?(s.tooltip.html(c.tooltip_contents.call(s,n,s.axis.getXAxisTickFormat(),s.getYFormat(T),s.color)).style("display","block"),g=s.tooltip.property("offsetWidth"),m=s.tooltip.property("offsetHeight"),w=C.call(this,M,g,m,r),s.tooltip.style("top",w.top+"px").style("left",w.left+"px")):s.hideTooltip()},S.prototype.hideTooltip=function(){this.tooltip.style("display","none")},S.prototype.setTargetType=function(n,r){var s=this,c=s.config;s.mapToTargetIds(n).forEach(function(g){s.withoutFadeIn[g]=r===c.data_types[g],c.data_types[g]=r}),n||(c.data_type=r)},S.prototype.hasType=function(n,r){var s=this,c=s.config.data_types,g=!1;return(r=r||s.data.targets)&&r.length?r.forEach(function(m){var w=c[m.id];(w&&w.indexOf(n)>=0||!w&&"line"===n)&&(g=!0)}):Object.keys(c).length?Object.keys(c).forEach(function(m){c[m]===n&&(g=!0)}):g=s.config.data_type===n,g},S.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},S.prototype.isLineType=function(n){var r=this.config,s=Et(n)?n:n.id;return!r.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(r.data_types[s])>=0},S.prototype.isStepType=function(n){var r=Et(n)?n:n.id;return["step","area-step"].indexOf(this.config.data_types[r])>=0},S.prototype.isSplineType=function(n){var r=Et(n)?n:n.id;return["spline","area-spline"].indexOf(this.config.data_types[r])>=0},S.prototype.isAreaType=function(n){var r=Et(n)?n:n.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[r])>=0},S.prototype.isBarType=function(n){var r=Et(n)?n:n.id;return"bar"===this.config.data_types[r]},S.prototype.isScatterType=function(n){var r=Et(n)?n:n.id;return"scatter"===this.config.data_types[r]},S.prototype.isStanfordType=function(n){var r=Et(n)?n:n.id;return"stanford"===this.config.data_types[r]},S.prototype.isPieType=function(n){var r=Et(n)?n:n.id;return"pie"===this.config.data_types[r]},S.prototype.isGaugeType=function(n){var r=Et(n)?n:n.id;return"gauge"===this.config.data_types[r]},S.prototype.isDonutType=function(n){var r=Et(n)?n:n.id;return"donut"===this.config.data_types[r]},S.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},S.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},S.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},S.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},S.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},S.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},S.prototype.isSafari=function(){var n=window.navigator.userAgent;return n.indexOf("Safari")>=0&&n.indexOf("Chrome")<0},S.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},S.prototype.initZoom=function(){var c,n=this,r=n.d3,s=n.config;return n.zoom=r.zoom().on("start",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||(c=g,s.zoom_onzoomstart.call(n.api,g))}}).on("zoom",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||(n.redrawForZoom(),s.zoom_onzoom.call(n.api,n.x.orgDomain()))}}).on("end",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||g&&c.clientX===g.clientX&&c.clientY===g.clientY||s.zoom_onzoomend.call(n.api,n.x.orgDomain())}}),n.zoom.updateDomain=function(){return r.event&&r.event.transform&&n.x.domain(s.axis_rotated&&"scroll"===s.zoom_type&&"mousemove"===r.event.sourceEvent.type?r.event.transform.rescaleY(n.subX).domain():r.event.transform.rescaleX(n.subX).domain()),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},S.prototype.zoomTransform=function(n){var r=this,s=[r.x(n[0]),r.x(n[1])];return r.d3.zoomIdentity.scale(r.width/(s[1]-s[0])).translate(-s[0],0)},S.prototype.initDragZoom=function(){var n=this,r=n.d3,s=n.config,c=n.context=n.svg,g=n.margin.left+20.5,m=n.margin.top+.5;if("drag"===s.zoom_type&&s.zoom_enabled){var w=function(M){return M&&M.map(function(C){return n.x.invert(C)})},T=n.dragZoomBrush=r.brushX().on("start",function(){n.api.unzoom(),n.svg.select("."+k.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(n.api,r.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(n.api,w(r.event.selection))}).on("end",function(){if(null!=r.event.selection){var M=w(r.event.selection);s.zoom_disableDefaultBehavior||n.api.zoom(M),n.svg.select("."+k.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(n.api,M)}});c.append("g").classed(k.dragZoom,!0).attr("clip-path",n.clipPath).attr("transform","translate("+g+","+m+")").call(T)}},S.prototype.getZoomDomain=function(){var n=this,r=n.config,s=n.d3;return[s.min([n.orgXDomain[0],r.zoom_x_min]),s.max([n.orgXDomain[1],r.zoom_x_max])]},S.prototype.redrawForZoom=function(){var n=this,r=n.d3,s=n.config,c=n.zoom,g=n.x;!s.zoom_enabled||0!==n.filterTargetsToShow(n.data.targets).length&&(c.update(),!s.zoom_disableDefaultBehavior&&(n.isCategorized()&&g.orgDomain()[0]===n.orgXDomain[0]&&g.domain([n.orgXDomain[0]-1e-10,g.orgDomain()[1]]),n.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),r.event.sourceEvent&&"mousemove"===r.event.sourceEvent.type&&(n.cancelClick=!0)))},un}()},8983:(ds,yi,ke)=>{"use strict";ke.r(yi),ke.d(yi,{FormatSpecifier:()=>Ua,active:()=>xm,arc:()=>LT,area:()=>Yp,areaRadial:()=>Up,ascending:()=>gt,autoType:()=>Vx,axisBottom:()=>ze,axisLeft:()=>Re,axisRight:()=>fn,axisTop:()=>er,bisect:()=>sn,bisectLeft:()=>ps,bisectRight:()=>ca,bisector:()=>Nt,blob:()=>s1,brush:()=>Rm,brushSelection:()=>Mm,brushX:()=>Em,brushY:()=>km,buffer:()=>c1,chord:()=>Gm,clientPoint:()=>ba,cluster:()=>Sw,color:()=>kn,contourDensity:()=>hx,contours:()=>Cl,create:()=>_T,creator:()=>pa,cross:()=>Ki,csv:()=>h1,csvFormat:()=>bx,csvFormatBody:()=>Sx,csvFormatRow:()=>Ax,csvFormatRows:()=>Tx,csvFormatValue:()=>Px,csvParse:()=>kl,csvParseRows:()=>wx,cubehelix:()=>Je,curveBasis:()=>WT,curveBasisClosed:()=>qT,curveBasisOpen:()=>QT,curveBundle:()=>jT,curveCardinal:()=>ZT,curveCardinalClosed:()=>KT,curveCardinalOpen:()=>JT,curveCatmullRom:()=>tA,curveCatmullRomClosed:()=>eA,curveCatmullRomOpen:()=>nA,curveLinear:()=>is,curveLinearClosed:()=>iA,curveMonotoneX:()=>rA,curveMonotoneY:()=>aA,curveNatural:()=>oA,curveStep:()=>sA,curveStepAfter:()=>cA,curveStepBefore:()=>uA,customEvent:()=>rr,descending:()=>yt,deviation:()=>fa,dispatch:()=>Mn,drag:()=>yx,dragDisable:()=>_a,dragEnable:()=>ya,dsv:()=>l1,dsvFormat:()=>za,easeBack:()=>Fl,easeBackIn:()=>n1,easeBackInOut:()=>Fl,easeBackOut:()=>i1,easeBounce:()=>xr,easeBounceIn:()=>t1,easeBounceInOut:()=>e1,easeBounceOut:()=>xr,easeCircle:()=>Dl,easeCircleIn:()=>Bx,easeCircleInOut:()=>Dl,easeCircleOut:()=>Hx,easeCubic:()=>Ys,easeCubicIn:()=>gm,easeCubicInOut:()=>Ys,easeCubicOut:()=>pm,easeElastic:()=>zl,easeElasticIn:()=>r1,easeElasticInOut:()=>a1,easeElasticOut:()=>zl,easeExp:()=>Il,easeExpIn:()=>Yx,easeExpInOut:()=>Il,easeExpOut:()=>Xx,easeLinear:()=>Ox,easePoly:()=>Gl,easePolyIn:()=>Ix,easePolyInOut:()=>Gl,easePolyOut:()=>Dx,easeQuad:()=>Vl,easeQuadIn:()=>$x,easeQuadInOut:()=>Vl,easeQuadOut:()=>Nx,easeSin:()=>Nl,easeSinIn:()=>Fx,easeSinInOut:()=>Nl,easeSinOut:()=>zx,entries:()=>Qm,event:()=>it,extent:()=>tr,forceCenter:()=>v1,forceCollide:()=>D1,forceLink:()=>z1,forceManyBody:()=>W1,forceRadial:()=>q1,forceSimulation:()=>U1,forceX:()=>Q1,forceY:()=>j1,format:()=>qa,formatDefaultLocale:()=>Jl,formatLocale:()=>Kl,formatPrefix:()=>xu,formatSpecifier:()=>vr,geoAlbers:()=>gd,geoAlbersUsa:()=>ew,geoArea:()=>ov,geoAzimuthalEqualArea:()=>nw,geoAzimuthalEqualAreaRaw:()=>rc,geoAzimuthalEquidistant:()=>iw,geoAzimuthalEquidistantRaw:()=>ac,geoBounds:()=>fv,geoCentroid:()=>_v,geoCircle:()=>yv,geoClipAntimeridian:()=>Nu,geoClipCircle:()=>$h,geoClipExtent:()=>Tv,geoClipRectangle:()=>xo,geoConicConformal:()=>aw,geoConicConformalRaw:()=>yd,geoConicEqualArea:()=>ko,geoConicEqualAreaRaw:()=>dd,geoConicEquidistant:()=>sw,geoConicEquidistantRaw:()=>md,geoContains:()=>kv,geoDistance:()=>bo,geoEqualEarth:()=>cw,geoEqualEarthRaw:()=>oc,geoEquirectangular:()=>ow,geoEquirectangularRaw:()=>Gr,geoGnomonic:()=>fw,geoGnomonicRaw:()=>sc,geoGraticule:()=>Uh,geoGraticule10:()=>Rv,geoIdentity:()=>lw,geoInterpolate:()=>Vv,geoLength:()=>Nh,geoMercator:()=>rw,geoMercatorRaw:()=>Vr,geoNaturalEarth1:()=>hw,geoNaturalEarth1Raw:()=>uc,geoOrthographic:()=>dw,geoOrthographicRaw:()=>cc,geoPath:()=>Hv,geoProjection:()=>xn,geoProjectionMutator:()=>nc,geoRotation:()=>Lh,geoStereographic:()=>gw,geoStereographicRaw:()=>fc,geoStream:()=>tn,geoTransform:()=>Uv,geoTransverseMercator:()=>pw,geoTransverseMercatorRaw:()=>lc,gray:()=>Zm,hcl:()=>Ia,hierarchy:()=>hc,histogram:()=>G,hsl:()=>xa,html:()=>m1,image:()=>g1,interpolate:()=>ur,interpolateArray:()=>ay,interpolateBasis:()=>Pf,interpolateBasisClosed:()=>Cf,interpolateBlues:()=>ZS,interpolateBrBG:()=>ES,interpolateBuGn:()=>DS,interpolateBuPu:()=>FS,interpolateCividis:()=>iT,interpolateCool:()=>oT,interpolateCubehelix:()=>vb,interpolateCubehelixDefault:()=>rT,interpolateCubehelixLong:()=>Do,interpolateDate:()=>Vf,interpolateDiscrete:()=>fb,interpolateGnBu:()=>zS,interpolateGreens:()=>KS,interpolateGreys:()=>JS,interpolateHcl:()=>mb,interpolateHclLong:()=>xb,interpolateHsl:()=>pb,interpolateHslLong:()=>_b,interpolateHue:()=>lb,interpolateInferno:()=>gT,interpolateLab:()=>yb,interpolateMagma:()=>dT,interpolateNumber:()=>Ye,interpolateNumberArray:()=>Ls,interpolateObject:()=>Gf,interpolateOrRd:()=>YS,interpolateOranges:()=>nT,interpolatePRGn:()=>kS,interpolatePiYG:()=>RS,interpolatePlasma:()=>pT,interpolatePuBu:()=>BS,interpolatePuBuGn:()=>XS,interpolatePuOr:()=>VS,interpolatePuRd:()=>HS,interpolatePurples:()=>tT,interpolateRainbow:()=>sT,interpolateRdBu:()=>GS,interpolateRdGy:()=>OS,interpolateRdPu:()=>US,interpolateRdYlBu:()=>$S,interpolateRdYlGn:()=>NS,interpolateReds:()=>eT,interpolateRgb:()=>sr,interpolateRgbBasis:()=>Ef,interpolateRgbBasisClosed:()=>ry,interpolateRound:()=>Od,interpolateSinebow:()=>fT,interpolateSpectral:()=>IS,interpolateString:()=>ks,interpolateTransformCss:()=>Hf,interpolateTransformSvg:()=>Uf,interpolateTurbo:()=>lT,interpolateViridis:()=>hT,interpolateWarm:()=>aT,interpolateYlGn:()=>qS,interpolateYlGnBu:()=>WS,interpolateYlOrBr:()=>QS,interpolateYlOrRd:()=>jS,interpolateZoom:()=>Id,interrupt:()=>jn,interval:()=>PA,isoFormat:()=>bA,isoParse:()=>AA,json:()=>_1,keys:()=>Wm,lab:()=>Na,lch:()=>Km,line:()=>Xc,lineRadial:()=>Hp,linkHorizontal:()=>NT,linkRadial:()=>DT,linkVertical:()=>IT,local:()=>Ip,map:()=>Rn,matcher:()=>ms,max:()=>q,mean:()=>Z,median:()=>tt,merge:()=>_t,min:()=>At,mouse:()=>qn,namespace:()=>ir,namespaces:()=>vs,nest:()=>Xm,now:()=>Li,pack:()=>qw,packEnclose:()=>vd,packSiblings:()=>Hw,pairs:()=>Ut,partition:()=>Qw,path:()=>Kn,permute:()=>Rt,pie:()=>kT,piecewise:()=>wb,pointRadial:()=>ea,polygonArea:()=>Sb,polygonCentroid:()=>Tb,polygonContains:()=>Lb,polygonHull:()=>Cb,polygonLength:()=>Mb,precisionFixed:()=>th,precisionPrefix:()=>eh,precisionRound:()=>nh,quadtree:()=>Ba,quantile:()=>Y,quantize:()=>bb,radialArea:()=>Up,radialLine:()=>Hp,randomBates:()=>Rb,randomExponential:()=>Vb,randomIrwinHall:()=>Bd,randomLogNormal:()=>kb,randomNormal:()=>Xd,randomUniform:()=>Eb,range:()=>c,rgb:()=>Pi,ribbon:()=>Ym,scaleBand:()=>vc,scaleDiverging:()=>up,scaleDivergingLog:()=>cp,scaleDivergingPow:()=>Ic,scaleDivergingSqrt:()=>xS,scaleDivergingSymlog:()=>fp,scaleIdentity:()=>Kd,scaleImplicit:()=>mc,scaleLinear:()=>Zd,scaleLog:()=>ig,scaleOrdinal:()=>xc,scalePoint:()=>Gb,scalePow:()=>Pc,scaleQuantile:()=>ug,scaleQuantize:()=>cg,scaleSequential:()=>rp,scaleSequentialLog:()=>ap,scaleSequentialPow:()=>Nc,scaleSequentialQuantile:()=>sp,scaleSequentialSqrt:()=>mS,scaleSequentialSymlog:()=>op,scaleSqrt:()=>Hb,scaleSymlog:()=>og,scaleThreshold:()=>fg,scaleTime:()=>dS,scaleUtc:()=>yS,scan:()=>Pt,schemeAccent:()=>wS,schemeBlues:()=>Rp,schemeBrBG:()=>lp,schemeBuGn:()=>vp,schemeBuPu:()=>wp,schemeCategory10:()=>vS,schemeDark2:()=>bS,schemeGnBu:()=>bp,schemeGreens:()=>Vp,schemeGreys:()=>Gp,schemeOrRd:()=>Sp,schemeOranges:()=>Np,schemePRGn:()=>hp,schemePaired:()=>SS,schemePastel1:()=>TS,schemePastel2:()=>AS,schemePiYG:()=>dp,schemePuBu:()=>Ap,schemePuBuGn:()=>Tp,schemePuOr:()=>gp,schemePuRd:()=>Pp,schemePurples:()=>Op,schemeRdBu:()=>pp,schemeRdGy:()=>_p,schemeRdPu:()=>Cp,schemeRdYlBu:()=>yp,schemeRdYlGn:()=>mp,schemeReds:()=>$p,schemeSet1:()=>PS,schemeSet2:()=>CS,schemeSet3:()=>LS,schemeSpectral:()=>xp,schemeTableau10:()=>MS,schemeYlGn:()=>Mp,schemeYlGnBu:()=>Lp,schemeYlOrBr:()=>Ep,schemeYlOrRd:()=>kp,select:()=>Ve,selectAll:()=>mT,selection:()=>wi,selector:()=>da,selectorAll:()=>ys,set:()=>Um,shuffle:()=>Ot,stack:()=>lA,stackOffsetDiverging:()=>dA,stackOffsetExpand:()=>hA,stackOffsetNone:()=>Wi,stackOffsetSilhouette:()=>gA,stackOffsetWiggle:()=>pA,stackOrderAppearance:()=>p0,stackOrderAscending:()=>_0,stackOrderDescending:()=>yA,stackOrderInsideOut:()=>mA,stackOrderNone:()=>qi,stackOrderReverse:()=>xA,stratify:()=>Jw,style:()=>Un,sum:()=>Mt,svg:()=>x1,symbol:()=>UT,symbolCircle:()=>Wc,symbolCross:()=>Wp,symbolDiamond:()=>Qp,symbolSquare:()=>Kp,symbolStar:()=>Zp,symbolTriangle:()=>Jp,symbolWye:()=>t0,symbols:()=>HT,text:()=>Xa,thresholdFreedmanDiaconis:()=>z,thresholdScott:()=>B,thresholdSturges:()=>O,tickFormat:()=>jd,tickIncrement:()=>M,tickStep:()=>C,ticks:()=>T,timeDay:()=>Bo,timeDays:()=>t2,timeFormat:()=>Vc,timeFormatDefaultLocale:()=>jg,timeFormatLocale:()=>Gg,timeFriday:()=>yg,timeFridays:()=>Kb,timeHour:()=>bg,timeHours:()=>e2,timeInterval:()=>se,timeMillisecond:()=>Wo,timeMilliseconds:()=>Cg,timeMinute:()=>Tg,timeMinutes:()=>n2,timeMonday:()=>Br,timeMondays:()=>qb,timeMonth:()=>hg,timeMonths:()=>Wb,timeParse:()=>Qg,timeSaturday:()=>mg,timeSaturdays:()=>Jb,timeSecond:()=>Ho,timeSeconds:()=>Pg,timeSunday:()=>Xr,timeSundays:()=>xg,timeThursday:()=>hi,timeThursdays:()=>Zb,timeTuesday:()=>pg,timeTuesdays:()=>Qb,timeWednesday:()=>_g,timeWednesdays:()=>jb,timeWeek:()=>Xr,timeWeeks:()=>xg,timeYear:()=>ci,timeYears:()=>Ub,timeout:()=>Gs,timer:()=>Pa,timerFlush:()=>Nf,touch:()=>cr,touches:()=>xT,transition:()=>Qf,transpose:()=>pt,tree:()=>ab,treemap:()=>ob,treemapBinary:()=>sb,treemapDice:()=>Fr,treemapResquarify:()=>cb,treemapSlice:()=>Io,treemapSliceDice:()=>ub,treemapSquarify:()=>Gd,tsv:()=>d1,tsvFormat:()=>Lx,tsvFormatBody:()=>Mx,tsvFormatRow:()=>kx,tsvFormatRows:()=>Ex,tsvFormatValue:()=>Rx,tsvParse:()=>Rl,tsvParseRows:()=>Cx,utcDay:()=>qo,utcDays:()=>c2,utcFormat:()=>Qo,utcFriday:()=>Eg,utcFridays:()=>s2,utcHour:()=>ep,utcHours:()=>pS,utcMillisecond:()=>Wo,utcMilliseconds:()=>Cg,utcMinute:()=>ip,utcMinutes:()=>_S,utcMonday:()=>Ur,utcMondays:()=>i2,utcMonth:()=>Jg,utcMonths:()=>gS,utcParse:()=>Gc,utcSaturday:()=>kg,utcSaturdays:()=>u2,utcSecond:()=>Ho,utcSeconds:()=>Pg,utcSunday:()=>Hr,utcSundays:()=>Rg,utcThursday:()=>gi,utcThursdays:()=>o2,utcTuesday:()=>Lg,utcTuesdays:()=>r2,utcWednesday:()=>Mg,utcWednesdays:()=>a2,utcWeek:()=>Hr,utcWeeks:()=>Rg,utcYear:()=>pi,utcYears:()=>f2,values:()=>qm,variance:()=>Ji,version:()=>et,voronoi:()=>HA,window:()=>ws,xml:()=>y1,zip:()=>ht,zoom:()=>KA,zoomIdentity:()=>hs,zoomTransform:()=>C0});var et="5.16.0";function gt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nt(t){return 1===t.length&&(t=function ge(t){return function(e,i){return gt(t(e),i)}}(t)),{left:function(e,i,a,o){for(null==a&&(a=0),null==o&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],i)<0?a=u+1:o=u}return a},right:function(e,i,a,o){for(null==a&&(a=0),null==o&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],i)>0?o=u:a=u+1}return a}}}var ua=Nt(gt),ca=ua.right,ps=ua.left;const sn=ca;function Ut(t,e){null==e&&(e=k);for(var i=0,a=t.length-1,o=t[0],u=new Array(a<0?0:a);i<a;)u[i]=e(o,o=t[++i]);return u}function k(t,e){return[t,e]}function Ki(t,e,i){var f,l,h,d,a=t.length,o=e.length,u=new Array(a*o);for(null==i&&(i=k),f=h=0;f<a;++f)for(d=t[f],l=0;l<o;++l,++h)u[h]=i(d,e[l]);return u}function yt(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function un(t){return null===t?NaN:+t}function Ji(t,e){var f,l,i=t.length,a=0,o=-1,u=0,h=0;if(null==e)for(;++o<i;)isNaN(f=un(t[o]))||(h+=(l=f-u)*(f-(u+=l/++a)));else for(;++o<i;)isNaN(f=un(e(t[o],o,t)))||(h+=(l=f-u)*(f-(u+=l/++a)));if(a>1)return h/(a-1)}function fa(t,e){var i=Ji(t,e);return i&&Math.sqrt(i)}function tr(t,e){var o,u,f,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(u=f=o;++a<i;)null!=(o=t[a])&&(u>o&&(u=o),f<o&&(f=o))}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(u=f=o;++a<i;)null!=(o=e(t[a],a,t))&&(u>o&&(u=o),f<o&&(f=o));return[u,f]}var la=Array.prototype,_s=la.slice,n=la.map;function r(t){return function(){return t}}function s(t){return t}function c(t,e,i){t=+t,e=+e,i=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+i;for(var a=-1,o=0|Math.max(0,Math.ceil((e-t)/i)),u=new Array(o);++a<o;)u[a]=t+a*i;return u}var g=Math.sqrt(50),m=Math.sqrt(10),w=Math.sqrt(2);function T(t,e,i){var a,u,f,l,o=-1;if(i=+i,(t=+t)==(e=+e)&&i>0)return[t];if((a=e<t)&&(u=t,t=e,e=u),0===(l=M(t,e,i))||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),f=new Array(u=Math.ceil(e-t+1));++o<u;)f[o]=(t+o)*l;else for(t=Math.floor(t*l),e=Math.ceil(e*l),f=new Array(u=Math.ceil(t-e+1));++o<u;)f[o]=(t-o)/l;return a&&f.reverse(),f}function M(t,e,i){var a=(e-t)/Math.max(0,i),o=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,o);return o>=0?(u>=g?10:u>=m?5:u>=w?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=g?10:u>=m?5:u>=w?2:1)}function C(t,e,i){var a=Math.abs(e-t)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/o;return u>=g?o*=10:u>=m?o*=5:u>=w&&(o*=2),e<t?-o:o}function O(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function G(){var t=s,e=tr,i=O;function a(o){var u,l,f=o.length,h=new Array(f);for(u=0;u<f;++u)h[u]=t(o[u],u,o);var d=e(h),p=d[0],y=d[1],_=i(h,p,y);Array.isArray(_)||(_=C(p,y,_),_=c(Math.ceil(p/_)*_,y,_));for(var x=_.length;_[0]<=p;)_.shift(),--x;for(;_[x-1]>y;)_.pop(),--x;var v,b=new Array(x+1);for(u=0;u<=x;++u)(v=b[u]=[]).x0=u>0?_[u-1]:p,v.x1=u<x?_[u]:y;for(u=0;u<f;++u)p<=(l=h[u])&&l<=y&&b[sn(_,l,0,x)].push(o[u]);return b}return a.value=function(o){return arguments.length?(t="function"==typeof o?o:r(o),a):t},a.domain=function(o){return arguments.length?(e="function"==typeof o?o:r([o[0],o[1]]),a):e},a.thresholds=function(o){return arguments.length?(i="function"==typeof o?o:Array.isArray(o)?r(_s.call(o)):r(o),a):i},a}function Y(t,e,i){if(null==i&&(i=un),a=t.length){if((e=+e)<=0||a<2)return+i(t[0],0,t);if(e>=1)return+i(t[a-1],a-1,t);var a,o=(a-1)*e,u=Math.floor(o),f=+i(t[u],u,t);return f+(+i(t[u+1],u+1,t)-f)*(o-u)}}function z(t,e,i){return t=n.call(t,un).sort(gt),Math.ceil((i-e)/(2*(Y(t,.75)-Y(t,.25))*Math.pow(t.length,-1/3)))}function B(t,e,i){return Math.ceil((i-e)/(3.5*fa(t)*Math.pow(t.length,-1/3)))}function q(t,e){var o,u,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(u=o;++a<i;)null!=(o=t[a])&&o>u&&(u=o)}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(u=o;++a<i;)null!=(o=e(t[a],a,t))&&o>u&&(u=o);return u}function Z(t,e){var u,i=t.length,a=i,o=-1,f=0;if(null==e)for(;++o<i;)isNaN(u=un(t[o]))?--a:f+=u;else for(;++o<i;)isNaN(u=un(e(t[o],o,t)))?--a:f+=u;if(a)return f/a}function tt(t,e){var o,i=t.length,a=-1,u=[];if(null==e)for(;++a<i;)isNaN(o=un(t[a]))||u.push(o);else for(;++a<i;)isNaN(o=un(e(t[a],a,t)))||u.push(o);return Y(u.sort(gt),.5)}function _t(t){for(var i,u,f,e=t.length,a=-1,o=0;++a<e;)o+=t[a].length;for(u=new Array(o);--e>=0;)for(i=(f=t[e]).length;--i>=0;)u[--o]=f[i];return u}function At(t,e){var o,u,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(u=o;++a<i;)null!=(o=t[a])&&u>o&&(u=o)}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(u=o;++a<i;)null!=(o=e(t[a],a,t))&&u>o&&(u=o);return u}function Rt(t,e){for(var i=e.length,a=new Array(i);i--;)a[i]=t[e[i]];return a}function Pt(t,e){if(i=t.length){var i,u,a=0,o=0,f=t[o];for(null==e&&(e=gt);++a<i;)(e(u=t[a],f)<0||0!==e(f,f))&&(f=u,o=a);if(0===e(f,f))return o}}function Ot(t,e,i){for(var o,u,a=(null==i?t.length:i)-(e=null==e?0:+e);a;)u=Math.random()*a--|0,o=t[a+e],t[a+e]=t[u+e],t[u+e]=o;return t}function Mt(t,e){var o,i=t.length,a=-1,u=0;if(null==e)for(;++a<i;)(o=+t[a])&&(u+=o);else for(;++a<i;)(o=+e(t[a],a,t))&&(u+=o);return u}function pt(t){if(!(u=t.length))return[];for(var e=-1,i=At(t,Ht),a=new Array(i);++e<i;)for(var u,o=-1,f=a[e]=new Array(u);++o<u;)f[o]=t[o][e];return a}function Ht(t){return t.length}function ht(){return pt(arguments)}var at=Array.prototype.slice;function ut(t){return t}function pe(t){return"translate("+(t+.5)+",0)"}function Xt(t){return"translate(0,"+(t+.5)+")"}function J(t){return function(e){return+t(e)}}function mt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}function Fe(){return!this.__axis}function cn(t,e){var i=[],a=null,o=null,u=6,f=6,l=3,h=1===t||4===t?-1:1,d=4===t||2===t?"x":"y",p=1===t||3===t?pe:Xt;function y(_){var x=null==a?e.ticks?e.ticks.apply(e,i):e.domain():a,b=null==o?e.tickFormat?e.tickFormat.apply(e,i):ut:o,v=Math.max(u,0)+l,A=e.range(),P=+A[0]+.5,R=+A[A.length-1]+.5,L=(e.bandwidth?mt:J)(e.copy()),E=_.selection?_.selection():_,$=E.selectAll(".domain").data([null]),D=E.selectAll(".tick").data(x,e).order(),N=D.exit(),W=D.enter().append("g").attr("class","tick"),H=D.select("line"),U=D.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(W),H=H.merge(W.append("line").attr("stroke","currentColor").attr(d+"2",h*u)),U=U.merge(W.append("text").attr("fill","currentColor").attr(d,h*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),_!==E&&($=$.transition(_),D=D.transition(_),H=H.transition(_),U=U.transition(_),N=N.transition(_).attr("opacity",1e-6).attr("transform",function(X){return isFinite(X=L(X))?p(X):this.getAttribute("transform")}),W.attr("opacity",1e-6).attr("transform",function(X){var V=this.parentNode.__axis;return p(V&&isFinite(V=V(X))?V:L(X))})),N.remove(),$.attr("d",4===t||2==t?f?"M"+h*f+","+P+"H0.5V"+R+"H"+h*f:"M0.5,"+P+"V"+R:f?"M"+P+","+h*f+"V0.5H"+R+"V"+h*f:"M"+P+",0.5H"+R),D.attr("opacity",1).attr("transform",function(X){return p(L(X))}),H.attr(d+"2",h*u),U.attr(d,h*v).text(b),E.filter(Fe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),E.each(function(){this.__axis=L})}return y.scale=function(_){return arguments.length?(e=_,y):e},y.ticks=function(){return i=at.call(arguments),y},y.tickArguments=function(_){return arguments.length?(i=null==_?[]:at.call(_),y):i.slice()},y.tickValues=function(_){return arguments.length?(a=null==_?null:at.call(_),y):a&&a.slice()},y.tickFormat=function(_){return arguments.length?(o=_,y):o},y.tickSize=function(_){return arguments.length?(u=f=+_,y):u},y.tickSizeInner=function(_){return arguments.length?(u=+_,y):u},y.tickSizeOuter=function(_){return arguments.length?(f=+_,y):f},y.tickPadding=function(_){return arguments.length?(l=+_,y):l},y}function er(t){return cn(1,t)}function fn(t){return cn(2,t)}function ze(t){return cn(3,t)}function Re(t){return cn(4,t)}var ln={value:function(){}};function vi(){for(var a,t=0,e=arguments.length,i={};t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Qe(i)}function Qe(t){this._=t}function ha(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",o=i.indexOf(".");if(o>=0&&(a=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}function nr(t,e){for(var o,i=0,a=t.length;i<a;++i)if((o=t[i]).name===e)return o.value}function je(t,e,i){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=ln,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=i&&t.push({name:e,value:i}),t}Qe.prototype=vi.prototype={constructor:Qe,on:function(t,e){var o,i=this._,a=ha(t+"",i),u=-1,f=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<f;)if(o=(t=a[u]).type)i[o]=je(i[o],t.name,e);else if(null==e)for(o in i)i[o]=je(i[o],t.name,null);return this}for(;++u<f;)if((o=(t=a[u]).type)&&(o=nr(i[o],t.name)))return o},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Qe(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var o,u,i=new Array(o),a=0;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,o=(u=this._[t]).length;a<o;++a)u[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,u=a.length;o<u;++o)a[o].value.apply(e,i)}};const Mn=vi;function M0(){}function da(t){return null==t?M0:function(){return this.querySelector(t)}}function k0(){return[]}function ys(t){return null==t?k0:function(){return this.querySelectorAll(t)}}function ms(t){return function(){return this.matches(t)}}function sf(t){return new Array(t.length)}function ga(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function $0(t,e,i,a,o,u){for(var l,f=0,h=e.length,d=u.length;f<d;++f)(l=e[f])?(l.__data__=u[f],a[f]=l):i[f]=new ga(t,u[f]);for(;f<h;++f)(l=e[f])&&(o[f]=l)}function N0(t,e,i,a,o,u,f){var l,h,x,d={},p=e.length,y=u.length,_=new Array(p);for(l=0;l<p;++l)(h=e[l])&&(_[l]=x="$"+f.call(h,h.__data__,l,e),x in d?o[l]=h:d[x]=h);for(l=0;l<y;++l)(h=d[x="$"+f.call(t,u[l],l,u)])?(a[l]=h,h.__data__=u[l],d[x]=null):i[l]=new ga(t,u[l]);for(l=0;l<p;++l)(h=e[l])&&d[_[l]]===h&&(o[l]=h)}function B0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ga.prototype={constructor:ga,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xs="http://www.w3.org/1999/xhtml";const vs={svg:"http://www.w3.org/2000/svg",xhtml:xs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ir(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),vs.hasOwnProperty(e)?{space:vs[e],local:t}:t}function Z0(t){return function(){this.removeAttribute(t)}}function K0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function J0(t,e){return function(){this.setAttribute(t,e)}}function t_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function e_(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function n_(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function ws(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function r_(t){return function(){this.style.removeProperty(t)}}function a_(t,e,i){return function(){this.style.setProperty(t,e,i)}}function o_(t,e,i){return function(){var a=e.apply(this,arguments);null==a?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function Un(t,e){return t.style.getPropertyValue(e)||ws(t).getComputedStyle(t,null).getPropertyValue(e)}function u_(t){return function(){delete this[t]}}function c_(t,e){return function(){this[t]=e}}function f_(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function cf(t){return t.trim().split(/^|\s+/)}function bs(t){return t.classList||new ff(t)}function ff(t){this._node=t,this._names=cf(t.getAttribute("class")||"")}function lf(t,e){for(var i=bs(t),a=-1,o=e.length;++a<o;)i.add(e[a])}function hf(t,e){for(var i=bs(t),a=-1,o=e.length;++a<o;)i.remove(e[a])}function h_(t){return function(){lf(this,t)}}function d_(t){return function(){hf(this,t)}}function g_(t,e){return function(){(e.apply(this,arguments)?lf:hf)(this,t)}}function __(){this.textContent=""}function y_(t){return function(){this.textContent=t}}function m_(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function v_(){this.innerHTML=""}function w_(t){return function(){this.innerHTML=t}}function b_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function T_(){this.nextSibling&&this.parentNode.appendChild(this)}function P_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L_(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xs&&e.documentElement.namespaceURI===xs?e.createElement(t):e.createElementNS(i,t)}}function M_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pa(t){var e=ir(t);return(e.local?M_:L_)(e)}function k_(){return null}function V_(){var t=this.parentNode;t&&t.removeChild(this)}function O_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}ff.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var df={},it=null;function F_(t,e,i){return t=gf(t,e,i),function(a){var o=a.relatedTarget;(!o||o!==this&&!(8&o.compareDocumentPosition(this)))&&t.call(this,a)}}function gf(t,e,i){return function(a){var o=it;it=a;try{t.call(this,this.__data__,e,i)}finally{it=o}}}function z_(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}function Y_(t){return function(){var e=this.__on;if(e){for(var u,i=0,a=-1,o=e.length;i<o;++i)u=e[i],t.type&&u.type!==t.type||u.name!==t.name?e[++a]=u:this.removeEventListener(u.type,u.listener,u.capture);++a?e.length=a:delete this.__on}}}function X_(t,e,i){var a=df.hasOwnProperty(t.type)?F_:gf;return function(o,u,f){var h,l=this.__on,d=a(e,u,f);if(l)for(var p=0,y=l.length;p<y;++p)if((h=l[p]).type===t.type&&h.name===t.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=i),void(h.value=e);this.addEventListener(t.type,d,i),h={type:t.type,name:t.name,value:e,listener:d,capture:i},l?l.push(h):this.__on=[h]}}function rr(t,e,i,a){var o=it;t.sourceEvent=it,it=t;try{return e.apply(i,a)}finally{it=o}}function pf(t,e,i){var a=ws(t),o=a.CustomEvent;"function"==typeof o?o=new o(e,i):(o=a.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function H_(t,e){return function(){return pf(this,t,e)}}function U_(t,e){return function(){return pf(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(df={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ss=[null];function ve(t,e){this._groups=t,this._parents=e}function _f(){return new ve([[document.documentElement]],Ss)}ve.prototype=_f.prototype={constructor:ve,select:function E0(t){"function"!=typeof t&&(t=da(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,d,u=e[o],f=u.length,l=a[o]=new Array(f),p=0;p<f;++p)(h=u[p])&&(d=t.call(h,h.__data__,p,u))&&("__data__"in h&&(d.__data__=h.__data__),l[p]=d);return new ve(a,this._parents)},selectAll:function R0(t){"function"!=typeof t&&(t=ys(t));for(var e=this._groups,i=e.length,a=[],o=[],u=0;u<i;++u)for(var h,f=e[u],l=f.length,d=0;d<l;++d)(h=f[d])&&(a.push(t.call(h,h.__data__,d,f)),o.push(h));return new ve(a,o)},filter:function V0(t){"function"!=typeof t&&(t=ms(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,u=e[o],f=u.length,l=a[o]=[],d=0;d<f;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&l.push(h);return new ve(a,this._parents)},data:function I0(t,e){if(!t)return x=new Array(this.size()),d=-1,this.each(function(D){x[++d]=D}),x;var i=e?N0:$0,a=this._parents,o=this._groups;"function"!=typeof t&&(t=function O0(t){return function(){return t}}(t));for(var u=o.length,f=new Array(u),l=new Array(u),h=new Array(u),d=0;d<u;++d){var p=a[d],y=o[d],_=y.length,x=t.call(p,p&&p.__data__,d,a),b=x.length,v=l[d]=new Array(b),A=f[d]=new Array(b);i(p,y,v,A,h[d]=new Array(_),x,e);for(var E,$,R=0,L=0;R<b;++R)if(E=v[R]){for(R>=L&&(L=R+1);!($=A[L])&&++L<b;);E._next=$||null}}return(f=new ve(f,a))._enter=l,f._exit=h,f},enter:function G0(){return new ve(this._enter||this._groups.map(sf),this._parents)},exit:function D0(){return new ve(this._exit||this._groups.map(sf),this._parents)},join:function F0(t,e,i){var a=this.enter(),o=this,u=this.exit();return a="function"==typeof t?t(a):a.append(t+""),null!=e&&(o=e(o)),null==i?u.remove():i(u),a&&o?a.merge(o).order():o},merge:function z0(t){for(var e=this._groups,i=t._groups,a=e.length,u=Math.min(a,i.length),f=new Array(a),l=0;l<u;++l)for(var _,h=e[l],d=i[l],p=h.length,y=f[l]=new Array(p),x=0;x<p;++x)(_=h[x]||d[x])&&(y[x]=_);for(;l<a;++l)f[l]=e[l];return new ve(f,this._parents)},order:function Y0(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var f,a=t[e],o=a.length-1,u=a[o];--o>=0;)(f=a[o])&&(u&&4^f.compareDocumentPosition(u)&&u.parentNode.insertBefore(f,u),u=f);return this},sort:function X0(t){function e(y,_){return y&&_?t(y.__data__,_.__data__):!y-!_}t||(t=B0);for(var i=this._groups,a=i.length,o=new Array(a),u=0;u<a;++u){for(var d,f=i[u],l=f.length,h=o[u]=new Array(l),p=0;p<l;++p)(d=f[p])&&(h[p]=d);h.sort(e)}return new ve(o,this._parents).order()},call:function H0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function U0(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function W0(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],o=0,u=a.length;o<u;++o){var f=a[o];if(f)return f}return null},size:function q0(){var t=0;return this.each(function(){++t}),t},empty:function Q0(){return!this.node()},each:function j0(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var l,o=e[i],u=0,f=o.length;u<f;++u)(l=o[u])&&t.call(l,l.__data__,u,o);return this},attr:function i_(t,e){var i=ir(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((null==e?i.local?K0:Z0:"function"==typeof e?i.local?n_:e_:i.local?t_:J0)(i,e))},style:function s_(t,e,i){return arguments.length>1?this.each((null==e?r_:"function"==typeof e?o_:a_)(t,e,null==i?"":i)):Un(this.node(),t)},property:function l_(t,e){return arguments.length>1?this.each((null==e?u_:"function"==typeof e?f_:c_)(t,e)):this.node()[t]},classed:function p_(t,e){var i=cf(t+"");if(arguments.length<2){for(var a=bs(this.node()),o=-1,u=i.length;++o<u;)if(!a.contains(i[o]))return!1;return!0}return this.each(("function"==typeof e?g_:e?h_:d_)(i,e))},text:function x_(t){return arguments.length?this.each(null==t?__:("function"==typeof t?m_:y_)(t)):this.node().textContent},html:function S_(t){return arguments.length?this.each(null==t?v_:("function"==typeof t?b_:w_)(t)):this.node().innerHTML},raise:function A_(){return this.each(T_)},lower:function C_(){return this.each(P_)},append:function E_(t){var e="function"==typeof t?t:pa(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function R_(t,e){var i="function"==typeof t?t:pa(t),a=null==e?k_:"function"==typeof e?e:da(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function G_(){return this.each(V_)},clone:function N_(t){return this.select(t?$_:O_)},datum:function I_(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function B_(t,e,i){var o,f,a=z_(t+""),u=a.length;if(!(arguments.length<2)){for(l=e?X_:Y_,null==i&&(i=!1),o=0;o<u;++o)this.each(l(a[o],e,i));return this}var l=this.node().__on;if(l)for(var p,h=0,d=l.length;h<d;++h)for(o=0,p=l[h];o<u;++o)if((f=a[o]).type===p.type&&f.name===p.name)return p.value},dispatch:function W_(t,e){return this.each(("function"==typeof e?U_:H_)(t,e))}};const wi=_f;function Ve(t){return"string"==typeof t?new ve([[document.querySelector(t)]],[document.documentElement]):new ve([[t]],Ss)}function Ts(){it.stopImmediatePropagation()}function bi(){it.preventDefault(),it.stopImmediatePropagation()}function _a(t){var e=t.document.documentElement,i=Ve(t).on("dragstart.drag",bi,!0);"onselectstart"in e?i.on("selectstart.drag",bi,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ya(t,e){var i=t.document.documentElement,a=Ve(t).on("dragstart.drag",null);e&&(a.on("click.drag",bi,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function Si(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function ar(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function En(){}var Ti=1/.7,Ai="\\s*([+-]?\\d+)\\s*",or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q_=/^#([0-9a-f]{3,8})$/,Q_=new RegExp("^rgb\\("+[Ai,Ai,Ai]+"\\)$"),j_=new RegExp("^rgb\\("+[hn,hn,hn]+"\\)$"),Z_=new RegExp("^rgba\\("+[Ai,Ai,Ai,or]+"\\)$"),K_=new RegExp("^rgba\\("+[hn,hn,hn,or]+"\\)$"),J_=new RegExp("^hsl\\("+[or,hn,hn]+"\\)$"),ty=new RegExp("^hsla\\("+[or,hn,hn,or]+"\\)$"),yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mf(){return this.rgb().formatHex()}function xf(){return this.rgb().formatRgb()}function kn(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=q_.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?vf(e):3===i?new le(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?ma(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?ma(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Q_.exec(t))?new le(e[1],e[2],e[3],1):(e=j_.exec(t))?new le(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Z_.exec(t))?ma(e[1],e[2],e[3],e[4]):(e=K_.exec(t))?ma(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=J_.exec(t))?Sf(e[1],e[2]/100,e[3]/100,1):(e=ty.exec(t))?Sf(e[1],e[2]/100,e[3]/100,e[4]):yf.hasOwnProperty(t)?vf(yf[t]):"transparent"===t?new le(NaN,NaN,NaN,0):null}function vf(t){return new le(t>>16&255,t>>8&255,255&t,1)}function ma(t,e,i,a){return a<=0&&(t=e=i=NaN),new le(t,e,i,a)}function As(t){return t instanceof En||(t=kn(t)),t?new le((t=t.rgb()).r,t.g,t.b,t.opacity):new le}function Pi(t,e,i,a){return 1===arguments.length?As(t):new le(t,e,i,null==a?1:a)}function le(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}function wf(){return"#"+Ps(this.r)+Ps(this.g)+Ps(this.b)}function bf(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ps(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Sf(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new dn(t,e,i,a)}function Tf(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof En||(t=kn(t)),!t)return new dn;if(t instanceof dn)return t;var e=(t=t.rgb()).r/255,i=t.g/255,a=t.b/255,o=Math.min(e,i,a),u=Math.max(e,i,a),f=NaN,l=u-o,h=(u+o)/2;return l?(f=e===u?(i-a)/l+6*(i<a):i===u?(a-e)/l+2:(e-i)/l+4,l/=h<.5?u+o:2-u-o,f*=60):l=h>0&&h<1?0:f,new dn(f,l,h,t.opacity)}function xa(t,e,i,a){return 1===arguments.length?Tf(t):new dn(t,e,i,null==a?1:a)}function dn(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}function Cs(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function Af(t,e,i,a,o){var u=t*t,f=u*t;return((1-3*t+3*u-f)*e+(4-6*u+3*f)*i+(1+3*t+3*u-3*f)*a+f*o)/6}function Pf(t){var e=t.length-1;return function(i){var a=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[a],u=t[a+1];return Af((i-a/e)*e,a>0?t[a-1]:2*o-u,o,u,a<e-1?t[a+2]:2*u-o)}}function Cf(t){var e=t.length;return function(i){var a=Math.floor(((i%=1)<0?++i:i)*e);return Af((i-a/e)*e,t[(a+e-1)%e],t[a%e],t[(a+1)%e],t[(a+2)%e])}}function va(t){return function(){return t}}function Lf(t,e){return function(i){return t+i*e}}function wa(t,e){var i=e-t;return i?Lf(t,i>180||i<-180?i-360*Math.round(i/360):i):va(isNaN(t)?e:t)}function ce(t,e){var i=e-t;return i?Lf(t,i):va(isNaN(t)?e:t)}Si(En,kn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mf,formatHex:mf,formatHsl:function ey(){return Tf(this).formatHsl()},formatRgb:xf,toString:xf}),Si(le,Pi,ar(En,{brighter:function(t){return t=null==t?Ti:Math.pow(Ti,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wf,formatHex:wf,formatRgb:bf,toString:bf})),Si(dn,xa,ar(En,{brighter:function(t){return t=null==t?Ti:Math.pow(Ti,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,o=2*i-a;return new le(Cs(t>=240?t-240:t+120,o,a),Cs(t,o,a),Cs(t<120?t+240:t-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const sr=function t(e){var i=function iy(t){return 1==(t=+t)?ce:function(e,i){return i-e?function ny(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}(e,i,t):va(isNaN(e)?i:e)}}(e);function a(o,u){var f=i((o=Pi(o)).r,(u=Pi(u)).r),l=i(o.g,u.g),h=i(o.b,u.b),d=ce(o.opacity,u.opacity);return function(p){return o.r=f(p),o.g=l(p),o.b=h(p),o.opacity=d(p),o+""}}return a.gamma=t,a}(1);function Mf(t){return function(e){var f,l,i=e.length,a=new Array(i),o=new Array(i),u=new Array(i);for(f=0;f<i;++f)l=Pi(e[f]),a[f]=l.r||0,o[f]=l.g||0,u[f]=l.b||0;return a=t(a),o=t(o),u=t(u),l.opacity=1,function(h){return l.r=a(h),l.g=o(h),l.b=u(h),l+""}}}var Ef=Mf(Pf),ry=Mf(Cf);function Ls(t,e){e||(e=[]);var o,i=t?Math.min(e.length,t.length):0,a=e.slice();return function(u){for(o=0;o<i;++o)a[o]=t[o]*(1-u)+e[o]*u;return a}}function kf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ay(t,e){return(kf(e)?Ls:Rf)(t,e)}function Rf(t,e){var f,i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),u=new Array(i);for(f=0;f<a;++f)o[f]=ur(t[f],e[f]);for(;f<i;++f)u[f]=e[f];return function(l){for(f=0;f<a;++f)u[f]=o[f](l);return u}}function Vf(t,e){var i=new Date;return t=+t,e=+e,function(a){return i.setTime(t*(1-a)+e*a),i}}function Ye(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Gf(t,e){var o,i={},a={};for(o in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)o in t?i[o]=ur(t[o],e[o]):a[o]=e[o];return function(u){for(o in i)a[o]=i[o](u);return a}}var Ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Es=new RegExp(Ms.source,"g");function ks(t,e){var a,o,u,i=Ms.lastIndex=Es.lastIndex=0,f=-1,l=[],h=[];for(t+="",e+="";(a=Ms.exec(t))&&(o=Es.exec(e));)(u=o.index)>i&&(u=e.slice(i,u),l[f]?l[f]+=u:l[++f]=u),(a=a[0])===(o=o[0])?l[f]?l[f]+=o:l[++f]=o:(l[++f]=null,h.push({i:f,x:Ye(a,o)})),i=Es.lastIndex;return i<e.length&&(u=e.slice(i),l[f]?l[f]+=u:l[++f]=u),l.length<2?h[0]?function sy(t){return function(e){return t(e)+""}}(h[0].x):function oy(t){return function(){return t}}(e):(e=h.length,function(d){for(var y,p=0;p<e;++p)l[(y=h[p]).i]=y.x(d);return l.join("")})}function ur(t,e){var a,i=typeof e;return null==e||"boolean"===i?va(e):("number"===i?Ye:"string"===i?(a=kn(e))?(e=a,sr):ks:e instanceof kn?sr:e instanceof Date?Vf:kf(e)?Ls:Array.isArray(e)?Rf:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Gf:Ye)(t,e)}function Rs(){for(var e,t=it;e=t.sourceEvent;)t=e;return t}function ba(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function cr(t,e,i){arguments.length<3&&(i=e,e=Rs().changedTouches);for(var u,a=0,o=e?e.length:0;a<o;++a)if((u=e[a]).identifier===i)return ba(t,u);return null}function qn(t){var e=Rs();return e.changedTouches&&(e=e.changedTouches[0]),ba(t,e)}var Sa,hr,Ci=0,fr=0,lr=0,Ta=0,Qn=0,Aa=0,dr="object"==typeof performance&&performance.now?performance:Date,$f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Li(){return Qn||($f(uy),Qn=dr.now()+Aa)}function uy(){Qn=0}function gr(){this._call=this._time=this._next=null}function Pa(t,e,i){var a=new gr;return a.restart(t,e,i),a}function Nf(){Li(),++Ci;for(var e,t=Sa;t;)(e=Qn-t._time)>=0&&t._call.call(null,e),t=t._next;--Ci}function If(){Qn=(Ta=dr.now())+Aa,Ci=fr=0;try{Nf()}finally{Ci=0,function fy(){for(var t,i,e=Sa,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Sa=i);hr=t,Vs(a)}(),Qn=0}}function cy(){var t=dr.now(),e=t-Ta;e>1e3&&(Aa-=e,Ta=t)}function Vs(t){Ci||(fr&&(fr=clearTimeout(fr)),t-Qn>24?(t<1/0&&(fr=setTimeout(If,t-dr.now()-Aa)),lr&&(lr=clearInterval(lr))):(lr||(Ta=dr.now(),lr=setInterval(cy,1e3)),Ci=1,$f(If)))}function Gs(t,e,i){var a=new gr;return a.restart(function(o){a.stop(),t(o+e)},e=null==e?0:+e,i),a}gr.prototype=Pa.prototype={constructor:gr,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?Li():+i)+(null==e?0:+e),!this._next&&hr!==this&&(hr?hr._next=this:Sa=this,hr=this),this._call=t,this._time=i,Vs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vs())}};var ly=Mn("start","end","cancel","interrupt"),hy=[];function Ma(t,e,i,a,o,u){var f=t.__transition;if(f){if(i in f)return}else t.__transition={};!function dy(t,e,i){var o,a=t.__transition;function f(d){var p,y,_,x;if(1!==i.state)return h();for(p in a)if((x=a[p]).name===i.name){if(3===x.state)return Gs(f);4===x.state?(x.state=6,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete a[p]):+p<e&&(x.state=6,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete a[p])}if(Gs(function(){3===i.state&&(i.state=4,i.timer.restart(l,i.delay,i.time),l(d))}),i.state=2,i.on.call("start",t,t.__data__,i.index,i.group),2===i.state){for(i.state=3,o=new Array(_=i.tween.length),p=0,y=-1;p<_;++p)(x=i.tween[p].value.call(t,t.__data__,i.index,i.group))&&(o[++y]=x);o.length=y+1}}function l(d){for(var p=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(h),i.state=5,1),y=-1,_=o.length;++y<_;)o[y].call(t,p);5===i.state&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){for(var d in i.state=6,i.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=i,i.timer=Pa(function u(d){i.state=1,i.timer.restart(f,i.delay,i.time),i.delay<=d&&f(d-i.delay)},0,i.time)}(t,i,{name:e,index:a,group:o,on:ly,tween:hy,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function Is(t,e){var i=Ze(t,e);if(i.state>0)throw new Error("too late; already scheduled");return i}function wn(t,e){var i=Ze(t,e);if(i.state>3)throw new Error("too late; already running");return i}function Ze(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function jn(t,e){var a,o,f,i=t.__transition,u=!0;if(i){for(f in e=null==e?null:e+"",i)(a=i[f]).name===e?(o=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[f]):u=!1;u&&delete t.__transition}}var pr,Fs,Xf,Ea,zf=180/Math.PI,Ds={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yf(t,e,i,a,o,u){var f,l,h;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(h=t*i+e*a)&&(i-=t*h,a-=e*h),(l=Math.sqrt(i*i+a*a))&&(i/=l,a/=l,h/=l),t*a<e*i&&(t=-t,e=-e,h=-h,f=-f),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*zf,skewX:Math.atan(h)*zf,scaleX:f,scaleY:l}}function Bf(t,e,i,a){function o(d){return d.length?d.pop()+" ":""}return function(d,p){var y=[],_=[];return d=t(d),p=t(p),function u(d,p,y,_,x,b){if(d!==y||p!==_){var v=x.push("translate(",null,e,null,i);b.push({i:v-4,x:Ye(d,y)},{i:v-2,x:Ye(p,_)})}else(y||_)&&x.push("translate("+y+e+_+i)}(d.translateX,d.translateY,p.translateX,p.translateY,y,_),function f(d,p,y,_){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),_.push({i:y.push(o(y)+"rotate(",null,a)-2,x:Ye(d,p)})):p&&y.push(o(y)+"rotate("+p+a)}(d.rotate,p.rotate,y,_),function l(d,p,y,_){d!==p?_.push({i:y.push(o(y)+"skewX(",null,a)-2,x:Ye(d,p)}):p&&y.push(o(y)+"skewX("+p+a)}(d.skewX,p.skewX,y,_),function h(d,p,y,_,x,b){if(d!==y||p!==_){var v=x.push(o(x)+"scale(",null,",",null,")");b.push({i:v-4,x:Ye(d,y)},{i:v-2,x:Ye(p,_)})}else(1!==y||1!==_)&&x.push(o(x)+"scale("+y+","+_+")")}(d.scaleX,d.scaleY,p.scaleX,p.scaleY,y,_),d=p=null,function(x){for(var A,b=-1,v=_.length;++b<v;)y[(A=_[b]).i]=A.x(x);return y.join("")}}}var Hf=Bf(function py(t){return"none"===t?Ds:(pr||(pr=document.createElement("DIV"),Fs=document.documentElement,Xf=document.defaultView),pr.style.transform=t,t=Xf.getComputedStyle(Fs.appendChild(pr),null).getPropertyValue("transform"),Fs.removeChild(pr),Yf(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Uf=Bf(function _y(t){return null!=t&&(Ea||(Ea=document.createElementNS("http://www.w3.org/2000/svg","g")),Ea.setAttribute("transform",t),t=Ea.transform.baseVal.consolidate())?Yf((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ds},", ",")",")");function yy(t,e){var i,a;return function(){var o=wn(this,t),u=o.tween;if(u!==i)for(var f=0,l=(a=i=u).length;f<l;++f)if(a[f].name===e){(a=a.slice()).splice(f,1);break}o.tween=a}}function my(t,e,i){var a,o;if("function"!=typeof i)throw new Error;return function(){var u=wn(this,t),f=u.tween;if(f!==a){o=(a=f).slice();for(var l={name:e,value:i},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=l;break}h===d&&o.push(l)}u.tween=o}}function zs(t,e,i){var a=t._id;return t.each(function(){var o=wn(this,a);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Ze(o,a).value[e]}}function Wf(t,e){var i;return("number"==typeof e?Ye:e instanceof kn?sr:(i=kn(e))?(e=i,sr):ks)(t,e)}function vy(t){return function(){this.removeAttribute(t)}}function wy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function by(t,e,i){var a,u,o=i+"";return function(){var f=this.getAttribute(t);return f===o?null:f===a?u:u=e(a=f,i)}}function Sy(t,e,i){var a,u,o=i+"";return function(){var f=this.getAttributeNS(t.space,t.local);return f===o?null:f===a?u:u=e(a=f,i)}}function Ty(t,e,i){var a,o,u;return function(){var f,h,l=i(this);return null==l?void this.removeAttribute(t):(f=this.getAttribute(t))===(h=l+"")?null:f===a&&h===o?u:(o=h,u=e(a=f,l))}}function Ay(t,e,i){var a,o,u;return function(){var f,h,l=i(this);return null==l?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local))===(h=l+"")?null:f===a&&h===o?u:(o=h,u=e(a=f,l))}}function Cy(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function Ly(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function My(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&Ly(t,u)),i}return o._value=e,o}function Ey(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&Cy(t,u)),i}return o._value=e,o}function Ry(t,e){return function(){Is(this,t).delay=+e.apply(this,arguments)}}function Vy(t,e){return e=+e,function(){Is(this,t).delay=e}}function Oy(t,e){return function(){wn(this,t).duration=+e.apply(this,arguments)}}function $y(t,e){return e=+e,function(){wn(this,t).duration=e}}function Iy(t,e){if("function"!=typeof e)throw new Error;return function(){wn(this,t).ease=e}}function Xy(t,e,i){var a,o,u=function Yy(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||"start"===e})}(e)?Is:wn;return function(){var f=u(this,t),l=f.on;l!==a&&(o=(a=l).copy()).on(e,i),f.on=o}}var Qy=wi.prototype.constructor;function qf(t){return function(){this.style.removeProperty(t)}}function nm(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}function im(t,e,i){var a,o;function u(){var f=e.apply(this,arguments);return f!==o&&(a=(o=f)&&nm(t,f,i)),a}return u._value=e,u}function um(t){return function(e){this.textContent=t.call(this,e)}}function cm(t){var e,i;function a(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&um(o)),e}return a._value=t,a}var dm=0;function gn(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function Qf(t){return wi().transition(t)}function jf(){return++dm}var Mi=wi.prototype;function gm(t){return t*t*t}function pm(t){return--t*t*t+1}function Ys(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}gn.prototype=Qf.prototype={constructor:gn,select:function Wy(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=da(t));for(var a=this._groups,o=a.length,u=new Array(o),f=0;f<o;++f)for(var p,y,l=a[f],h=l.length,d=u[f]=new Array(h),_=0;_<h;++_)(p=l[_])&&(y=t.call(p,p.__data__,_,l))&&("__data__"in p&&(y.__data__=p.__data__),d[_]=y,Ma(d[_],e,i,_,d,Ze(p,i)));return new gn(u,this._parents,e,i)},selectAll:function qy(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=ys(t));for(var a=this._groups,o=a.length,u=[],f=[],l=0;l<o;++l)for(var p,h=a[l],d=h.length,y=0;y<d;++y)if(p=h[y]){for(var x,_=t.call(p,p.__data__,y,h),b=Ze(p,i),v=0,A=_.length;v<A;++v)(x=_[v])&&Ma(x,e,i,v,_,b);u.push(_),f.push(p)}return new gn(u,f,e,i)},filter:function Fy(t){"function"!=typeof t&&(t=ms(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,u=e[o],f=u.length,l=a[o]=[],d=0;d<f;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&l.push(h);return new gn(a,this._parents,this._name,this._id)},merge:function zy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,u=Math.min(a,i.length),f=new Array(a),l=0;l<u;++l)for(var _,h=e[l],d=i[l],p=h.length,y=f[l]=new Array(p),x=0;x<p;++x)(_=h[x]||d[x])&&(y[x]=_);for(;l<a;++l)f[l]=e[l];return new gn(f,this._parents,this._name,this._id)},selection:function jy(){return new Qy(this._groups,this._parents)},transition:function lm(){for(var t=this._name,e=this._id,i=jf(),a=this._groups,o=a.length,u=0;u<o;++u)for(var h,f=a[u],l=f.length,d=0;d<l;++d)if(h=f[d]){var p=Ze(h,e);Ma(h,t,i,d,f,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new gn(a,this._parents,t,i)},call:Mi.call,nodes:Mi.nodes,node:Mi.node,size:Mi.size,empty:Mi.empty,each:Mi.each,on:function By(t,e){var i=this._id;return arguments.length<2?Ze(this.node(),i).on.on(t):this.each(Xy(i,t,e))},attr:function Py(t,e){var i=ir(t),a="transform"===i?Uf:Wf;return this.attrTween(t,"function"==typeof e?(i.local?Ay:Ty)(i,a,zs(this,"attr."+t,e)):null==e?(i.local?wy:vy)(i):(i.local?Sy:by)(i,a,e))},attrTween:function ky(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var a=ir(t);return this.tween(i,(a.local?My:Ey)(a,e))},style:function em(t,e,i){var a="transform"==(t+="")?Hf:Wf;return null==e?this.styleTween(t,function Zy(t,e){var i,a,o;return function(){var u=Un(this,t),f=(this.style.removeProperty(t),Un(this,t));return u===f?null:u===i&&f===a?o:o=e(i=u,a=f)}}(t,a)).on("end.style."+t,qf(t)):"function"==typeof e?this.styleTween(t,function Jy(t,e,i){var a,o,u;return function(){var f=Un(this,t),l=i(this),h=l+"";return null==l&&(this.style.removeProperty(t),h=l=Un(this,t)),f===h?null:f===a&&h===o?u:(o=h,u=e(a=f,l))}}(t,a,zs(this,"style."+t,e))).each(function tm(t,e){var i,a,o,l,u="style."+e,f="end."+u;return function(){var h=wn(this,t),d=h.on,p=null==h.value[u]?l||(l=qf(e)):void 0;(d!==i||o!==p)&&(a=(i=d).copy()).on(f,o=p),h.on=a}}(this._id,t)):this.styleTween(t,function Ky(t,e,i){var a,u,o=i+"";return function(){var f=Un(this,t);return f===o?null:f===a?u:u=e(a=f,i)}}(t,a,e),i).on("end.style."+t,null)},styleTween:function rm(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==e)return this.tween(a,null);if("function"!=typeof e)throw new Error;return this.tween(a,im(t,e,null==i?"":i))},text:function sm(t){return this.tween("text","function"==typeof t?function om(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(zs(this,"text",t)):function am(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function fm(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,cm(t))},remove:function Uy(){return this.on("end.remove",function Hy(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function xy(t,e){var i=this._id;if(t+="",arguments.length<2){for(var f,a=Ze(this.node(),i).tween,o=0,u=a.length;o<u;++o)if((f=a[o]).name===t)return f.value;return null}return this.each((null==e?yy:my)(i,t,e))},delay:function Gy(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ry:Vy)(e,t)):Ze(this.node(),e).delay},duration:function Ny(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Oy:$y)(e,t)):Ze(this.node(),e).duration},ease:function Dy(t){var e=this._id;return arguments.length?this.each(Iy(e,t)):Ze(this.node(),e).ease},end:function hm(){var t,e,i=this,a=i._id,o=i.size();return new Promise(function(u,f){var l={value:f},h={value:function(){0==--o&&u()}};i.each(function(){var d=wn(this,a),p=d.on;p!==t&&((e=(t=p).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),d.on=e})})}};var Xs={time:null,delay:0,duration:250,ease:Ys};function _m(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))return Xs.time=Li(),Xs;return i}wi.prototype.interrupt=function gy(t){return this.each(function(){jn(this,t)})},wi.prototype.transition=function ym(t){var e,i;t instanceof gn?(e=t._id,t=t._name):(e=jf(),(i=Xs).time=Li(),t=null==t?null:t+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var h,f=a[u],l=f.length,d=0;d<l;++d)(h=f[d])&&Ma(h,t,e,d,f,i||_m(h,e));return new gn(a,this._parents,t,e)};var mm=[null];function xm(t,e){var a,o,i=t.__transition;if(i)for(o in e=null==e?null:e+"",i)if((a=i[o]).state>1&&a.name===e)return new gn([[t]],mm,e,+o);return null}function Bs(t){return function(){return t}}function vm(t,e,i){this.target=t,this.type=e,this.selection=i}function Zf(){it.stopImmediatePropagation()}function Hs(){it.preventDefault(),it.stopImmediatePropagation()}var Kf={name:"drag"},Us={name:"space"},Ei={name:"handle"},ki={name:"center"};function Jf(t){return[+t[0],+t[1]]}function Ws(t){return[Jf(t[0]),Jf(t[1])]}function wm(t){return function(e){return cr(e,it.touches,t)}}var ka={name:"x",handles:["w","e"].map(_r),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ra={name:"y",handles:["n","s"].map(_r),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},bm={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_r),input:function(t){return null==t?null:Ws(t)},output:function(t){return t}},bn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},el={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Sm={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Tm={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _r(t){return{type:t}}function Am(){return!it.ctrlKey&&!it.button}function Pm(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Cm(){return navigator.maxTouchPoints||"ontouchstart"in this}function qs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Lm(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Mm(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Em(){return Qs(ka)}function km(){return Qs(Ra)}function Rm(){return Qs(bm)}function Qs(t){var l,e=Pm,i=Am,a=Cm,o=!0,u=Mn("start","brush","end"),f=6;function h(A){var P=A.property("__brush",v).selectAll(".overlay").data([_r("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",bn.overlay).merge(P).each(function(){var L=qs(this).extent;Ve(this).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1])}),A.selectAll(".selection").data([_r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",bn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=A.selectAll(".handle").data(t.handles,function(L){return L.type});R.exit().remove(),R.enter().append("rect").attr("class",function(L){return"handle handle--"+L.type}).attr("cursor",function(L){return bn[L.type]}),A.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(a).on("touchstart.brush",_).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){var A=Ve(this),P=qs(this).selection;P?(A.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),A.selectAll(".handle").style("display",null).attr("x",function(R){return"e"===R.type[R.type.length-1]?P[1][0]-f/2:P[0][0]-f/2}).attr("y",function(R){return"s"===R.type[0]?P[1][1]-f/2:P[0][1]-f/2}).attr("width",function(R){return"n"===R.type||"s"===R.type?P[1][0]-P[0][0]+f:f}).attr("height",function(R){return"e"===R.type||"w"===R.type?P[1][1]-P[0][1]+f:f})):A.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(A,P,R){var L=A.__brush.emitter;return!L||R&&L.clean?new y(A,P,R):L}function y(A,P,R){this.that=A,this.args=P,this.state=A.__brush,this.active=0,this.clean=R}function _(){if((!l||it.touches)&&i.apply(this,arguments)){var H,U,V,F,I,Q,rt,ct,Bt,Vt,ne,A=this,P=it.target.__data__.type,R="selection"===(o&&it.metaKey?P="overlay":P)?Kf:o&&it.altKey?ki:Ei,L=t===Ra?null:Sm[P],E=t===ka?null:Tm[P],$=qs(A),D=$.extent,N=$.selection,W=D[0][0],X=D[0][1],j=D[1][0],st=D[1][1],xt=0,vt=0,Dt=L&&E&&o&&it.shiftKey,We=it.touches?wm(it.changedTouches[0].identifier):qn,an=We(A),on=an,nt=p(A,arguments,!0).beforestart();"overlay"===P?(N&&(Bt=!0),$.selection=N=[[H=t===Ra?W:an[0],V=t===ka?X:an[1]],[I=t===Ra?j:H,rt=t===ka?st:V]]):(H=N[0][0],V=N[0][1],I=N[1][0],rt=N[1][1]),U=H,F=V,Q=I,ct=rt;var wt=Ve(A).attr("pointer-events","none"),Lt=wt.selectAll(".overlay").attr("cursor",bn[P]);if(it.touches)nt.moved=de,nt.ended=xe;else{var K=Ve(it.view).on("mousemove.brush",de,!0).on("mouseup.brush",xe,!0);o&&K.on("keydown.brush",Me,!0).on("keyup.brush",Ln,!0),_a(it.view)}Zf(),jn(A),d.call(A),nt.start()}function de(){var Ee=We(A);Dt&&!Vt&&!ne&&(Math.abs(Ee[0]-on[0])>Math.abs(Ee[1]-on[1])?ne=!0:Vt=!0),on=Ee,Bt=!0,Hs(),Gt()}function Gt(){var Ee;switch(xt=on[0]-an[0],vt=on[1]-an[1],R){case Us:case Kf:L&&(xt=Math.max(W-H,Math.min(j-I,xt)),U=H+xt,Q=I+xt),E&&(vt=Math.max(X-V,Math.min(st-rt,vt)),F=V+vt,ct=rt+vt);break;case Ei:L<0?(xt=Math.max(W-H,Math.min(j-H,xt)),U=H+xt,Q=I):L>0&&(xt=Math.max(W-I,Math.min(j-I,xt)),U=H,Q=I+xt),E<0?(vt=Math.max(X-V,Math.min(st-V,vt)),F=V+vt,ct=rt):E>0&&(vt=Math.max(X-rt,Math.min(st-rt,vt)),F=V,ct=rt+vt);break;case ki:L&&(U=Math.max(W,Math.min(j,H-xt*L)),Q=Math.max(W,Math.min(j,I+xt*L))),E&&(F=Math.max(X,Math.min(st,V-vt*E)),ct=Math.max(X,Math.min(st,rt+vt*E)))}Q<U&&(L*=-1,Ee=H,H=I,I=Ee,Ee=U,U=Q,Q=Ee,P in tl&&Lt.attr("cursor",bn[P=tl[P]])),ct<F&&(E*=-1,Ee=V,V=rt,rt=Ee,Ee=F,F=ct,ct=Ee,P in el&&Lt.attr("cursor",bn[P=el[P]])),$.selection&&(N=$.selection),Vt&&(U=N[0][0],Q=N[1][0]),ne&&(F=N[0][1],ct=N[1][1]),(N[0][0]!==U||N[0][1]!==F||N[1][0]!==Q||N[1][1]!==ct)&&($.selection=[[U,F],[Q,ct]],d.call(A),nt.brush())}function xe(){if(Zf(),it.touches){if(it.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else ya(it.view,Bt),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);wt.attr("pointer-events","all"),Lt.attr("cursor",bn.overlay),$.selection&&(N=$.selection),Lm(N)&&($.selection=null,d.call(A)),nt.end()}function Me(){switch(it.keyCode){case 16:Dt=L&&E;break;case 18:R===Ei&&(L&&(I=Q-xt*L,H=U+xt*L),E&&(rt=ct-vt*E,V=F+vt*E),R=ki,Gt());break;case 32:(R===Ei||R===ki)&&(L<0?I=Q-xt:L>0&&(H=U-xt),E<0?rt=ct-vt:E>0&&(V=F-vt),R=Us,Lt.attr("cursor",bn.selection),Gt());break;default:return}Hs()}function Ln(){switch(it.keyCode){case 16:Dt&&(Vt=ne=Dt=!1,Gt());break;case 18:R===ki&&(L<0?I=Q:L>0&&(H=U),E<0?rt=ct:E>0&&(V=F),R=Ei,Gt());break;case 32:R===Us&&(it.altKey?(L&&(I=Q-xt*L,H=U+xt*L),E&&(rt=ct-vt*E,V=F+vt*E),R=ki):(L<0?I=Q:L>0&&(H=U),E<0?rt=ct:E>0&&(V=F),R=Ei),Lt.attr("cursor",bn[P]),Gt());break;default:return}Hs()}}function x(){p(this,arguments).moved()}function b(){p(this,arguments).ended()}function v(){var A=this.__brush||{selection:null};return A.extent=Ws(e.apply(this,arguments)),A.dim=t,A}return h.move=function(A,P){A.selection?A.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var R=this,L=R.__brush,E=p(R,arguments),$=L.selection,D=t.input("function"==typeof P?P.apply(this,arguments):P,L.extent),N=ur($,D);function W(H){L.selection=1===H&&null===D?null:N(H),d.call(R),E.brush()}return null!==$&&null!==D?W:W(1)}):A.each(function(){var R=this,L=arguments,E=R.__brush,$=t.input("function"==typeof P?P.apply(R,L):P,E.extent),D=p(R,L).beforestart();jn(R),E.selection=null===$?null:$,d.call(R),D.start().brush().end()})},h.clear=function(A){h.move(A,null)},y.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(A){rr(new vm(h,A,t.output(this.state.selection)),u.apply,u,[A,this.that,this.args])}},h.extent=function(A){return arguments.length?(e="function"==typeof A?A:Bs(Ws(A)),h):e},h.filter=function(A){return arguments.length?(i="function"==typeof A?A:Bs(!!A),h):i},h.touchable=function(A){return arguments.length?(a="function"==typeof A?A:Bs(!!A),h):a},h.handleSize=function(A){return arguments.length?(f=+A,h):f},h.keyModifiers=function(A){return arguments.length?(o=!!A,h):o},h.on=function(){var A=u.on.apply(u,arguments);return A===u?h:A},h}var nl=Math.cos,il=Math.sin,rl=Math.PI,Va=rl/2,al=2*rl,ol=Math.max;function Vm(t){return function(e,i){return t(e.source.value+e.target.value,i.source.value+i.target.value)}}function Gm(){var t=0,e=null,i=null,a=null;function o(u){var x,b,v,A,P,R,f=u.length,l=[],h=c(f),d=[],p=[],y=p.groups=new Array(f),_=new Array(f*f);for(x=0,P=-1;++P<f;){for(b=0,R=-1;++R<f;)b+=u[P][R];l.push(b),d.push(c(f)),x+=b}for(e&&h.sort(function(U,X){return e(l[U],l[X])}),i&&d.forEach(function(U,X){U.sort(function(V,F){return i(u[X][V],u[X][F])})}),A=(x=ol(0,al-t*f)/x)?t:al/f,b=0,P=-1;++P<f;){for(v=b,R=-1;++R<f;){var L=h[P],E=d[L][R],$=u[L][E],D=b,N=b+=$*x;_[E*f+L]={index:L,subindex:E,startAngle:D,endAngle:N,value:$}}y[L]={index:L,startAngle:v,endAngle:b,value:l[L]},b+=A}for(P=-1;++P<f;)for(R=P-1;++R<f;){var W=_[R*f+P],H=_[P*f+R];(W.value||H.value)&&p.push(W.value<H.value?{source:H,target:W}:{source:W,target:H})}return a?p.sort(a):p}return o.padAngle=function(u){return arguments.length?(t=ol(0,u),o):t},o.sortGroups=function(u){return arguments.length?(e=u,o):e},o.sortSubgroups=function(u){return arguments.length?(i=u,o):i},o.sortChords=function(u){return arguments.length?(null==u?a=null:(a=Vm(u))._=u,o):a&&a._},o}var Om=Array.prototype.slice;function js(t){return function(){return t}}var Zs=Math.PI,Ks=2*Zs,Zn=1e-6,$m=Ks-Zn;function Js(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sl(){return new Js}Js.prototype=sl.prototype={constructor:Js,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+a)},bezierCurveTo:function(t,e,i,a,o,u){this._+="C"+ +t+","+ +e+","+ +i+","+ +a+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(t,e,i,a,o){var u=this._x1,f=this._y1,l=(i=+i)-(t=+t),h=(a=+a)-(e=+e),d=u-t,p=f-e,y=d*d+p*p;if((o=+o)<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(y>Zn)if(Math.abs(p*l-h*d)>Zn&&o){var _=i-u,x=a-f,b=l*l+h*h,v=_*_+x*x,A=Math.sqrt(b),P=Math.sqrt(y),R=o*Math.tan((Zs-Math.acos((b+y-v)/(2*A*P)))/2),L=R/P,E=R/A;Math.abs(L-1)>Zn&&(this._+="L"+(t+L*d)+","+(e+L*p)),this._+="A"+o+","+o+",0,0,"+ +(p*_>d*x)+","+(this._x1=t+E*l)+","+(this._y1=e+E*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,i,a,o,u){t=+t,e=+e,u=!!u;var f=(i=+i)*Math.cos(a),l=i*Math.sin(a),h=t+f,d=e+l,p=1^u,y=u?a-o:o-a;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>Zn||Math.abs(this._y1-d)>Zn)&&(this._+="L"+h+","+d),i&&(y<0&&(y=y%Ks+Ks),y>$m?this._+="A"+i+","+i+",0,1,"+p+","+(t-f)+","+(e-l)+"A"+i+","+i+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):y>Zn&&(this._+="A"+i+","+i+",0,"+ +(y>=Zs)+","+p+","+(this._x1=t+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(t,e,i,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +a+"h"+-i+"Z"},toString:function(){return this._}};const Kn=sl;function Nm(t){return t.source}function Im(t){return t.target}function Dm(t){return t.radius}function Fm(t){return t.startAngle}function zm(t){return t.endAngle}function Ym(){var t=Nm,e=Im,i=Dm,a=Fm,o=zm,u=null;function f(){var l,h=Om.call(arguments),d=t.apply(this,h),p=e.apply(this,h),y=+i.apply(this,(h[0]=d,h)),_=a.apply(this,h)-Va,x=o.apply(this,h)-Va,b=y*nl(_),v=y*il(_),A=+i.apply(this,(h[0]=p,h)),P=a.apply(this,h)-Va,R=o.apply(this,h)-Va;if(u||(u=l=Kn()),u.moveTo(b,v),u.arc(0,0,y,_,x),(_!==P||x!==R)&&(u.quadraticCurveTo(0,0,A*nl(P),A*il(P)),u.arc(0,0,A,P,R)),u.quadraticCurveTo(0,0,b,v),u.closePath(),l)return u=null,l+""||null}return f.radius=function(l){return arguments.length?(i="function"==typeof l?l:js(+l),f):i},f.startAngle=function(l){return arguments.length?(a="function"==typeof l?l:js(+l),f):a},f.endAngle=function(l){return arguments.length?(o="function"==typeof l?l:js(+l),f):o},f.source=function(l){return arguments.length?(t=l,f):t},f.target=function(l){return arguments.length?(e=l,f):e},f.context=function(l){return arguments.length?(u=null==l?null:l,f):u},f}var Xe="$";function Ga(){}function ul(t,e){var i=new Ga;if(t instanceof Ga)t.each(function(l,h){i.set(h,l)});else if(Array.isArray(t)){var u,a=-1,o=t.length;if(null==e)for(;++a<o;)i.set(a,t[a]);else for(;++a<o;)i.set(e(u=t[a],a,t),u)}else if(t)for(var f in t)i.set(f,t[f]);return i}Ga.prototype=ul.prototype={constructor:Ga,has:function(t){return Xe+t in this},get:function(t){return this[Xe+t]},set:function(t,e){return this[Xe+t]=e,this},remove:function(t){var e=Xe+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Xe&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Xe&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Xe&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Xe&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Xe&&++t;return t},empty:function(){for(var t in this)if(t[0]===Xe)return!1;return!0},each:function(t){for(var e in this)e[0]===Xe&&t(this[e],e.slice(1),this)}};const Rn=ul;function Xm(){var i,a,o,t=[],e=[];function u(l,h,d,p){if(h>=t.length)return null!=i&&l.sort(i),null!=a?a(l):l;for(var b,v,P,y=-1,_=l.length,x=t[h++],A=Rn(),R=d();++y<_;)(P=A.get(b=x(v=l[y])+""))?P.push(v):A.set(b,[v]);return A.each(function(L,E){p(R,E,u(L,h,d,p))}),R}function f(l,h){if(++h>t.length)return l;var d,p=e[h-1];return null!=a&&h>=t.length?d=l.entries():(d=[],l.each(function(y,_){d.push({key:_,values:f(y,h)})})),null!=p?d.sort(function(y,_){return p(y.key,_.key)}):d}return o={object:function(l){return u(l,0,Bm,Hm)},map:function(l){return u(l,0,cl,fl)},entries:function(l){return f(u(l,0,cl,fl),0)},key:function(l){return t.push(l),o},sortKeys:function(l){return e[t.length-1]=l,o},sortValues:function(l){return i=l,o},rollup:function(l){return a=l,o}}}function Bm(){return{}}function Hm(t,e,i){t[e]=i}function cl(){return Rn()}function fl(t,e,i){t.set(e,i)}function Oa(){}var Jn=Rn.prototype;function ll(t,e){var i=new Oa;if(t instanceof Oa)t.each(function(u){i.add(u)});else if(t){var a=-1,o=t.length;if(null==e)for(;++a<o;)i.add(t[a]);else for(;++a<o;)i.add(e(t[a],a,t))}return i}Oa.prototype=ll.prototype={constructor:Oa,has:Jn.has,add:function(t){return this[Xe+(t+="")]=t,this},remove:Jn.remove,clear:Jn.clear,values:Jn.keys,size:Jn.size,empty:Jn.empty,each:Jn.each};const Um=ll;function Wm(t){var e=[];for(var i in t)e.push(i);return e}function qm(t){var e=[];for(var i in t)e.push(t[i]);return e}function Qm(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e}var hl=Math.PI/180,dl=180/Math.PI,yl=4/29,Ri=6/29,ml=3*Ri*Ri;function xl(t){if(t instanceof Ke)return new Ke(t.l,t.a,t.b,t.opacity);if(t instanceof pn)return wl(t);t instanceof le||(t=As(t));var u,f,e=iu(t.r),i=iu(t.g),a=iu(t.b),o=tu((.2225045*e+.7168786*i+.0606169*a)/1);return e===i&&i===a?u=f=o:(u=tu((.4360747*e+.3850649*i+.1430804*a)/.96422),f=tu((.0139322*e+.0971045*i+.7141733*a)/.82521)),new Ke(116*o-16,500*(u-o),200*(o-f),t.opacity)}function Zm(t,e){return new Ke(t,0,0,null==e?1:e)}function Na(t,e,i,a){return 1===arguments.length?xl(t):new Ke(t,e,i,null==a?1:a)}function Ke(t,e,i,a){this.l=+t,this.a=+e,this.b=+i,this.opacity=+a}function tu(t){return t>.008856451679035631?Math.pow(t,1/3):t/ml+yl}function eu(t){return t>Ri?t*t*t:ml*(t-yl)}function nu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function iu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vl(t){if(t instanceof pn)return new pn(t.h,t.c,t.l,t.opacity);if(t instanceof Ke||(t=xl(t)),0===t.a&&0===t.b)return new pn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*dl;return new pn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Km(t,e,i,a){return 1===arguments.length?vl(t):new pn(i,e,t,null==a?1:a)}function Ia(t,e,i,a){return 1===arguments.length?vl(t):new pn(t,e,i,null==a?1:a)}function pn(t,e,i,a){this.h=+t,this.c=+e,this.l=+i,this.opacity=+a}function wl(t){if(isNaN(t.h))return new Ke(t.l,0,0,t.opacity);var e=t.h*hl;return new Ke(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Si(Ke,Na,ar(En,{brighter:function(t){return new Ke(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ke(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new le(nu(3.1338561*(e=.96422*eu(e))-1.6168667*(t=1*eu(t))-.4906146*(i=.82521*eu(i))),nu(-.9787684*e+1.9161415*t+.033454*i),nu(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),Si(pn,Ia,ar(En,{brighter:function(t){return new pn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new pn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return wl(this).rgb()}}));var ru=1.78277,au=-.29227,Da=-.90649,yr=1.97294,Sl=yr*Da,Tl=yr*ru,Al=ru*au- -.14861*Da;function Jm(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);t instanceof le||(t=As(t));var i=t.g/255,a=t.b/255,o=(Al*a+Sl*(t.r/255)-Tl*i)/(Al+Sl-Tl),u=a-o,f=(yr*(i-o)-au*u)/Da,l=Math.sqrt(f*f+u*u)/(yr*o*(1-o)),h=l?Math.atan2(f,u)*dl-120:NaN;return new ti(h<0?h+360:h,l,o,t.opacity)}function Je(t,e,i,a){return 1===arguments.length?Jm(t):new ti(t,e,i,null==a?1:a)}function ti(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}Si(ti,Je,ar(En,{brighter:function(t){return t=null==t?Ti:Math.pow(Ti,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*hl,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),o=Math.sin(t);return new le(255*(e+i*(-.14861*a+ru*o)),255*(e+i*(au*a+Da*o)),255*(e+i*(yr*a)),this.opacity)}}));var Pl=Array.prototype.slice;function ex(t,e){return t-e}function Vn(t){return function(){return t}}function ix(t,e){for(var o,i=-1,a=e.length;++i<a;)if(o=rx(t,e[i]))return o;return 0}function rx(t,e){for(var i=e[0],a=e[1],o=-1,u=0,f=t.length,l=f-1;u<f;l=u++){var h=t[u],d=h[0],p=h[1],y=t[l],_=y[0],x=y[1];if(ax(h,y,e))return 0;p>a!=x>a&&i<(_-d)*(a-p)/(x-p)+d&&(o=-o)}return o}function ax(t,e,i){var a;return function ox(t,e,i){return(e[0]-t[0])*(i[1]-t[1])==(i[0]-t[0])*(e[1]-t[1])}(t,e,i)&&function sx(t,e,i){return t<=e&&e<=i||i<=e&&e<=t}(t[a=+(t[0]===e[0])],i[a],e[a])}function ux(){}var Sn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Cl(){var t=1,e=1,i=O,a=h;function o(d){var p=i(d);if(Array.isArray(p))p=p.slice().sort(ex);else{var y=tr(d),_=y[0],x=y[1];p=C(_,x,p),p=c(Math.floor(_/p)*p,Math.floor(x/p)*p,p)}return p.map(function(b){return u(d,b)})}function u(d,p){var y=[],_=[];return function f(d,p,y){var b,v,P,R,L,_=new Array,x=new Array;for(b=v=-1,Sn[(P=d[0]>=p)<<1].forEach(E);++b<t-1;)Sn[P|(P=d[b+1]>=p)<<1].forEach(E);for(Sn[P<<0].forEach(E);++v<e-1;){for(b=-1,Sn[(P=d[v*t+t]>=p)<<1|(R=d[v*t]>=p)<<2].forEach(E);++b<t-1;)L=R,Sn[P|(P=d[v*t+t+b+1]>=p)<<1|(R=d[v*t+b+1]>=p)<<2|L<<3].forEach(E);Sn[P|R<<3].forEach(E)}for(b=-1,Sn[(R=d[v*t]>=p)<<2].forEach(E);++b<t-1;)L=R,Sn[(R=d[v*t+b+1]>=p)<<2|L<<3].forEach(E);function E($){var U,X,D=[$[0][0]+b,$[0][1]+v],N=[$[1][0]+b,$[1][1]+v],W=l(D),H=l(N);(U=x[W])?(X=_[H])?(delete x[U.end],delete _[X.start],U===X?(U.ring.push(N),y(U.ring)):_[U.start]=x[X.end]={start:U.start,end:X.end,ring:U.ring.concat(X.ring)}):(delete x[U.end],U.ring.push(N),x[U.end=H]=U):(U=_[H])?(X=x[W])?(delete _[U.start],delete x[X.end],U===X?(U.ring.push(N),y(U.ring)):_[X.start]=x[U.end]={start:X.start,end:U.end,ring:X.ring.concat(U.ring)}):(delete _[U.start],U.ring.unshift(D),_[U.start=W]=U):_[W]=x[H]={start:W,end:H,ring:[D,N]}}Sn[R<<3].forEach(E)}(d,p,function(x){a(x,d,p),function nx(t){for(var e=0,i=t.length,a=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}(x)>0?y.push([x]):_.push(x)}),_.forEach(function(x){for(var A,b=0,v=y.length;b<v;++b)if(-1!==ix((A=y[b])[0],x))return void A.push(x)}),{type:"MultiPolygon",value:p,coordinates:y}}function l(d){return 2*d[0]+d[1]*(t+1)*4}function h(d,p,y){d.forEach(function(_){var P,x=_[0],b=_[1],v=0|x,A=0|b,R=p[A*t+v];x>0&&x<t&&v===x&&(_[0]=x+(y-(P=p[A*t+v-1]))/(R-P)-.5),b>0&&b<e&&A===b&&(_[1]=b+(y-(P=p[(A-1)*t+v]))/(R-P)-.5)})}return o.contour=u,o.size=function(d){if(!arguments.length)return[t,e];var p=Math.ceil(d[0]),y=Math.ceil(d[1]);if(!(p>0&&y>0))throw new Error("invalid size");return t=p,e=y,o},o.thresholds=function(d){return arguments.length?(i="function"==typeof d?d:Array.isArray(d)?Vn(Pl.call(d)):Vn(d),o):i},o.smooth=function(d){return arguments.length?(a=d?h:ux,o):a===h},o}function ou(t,e,i){for(var a=t.width,o=t.height,u=1+(i<<1),f=0;f<o;++f)for(var l=0,h=0;l<a+i;++l)l<a&&(h+=t.data[l+f*a]),l>=i&&(l>=u&&(h-=t.data[l-u+f*a]),e.data[l-i+f*a]=h/Math.min(l+1,a-1+u-l,u))}function su(t,e,i){for(var a=t.width,o=t.height,u=1+(i<<1),f=0;f<a;++f)for(var l=0,h=0;l<o+i;++l)l<o&&(h+=t.data[f+l*a]),l>=i&&(l>=u&&(h-=t.data[f+(l-u)*a]),e.data[f+(l-i)*a]=h/Math.min(l+1,o-1+u-l,u))}function cx(t){return t[0]}function fx(t){return t[1]}function lx(){return 1}function hx(){var t=cx,e=fx,i=lx,a=960,o=500,u=20,f=2,l=3*u,h=a+2*l>>f,d=o+2*l>>f,p=Vn(20);function y(P){var R=new Float32Array(h*d),L=new Float32Array(h*d);P.forEach(function(D,N,W){var H=+t(D,N,W)+l>>f,U=+e(D,N,W)+l>>f,X=+i(D,N,W);H>=0&&H<h&&U>=0&&U<d&&(R[H+U*h]+=X)}),ou({width:h,height:d,data:R},{width:h,height:d,data:L},u>>f),su({width:h,height:d,data:L},{width:h,height:d,data:R},u>>f),ou({width:h,height:d,data:R},{width:h,height:d,data:L},u>>f),su({width:h,height:d,data:L},{width:h,height:d,data:R},u>>f),ou({width:h,height:d,data:R},{width:h,height:d,data:L},u>>f),su({width:h,height:d,data:L},{width:h,height:d,data:R},u>>f);var E=p(R);if(!Array.isArray(E)){var $=q(R);E=C(0,$,E),(E=c(0,Math.floor($/E)*E,E)).shift()}return Cl().thresholds(E).size([h,d])(R).map(_)}function _(P){return P.value*=Math.pow(2,-2*f),P.coordinates.forEach(x),P}function x(P){P.forEach(b)}function b(P){P.forEach(v)}function v(P){P[0]=P[0]*Math.pow(2,f)-l,P[1]=P[1]*Math.pow(2,f)-l}function A(){return h=a+2*(l=3*u)>>f,d=o+2*l>>f,y}return y.x=function(P){return arguments.length?(t="function"==typeof P?P:Vn(+P),y):t},y.y=function(P){return arguments.length?(e="function"==typeof P?P:Vn(+P),y):e},y.weight=function(P){return arguments.length?(i="function"==typeof P?P:Vn(+P),y):i},y.size=function(P){if(!arguments.length)return[a,o];var R=Math.ceil(P[0]),L=Math.ceil(P[1]);if(!(R>=0||R>=0))throw new Error("invalid size");return a=R,o=L,A()},y.cellSize=function(P){if(!arguments.length)return 1<<f;if(!((P=+P)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(P)/Math.LN2),A()},y.thresholds=function(P){return arguments.length?(p="function"==typeof P?P:Array.isArray(P)?Vn(Pl.call(P)):Vn(P),y):p},y.bandwidth=function(P){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((P=+P)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*P*P+1)-1)/2),A()},y}function Fa(t){return function(){return t}}function uu(t,e,i,a,o,u,f,l,h,d){this.target=t,this.type=e,this.subject=i,this.identifier=a,this.active=o,this.x=u,this.y=f,this.dx=l,this.dy=h,this._=d}function dx(){return!it.ctrlKey&&!it.button}function gx(){return this.parentNode}function px(t){return null==t?{x:it.x,y:it.y}:t}function _x(){return navigator.maxTouchPoints||"ontouchstart"in this}function yx(){var l,h,d,p,t=dx,e=gx,i=px,a=_x,o={},u=Mn("start","drag","end"),f=0,y=0;function _(E){E.on("mousedown.drag",x).filter(a).on("touchstart.drag",A).on("touchmove.drag",P).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!p&&t.apply(this,arguments)){var E=L("mouse",e.apply(this,arguments),qn,this,arguments);!E||(Ve(it.view).on("mousemove.drag",b,!0).on("mouseup.drag",v,!0),_a(it.view),Ts(),d=!1,l=it.clientX,h=it.clientY,E("start"))}}function b(){if(bi(),!d){var E=it.clientX-l,$=it.clientY-h;d=E*E+$*$>y}o.mouse("drag")}function v(){Ve(it.view).on("mousemove.drag mouseup.drag",null),ya(it.view,d),bi(),o.mouse("end")}function A(){if(t.apply(this,arguments)){var N,W,E=it.changedTouches,$=e.apply(this,arguments),D=E.length;for(N=0;N<D;++N)(W=L(E[N].identifier,$,cr,this,arguments))&&(Ts(),W("start"))}}function P(){var D,N,E=it.changedTouches,$=E.length;for(D=0;D<$;++D)(N=o[E[D].identifier])&&(bi(),N("drag"))}function R(){var D,N,E=it.changedTouches,$=E.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),D=0;D<$;++D)(N=o[E[D].identifier])&&(Ts(),N("end"))}function L(E,$,D,N,W){var U,X,V,H=D($,E),F=u.copy();if(rr(new uu(_,"beforestart",U,E,f,H[0],H[1],0,0,F),function(){return null!=(it.subject=U=i.apply(N,W))&&(X=U.x-H[0]||0,V=U.y-H[1]||0,!0)}))return function j(I){var st,Q=H;switch(I){case"start":o[E]=j,st=f++;break;case"end":delete o[E],--f;case"drag":H=D($,E),st=f}rr(new uu(_,I,U,E,st,H[0]+X,H[1]+V,H[0]-Q[0],H[1]-Q[1],F),F.apply,F,[I,N,W])}}return _.filter=function(E){return arguments.length?(t="function"==typeof E?E:Fa(!!E),_):t},_.container=function(E){return arguments.length?(e="function"==typeof E?E:Fa(E),_):e},_.subject=function(E){return arguments.length?(i="function"==typeof E?E:Fa(E),_):i},_.touchable=function(E){return arguments.length?(a="function"==typeof E?E:Fa(!!E),_):a},_.on=function(){var E=u.on.apply(u,arguments);return E===u?_:E},_.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,_):Math.sqrt(y)},_}uu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ll={},cu={};function Ml(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function El(t){var e=Object.create(null),i=[];return t.forEach(function(a){for(var o in a)o in e||i.push(e[o]=o)}),i}function Ge(t,e){var i=t+"",a=i.length;return a<e?new Array(e-a+1).join(0)+i:i}function za(t){var e=new RegExp('["'+t+"\n\r]"),i=t.charCodeAt(0);function o(y,_){var P,x=[],b=y.length,v=0,A=0,R=b<=0,L=!1;function E(){if(R)return cu;if(L)return L=!1,Ll;var D,W,N=v;if(34===y.charCodeAt(N)){for(;v++<b&&34!==y.charCodeAt(v)||34===y.charCodeAt(++v););return(D=v)>=b?R=!0:10===(W=y.charCodeAt(v++))?L=!0:13===W&&(L=!0,10===y.charCodeAt(v)&&++v),y.slice(N+1,D-1).replace(/""/g,'"')}for(;v<b;){if(10===(W=y.charCodeAt(D=v++)))L=!0;else if(13===W)L=!0,10===y.charCodeAt(v)&&++v;else if(W!==i)continue;return y.slice(N,D)}return R=!0,y.slice(N,b)}for(10===y.charCodeAt(b-1)&&--b,13===y.charCodeAt(b-1)&&--b;(P=E())!==cu;){for(var $=[];P!==Ll&&P!==cu;)$.push(P),P=E();_&&null==($=_($,A++))||x.push($)}return x}function u(y,_){return y.map(function(x){return _.map(function(b){return p(x[b])}).join(t)})}function d(y){return y.map(p).join(t)}function p(y){return null==y?"":y instanceof Date?function vx(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function xx(t){return t<0?"-"+Ge(-t,6):t>9999?"+"+Ge(t,6):Ge(t,4)}(t.getUTCFullYear())+"-"+Ge(t.getUTCMonth()+1,2)+"-"+Ge(t.getUTCDate(),2)+(o?"T"+Ge(e,2)+":"+Ge(i,2)+":"+Ge(a,2)+"."+Ge(o,3)+"Z":a?"T"+Ge(e,2)+":"+Ge(i,2)+":"+Ge(a,2)+"Z":i||e?"T"+Ge(e,2)+":"+Ge(i,2)+"Z":"")}(y):e.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:function a(y,_){var x,b,v=o(y,function(A,P){if(x)return x(A,P-1);b=A,x=_?function mx(t,e){var i=Ml(t);return function(a,o){return e(i(a),o,t)}}(A,_):Ml(A)});return v.columns=b||[],v},parseRows:o,format:function f(y,_){return null==_&&(_=El(y)),[_.map(p).join(t)].concat(u(y,_)).join("\n")},formatBody:function l(y,_){return null==_&&(_=El(y)),u(y,_).join("\n")},formatRows:function h(y){return y.map(d).join("\n")},formatRow:d,formatValue:p}}var ei=za(","),kl=ei.parse,wx=ei.parseRows,bx=ei.format,Sx=ei.formatBody,Tx=ei.formatRows,Ax=ei.formatRow,Px=ei.formatValue,ni=za("\t"),Rl=ni.parse,Cx=ni.parseRows,Lx=ni.format,Mx=ni.formatBody,Ex=ni.formatRows,kx=ni.formatRow,Rx=ni.formatValue;function Vx(t){for(var e in t){var a,o,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(a=+i)){if(!(o=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Gx&&!!o[4]&&!o[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=a;else i=null;t[e]=i}return t}var Gx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ox(t){return+t}function $x(t){return t*t}function Nx(t){return t*(2-t)}function Vl(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Ix=function t(e){function i(a){return Math.pow(a,e)}return e=+e,i.exponent=t,i}(3),Dx=function t(e){function i(a){return 1-Math.pow(1-a,e)}return e=+e,i.exponent=t,i}(3),Gl=function t(e){function i(a){return((a*=2)<=1?Math.pow(a,e):2-Math.pow(2-a,e))/2}return e=+e,i.exponent=t,i}(3),Ol=Math.PI,$l=Ol/2;function Fx(t){return 1==+t?1:1-Math.cos(t*$l)}function zx(t){return Math.sin(t*$l)}function Nl(t){return(1-Math.cos(Ol*t))/2}function Gn(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Yx(t){return Gn(1-+t)}function Xx(t){return 1-Gn(t)}function Il(t){return((t*=2)<=1?Gn(1-t):2-Gn(t-1))/2}function Bx(t){return 1-Math.sqrt(1-t*t)}function Hx(t){return Math.sqrt(1- --t*t)}function Dl(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ya=7.5625;function t1(t){return 1-xr(1-t)}function xr(t){return(t=+t)<.36363636363636365?Ya*t*t:t<.7272727272727273?Ya*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Ya*(t-=.8181818181818182)*t+.9375:Ya*(t-=.9545454545454546)*t+.984375}function e1(t){return((t*=2)<=1?1-xr(1-t):xr(t-1)+1)/2}var gu=1.70158,n1=function t(e){function i(a){return(a=+a)*a*(e*(a-1)+a)}return e=+e,i.overshoot=t,i}(gu),i1=function t(e){function i(a){return--a*a*((a+1)*e+a)+1}return e=+e,i.overshoot=t,i}(gu),Fl=function t(e){function i(a){return((a*=2)<1?a*a*((e+1)*a-e):(a-=2)*a*((e+1)*a+e)+2)/2}return e=+e,i.overshoot=t,i}(gu),Vi=2*Math.PI,r1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Vi);function o(u){return e*Gn(- --u)*Math.sin((a-u)/i)}return o.amplitude=function(u){return t(u,i*Vi)},o.period=function(u){return t(e,u)},o}(1,.3),zl=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Vi);function o(u){return 1-e*Gn(u=+u)*Math.sin((u+a)/i)}return o.amplitude=function(u){return t(u,i*Vi)},o.period=function(u){return t(e,u)},o}(1,.3),a1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Vi);function o(u){return((u=2*u-1)<0?e*Gn(-u)*Math.sin((a-u)/i):2-e*Gn(u)*Math.sin((a+u)/i))/2}return o.amplitude=function(u){return t(u,i*Vi)},o.period=function(u){return t(e,u)},o}(1,.3);function o1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function s1(t,e){return fetch(t,e).then(o1)}function u1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function c1(t,e){return fetch(t,e).then(u1)}function f1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Xa(t,e){return fetch(t,e).then(f1)}function Yl(t){return function(e,i,a){return 2===arguments.length&&"function"==typeof i&&(a=i,i=void 0),Xa(e,i).then(function(o){return t(o,a)})}}function l1(t,e,i,a){3===arguments.length&&"function"==typeof i&&(a=i,i=void 0);var o=za(t);return Xa(e,i).then(function(u){return o.parse(u,a)})}var h1=Yl(kl),d1=Yl(Rl);function g1(t,e){return new Promise(function(i,a){var o=new Image;for(var u in e)o[u]=e[u];o.onerror=a,o.onload=function(){i(o)},o.src=t})}function p1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function _1(t,e){return fetch(t,e).then(p1)}function yu(t){return function(e,i){return Xa(e,i).then(function(a){return(new DOMParser).parseFromString(a,t)})}}const y1=yu("application/xml");var m1=yu("text/html"),x1=yu("image/svg+xml");function v1(t,e){var i;function a(){var o,f,u=i.length,l=0,h=0;for(o=0;o<u;++o)l+=(f=i[o]).x,h+=f.y;for(l=l/u-t,h=h/u-e,o=0;o<u;++o)(f=i[o]).x-=l,f.y-=h}return null==t&&(t=0),null==e&&(e=0),a.initialize=function(o){i=o},a.x=function(o){return arguments.length?(t=+o,a):t},a.y=function(o){return arguments.length?(e=+o,a):e},a}function oe(t){return function(){return t}}function On(){return 1e-6*(Math.random()-.5)}function Xl(t,e,i,a){if(isNaN(e)||isNaN(i))return t;var o,y,_,x,b,v,A,P,R,u=t._root,f={data:a},l=t._x0,h=t._y0,d=t._x1,p=t._y1;if(!u)return t._root=f,t;for(;u.length;)if((v=e>=(y=(l+d)/2))?l=y:d=y,(A=i>=(_=(h+p)/2))?h=_:p=_,o=u,!(u=u[P=A<<1|v]))return o[P]=f,t;if(x=+t._x.call(null,u.data),b=+t._y.call(null,u.data),e===x&&i===b)return f.next=u,o?o[P]=f:t._root=f,t;do{o=o?o[P]=new Array(4):t._root=new Array(4),(v=e>=(y=(l+d)/2))?l=y:d=y,(A=i>=(_=(h+p)/2))?h=_:p=_}while((P=A<<1|v)==(R=(b>=_)<<1|x>=y));return o[R]=u,o[P]=f,t}function we(t,e,i,a,o){this.node=t,this.x0=e,this.y0=i,this.x1=a,this.y1=o}function V1(t){return t[0]}function O1(t){return t[1]}function Ba(t,e,i){var a=new mu(null==e?V1:e,null==i?O1:i,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function mu(t,e,i,a,o,u){this._x=t,this._y=e,this._x0=i,this._y0=a,this._x1=o,this._y1=u,this._root=void 0}function Bl(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var be=Ba.prototype=mu.prototype;function N1(t){return t.x+t.vx}function I1(t){return t.y+t.vy}function D1(t){var e,i,a=1,o=1;function u(){for(var h,p,y,_,x,b,v,d=e.length,A=0;A<o;++A)for(p=Ba(e,N1,I1).visitAfter(f),h=0;h<d;++h)v=(b=i[(y=e[h]).index])*b,_=y.x+y.vx,x=y.y+y.vy,p.visit(P);function P(R,L,E,$,D){var N=R.data,W=R.r,H=b+W;if(!N)return L>_+H||$<_-H||E>x+H||D<x-H;if(N.index>y.index){var U=_-N.x-N.vx,X=x-N.y-N.vy,V=U*U+X*X;V<H*H&&(0===U&&(V+=(U=On())*U),0===X&&(V+=(X=On())*X),V=(H-(V=Math.sqrt(V)))/V*a,y.vx+=(U*=V)*(H=(W*=W)/(v+W)),y.vy+=(X*=V)*H,N.vx-=U*(H=1-H),N.vy-=X*H)}}}function f(h){if(h.data)return h.r=i[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function l(){if(e){var h,p,d=e.length;for(i=new Array(d),h=0;h<d;++h)i[(p=e[h]).index]=+t(p,h,e)}}return"function"!=typeof t&&(t=oe(null==t?1:+t)),u.initialize=function(h){e=h,l()},u.iterations=function(h){return arguments.length?(o=+h,u):o},u.strength=function(h){return arguments.length?(a=+h,u):a},u.radius=function(h){return arguments.length?(t="function"==typeof h?h:oe(+h),l(),u):t},u}function F1(t){return t.index}function Hl(t,e){var i=t.get(e);if(!i)throw new Error("missing: "+e);return i}function z1(t){var a,u,f,l,h,e=F1,i=function p(v){return 1/Math.min(l[v.source.index],l[v.target.index])},o=oe(30),d=1;function y(v){for(var A=0,P=t.length;A<d;++A)for(var L,E,$,D,N,W,H,R=0;R<P;++R)D=($=(L=t[R]).target).x+$.vx-(E=L.source).x-E.vx||On(),N=$.y+$.vy-E.y-E.vy||On(),N*=W=((W=Math.sqrt(D*D+N*N))-u[R])/W*v*a[R],$.vx-=(D*=W)*(H=h[R]),$.vy-=N*H,E.vx+=D*(H=1-H),E.vy+=N*H}function _(){if(f){var v,L,A=f.length,P=t.length,R=Rn(f,e);for(v=0,l=new Array(A);v<P;++v)(L=t[v]).index=v,"object"!=typeof L.source&&(L.source=Hl(R,L.source)),"object"!=typeof L.target&&(L.target=Hl(R,L.target)),l[L.source.index]=(l[L.source.index]||0)+1,l[L.target.index]=(l[L.target.index]||0)+1;for(v=0,h=new Array(P);v<P;++v)h[v]=l[(L=t[v]).source.index]/(l[L.source.index]+l[L.target.index]);a=new Array(P),x(),u=new Array(P),b()}}function x(){if(f)for(var v=0,A=t.length;v<A;++v)a[v]=+i(t[v],v,t)}function b(){if(f)for(var v=0,A=t.length;v<A;++v)u[v]=+o(t[v],v,t)}return null==t&&(t=[]),y.initialize=function(v){f=v,_()},y.links=function(v){return arguments.length?(t=v,_(),y):t},y.id=function(v){return arguments.length?(e=v,y):e},y.iterations=function(v){return arguments.length?(d=+v,y):d},y.strength=function(v){return arguments.length?(i="function"==typeof v?v:oe(+v),x(),y):i},y.distance=function(v){return arguments.length?(o="function"==typeof v?v:oe(+v),b(),y):o},y}function Y1(t){return t.x}function X1(t){return t.y}be.copy=function(){var i,a,t=new mu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return t;if(!e.length)return t._root=Bl(e),t;for(i=[{source:e,target:t._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(a=e.source[o])&&(a.length?i.push({source:a,target:e.target[o]=new Array(4)}):e.target[o]=Bl(a));return t},be.add=function w1(t){var e=+this._x.call(null,t),i=+this._y.call(null,t);return Xl(this.cover(e,i),e,i,t)},be.addAll=function b1(t){var e,i,o,u,a=t.length,f=new Array(a),l=new Array(a),h=1/0,d=1/0,p=-1/0,y=-1/0;for(i=0;i<a;++i)isNaN(o=+this._x.call(null,e=t[i]))||isNaN(u=+this._y.call(null,e))||(f[i]=o,l[i]=u,o<h&&(h=o),o>p&&(p=o),u<d&&(d=u),u>y&&(y=u));if(h>p||d>y)return this;for(this.cover(h,d).cover(p,y),i=0;i<a;++i)Xl(this,f[i],l[i],t[i]);return this},be.cover=function S1(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,a=this._y0,o=this._x1,u=this._y1;if(isNaN(i))o=(i=Math.floor(t))+1,u=(a=Math.floor(e))+1;else{for(var h,d,f=o-i,l=this._root;i>t||t>=o||a>e||e>=u;)switch(d=(e<a)<<1|t<i,h=new Array(4),h[d]=l,l=h,f*=2,d){case 0:o=i+f,u=a+f;break;case 1:i=o-f,u=a+f;break;case 2:o=i+f,a=u-f;break;case 3:i=o-f,a=u-f}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=a,this._x1=o,this._y1=u,this},be.data=function T1(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},be.extent=function A1(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},be.find=function P1(t,e,i){var a,f,l,h,d,b,v,o=this._x0,u=this._y0,p=this._x1,y=this._y1,_=[],x=this._root;for(x&&_.push(new we(x,o,u,p,y)),null==i?i=1/0:(o=t-i,u=e-i,p=t+i,y=e+i,i*=i);b=_.pop();)if(!(!(x=b.node)||(f=b.x0)>p||(l=b.y0)>y||(h=b.x1)<o||(d=b.y1)<u))if(x.length){var A=(f+h)/2,P=(l+d)/2;_.push(new we(x[3],A,P,h,d),new we(x[2],f,P,A,d),new we(x[1],A,l,h,P),new we(x[0],f,l,A,P)),(v=(e>=P)<<1|t>=A)&&(b=_[_.length-1],_[_.length-1]=_[_.length-1-v],_[_.length-1-v]=b)}else{var R=t-+this._x.call(null,x.data),L=e-+this._y.call(null,x.data),E=R*R+L*L;if(E<i){var $=Math.sqrt(i=E);o=t-$,u=e-$,p=t+$,y=e+$,a=x.data}}return a},be.remove=function C1(t){if(isNaN(p=+this._x.call(null,t))||isNaN(y=+this._y.call(null,t)))return this;var e,a,o,u,p,y,_,x,b,v,A,P,i=this._root,f=this._x0,l=this._y0,h=this._x1,d=this._y1;if(!i)return this;if(i.length)for(;;){if((b=p>=(_=(f+h)/2))?f=_:h=_,(v=y>=(x=(l+d)/2))?l=x:d=x,e=i,!(i=i[A=v<<1|b]))return this;if(!i.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(a=e,P=A)}for(;i.data!==t;)if(o=i,!(i=i.next))return this;return(u=i.next)&&delete i.next,o?(u?o.next=u:delete o.next,this):e?(u?e[A]=u:delete e[A],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(a?a[P]=i:this._root=i),this):(this._root=u,this)},be.removeAll=function L1(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this},be.root=function M1(){return this._root},be.size=function E1(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},be.visit=function k1(t){var i,o,u,f,l,h,e=[],a=this._root;for(a&&e.push(new we(a,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!t(a=i.node,u=i.x0,f=i.y0,l=i.x1,h=i.y1)&&a.length){var d=(u+l)/2,p=(f+h)/2;(o=a[3])&&e.push(new we(o,d,p,l,h)),(o=a[2])&&e.push(new we(o,u,p,d,h)),(o=a[1])&&e.push(new we(o,d,f,l,p)),(o=a[0])&&e.push(new we(o,u,f,d,p))}return this},be.visitAfter=function R1(t){var a,e=[],i=[];for(this._root&&e.push(new we(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var o=a.node;if(o.length){var u,f=a.x0,l=a.y0,h=a.x1,d=a.y1,p=(f+h)/2,y=(l+d)/2;(u=o[0])&&e.push(new we(u,f,l,p,y)),(u=o[1])&&e.push(new we(u,p,l,h,y)),(u=o[2])&&e.push(new we(u,f,y,p,d)),(u=o[3])&&e.push(new we(u,p,y,h,d))}i.push(a)}for(;a=i.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this},be.x=function G1(t){return arguments.length?(this._x=t,this):this._x},be.y=function $1(t){return arguments.length?(this._y=t,this):this._y};var H1=Math.PI*(3-Math.sqrt(5));function U1(t){var e,i=1,a=.001,o=1-Math.pow(a,1/300),u=0,f=.6,l=Rn(),h=Pa(p),d=Mn("tick","end");function p(){y(),d.call("tick",e),i<a&&(h.stop(),d.call("end",e))}function y(b){var v,P,A=t.length;void 0===b&&(b=1);for(var R=0;R<b;++R)for(i+=(u-i)*o,l.each(function(L){L(i)}),v=0;v<A;++v)null==(P=t[v]).fx?P.x+=P.vx*=f:(P.x=P.fx,P.vx=0),null==P.fy?P.y+=P.vy*=f:(P.y=P.fy,P.vy=0);return e}function _(){for(var A,b=0,v=t.length;b<v;++b){if((A=t[b]).index=b,null!=A.fx&&(A.x=A.fx),null!=A.fy&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var P=10*Math.sqrt(b),R=b*H1;A.x=P*Math.cos(R),A.y=P*Math.sin(R)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function x(b){return b.initialize&&b.initialize(t),b}return null==t&&(t=[]),_(),e={tick:y,restart:function(){return h.restart(p),e},stop:function(){return h.stop(),e},nodes:function(b){return arguments.length?(t=b,_(),l.each(x),e):t},alpha:function(b){return arguments.length?(i=+b,e):i},alphaMin:function(b){return arguments.length?(a=+b,e):a},alphaDecay:function(b){return arguments.length?(o=+b,e):+o},alphaTarget:function(b){return arguments.length?(u=+b,e):u},velocityDecay:function(b){return arguments.length?(f=1-b,e):1-f},force:function(b,v){return arguments.length>1?(null==v?l.remove(b):l.set(b,x(v)),e):l.get(b)},find:function(b,v,A){var L,E,$,D,N,P=0,R=t.length;for(null==A?A=1/0:A*=A,P=0;P<R;++P)($=(L=b-(D=t[P]).x)*L+(E=v-D.y)*E)<A&&(N=D,A=$);return N},on:function(b,v){return arguments.length>1?(d.on(b,v),e):d.on(b)}}}function W1(){var t,e,i,o,a=oe(-30),u=1,f=1/0,l=.81;function h(_){var x,b=t.length,v=Ba(t,Y1,X1).visitAfter(p);for(i=_,x=0;x<b;++x)e=t[x],v.visit(y)}function d(){if(t){var _,b,x=t.length;for(o=new Array(x),_=0;_<x;++_)o[(b=t[_]).index]=+a(b,_,t)}}function p(_){var b,v,P,R,L,x=0,A=0;if(_.length){for(P=R=L=0;L<4;++L)(b=_[L])&&(v=Math.abs(b.value))&&(x+=b.value,A+=v,P+=v*b.x,R+=v*b.y);_.x=P/A,_.y=R/A}else{(b=_).x=b.data.x,b.y=b.data.y;do{x+=o[b.data.index]}while(b=b.next)}_.value=x}function y(_,x,b,v){if(!_.value)return!0;var A=_.x-e.x,P=_.y-e.y,R=v-x,L=A*A+P*P;if(R*R/l<L)return L<f&&(0===A&&(L+=(A=On())*A),0===P&&(L+=(P=On())*P),L<u&&(L=Math.sqrt(u*L)),e.vx+=A*_.value*i/L,e.vy+=P*_.value*i/L),!0;if(!(_.length||L>=f)){(_.data!==e||_.next)&&(0===A&&(L+=(A=On())*A),0===P&&(L+=(P=On())*P),L<u&&(L=Math.sqrt(u*L)));do{_.data!==e&&(e.vx+=A*(R=o[_.data.index]*i/L),e.vy+=P*R)}while(_=_.next)}}return h.initialize=function(_){t=_,d()},h.strength=function(_){return arguments.length?(a="function"==typeof _?_:oe(+_),d(),h):a},h.distanceMin=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h.distanceMax=function(_){return arguments.length?(f=_*_,h):Math.sqrt(f)},h.theta=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h}function q1(t,e,i){var a,u,f,o=oe(.1);function l(d){for(var p=0,y=a.length;p<y;++p){var _=a[p],x=_.x-e||1e-6,b=_.y-i||1e-6,v=Math.sqrt(x*x+b*b),A=(f[p]-v)*u[p]*d/v;_.vx+=x*A,_.vy+=b*A}}function h(){if(a){var d,p=a.length;for(u=new Array(p),f=new Array(p),d=0;d<p;++d)f[d]=+t(a[d],d,a),u[d]=isNaN(f[d])?0:+o(a[d],d,a)}}return"function"!=typeof t&&(t=oe(+t)),null==e&&(e=0),null==i&&(i=0),l.initialize=function(d){a=d,h()},l.strength=function(d){return arguments.length?(o="function"==typeof d?d:oe(+d),h(),l):o},l.radius=function(d){return arguments.length?(t="function"==typeof d?d:oe(+d),h(),l):t},l.x=function(d){return arguments.length?(e=+d,l):e},l.y=function(d){return arguments.length?(i=+d,l):i},l}function Q1(t){var i,a,o,e=oe(.1);function u(l){for(var p,h=0,d=i.length;h<d;++h)(p=i[h]).vx+=(o[h]-p.x)*a[h]*l}function f(){if(i){var l,h=i.length;for(a=new Array(h),o=new Array(h),l=0;l<h;++l)a[l]=isNaN(o[l]=+t(i[l],l,i))?0:+e(i[l],l,i)}}return"function"!=typeof t&&(t=oe(null==t?0:+t)),u.initialize=function(l){i=l,f()},u.strength=function(l){return arguments.length?(e="function"==typeof l?l:oe(+l),f(),u):e},u.x=function(l){return arguments.length?(t="function"==typeof l?l:oe(+l),f(),u):t},u}function j1(t){var i,a,o,e=oe(.1);function u(l){for(var p,h=0,d=i.length;h<d;++h)(p=i[h]).vy+=(o[h]-p.y)*a[h]*l}function f(){if(i){var l,h=i.length;for(a=new Array(h),o=new Array(h),l=0;l<h;++l)a[l]=isNaN(o[l]=+t(i[l],l,i))?0:+e(i[l],l,i)}}return"function"!=typeof t&&(t=oe(null==t?0:+t)),u.initialize=function(l){i=l,f()},u.strength=function(l){return arguments.length?(e="function"==typeof l?l:oe(+l),f(),u):e},u.y=function(l){return arguments.length?(t="function"==typeof l?l:oe(+l),f(),u):t},u}function Ha(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,a=t.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+t.slice(i+1)]}function Gi(t){return(t=Ha(Math.abs(t)))?t[1]:NaN}var Ul,tv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vr(t){if(!(e=tv.exec(t)))throw new Error("invalid format: "+t);var e;return new Ua({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ua(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wl(t,e){var i=Ha(t,e);if(!i)return t+"";var a=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}vr.prototype=Ua.prototype,Ua.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ql={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function Z1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Wl(100*t,e)},r:Wl,s:function nv(t,e){var i=Ha(t,e);if(!i)return t+"";var a=i[0],o=i[1],u=o-(Ul=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,f=a.length;return u===f?a:u>f?a+new Array(u-f+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+Ha(t,Math.max(0,e+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ql(t){return t}var Wa,qa,xu,jl=Array.prototype.map,Zl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Kl(t){var e=void 0===t.grouping||void 0===t.thousands?Ql:function K1(t,e){return function(i,a){for(var o=i.length,u=[],f=0,l=t[0],h=0;o>0&&l>0&&(h+l+1>a&&(l=Math.max(1,a-h)),u.push(i.substring(o-=l,o+l)),!((h+=l+1)>a));)l=t[f=(f+1)%t.length];return u.reverse().join(e)}}(jl.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ql:function J1(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}(jl.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function d(y){var _=(y=vr(y)).fill,x=y.align,b=y.sign,v=y.symbol,A=y.zero,P=y.width,R=y.comma,L=y.precision,E=y.trim,$=y.type;"n"===$?(R=!0,$="g"):ql[$]||(void 0===L&&(L=12),E=!0,$="g"),(A||"0"===_&&"="===x)&&(A=!0,_="0",x="=");var D="$"===v?i:"#"===v&&/[boxX]/.test($)?"0"+$.toLowerCase():"",N="$"===v?a:/[%p]/.test($)?f:"",W=ql[$],H=/[defgprs%]/.test($);function U(X){var j,I,Q,V=D,F=N;if("c"===$)F=W(X)+F,X="";else{var st=(X=+X)<0||1/X<0;if(X=isNaN(X)?h:W(Math.abs(X),L),E&&(X=function ev(t){t:for(var o,e=t.length,i=1,a=-1;i<e;++i)switch(t[i]){case".":a=o=i;break;case"0":0===a&&(a=i),o=i;break;default:if(!+t[i])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(o+1):t}(X)),st&&0==+X&&"+"!==b&&(st=!1),V=(st?"("===b?b:l:"-"===b||"("===b?"":b)+V,F=("s"===$?Zl[8+Ul/3]:"")+F+(st&&"("===b?")":""),H)for(j=-1,I=X.length;++j<I;)if(48>(Q=X.charCodeAt(j))||Q>57){F=(46===Q?o+X.slice(j+1):X.slice(j))+F,X=X.slice(0,j);break}}R&&!A&&(X=e(X,1/0));var rt=V.length+X.length+F.length,ct=rt<P?new Array(P-rt+1).join(_):"";switch(R&&A&&(X=e(ct+X,ct.length?P-F.length:1/0),ct=""),x){case"<":X=V+X+F+ct;break;case"=":X=V+ct+X+F;break;case"^":X=ct.slice(0,rt=ct.length>>1)+V+X+F+ct.slice(rt);break;default:X=ct+V+X+F}return u(X)}return L=void 0===L?6:/[gprs]/.test($)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L)),U.toString=function(){return y+""},U}return{format:d,formatPrefix:function p(y,_){var x=d(((y=vr(y)).type="f",y)),b=3*Math.max(-8,Math.min(8,Math.floor(Gi(_)/3))),v=Math.pow(10,-b),A=Zl[8+b/3];return function(P){return x(v*P)+A}}}}function Jl(t){return Wa=Kl(t),qa=Wa.format,xu=Wa.formatPrefix,Wa}function th(t){return Math.max(0,-Gi(Math.abs(t)))}function eh(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Gi(e)/3)))-Gi(Math.abs(t)))}function nh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gi(e)-Gi(t))+1}function $n(){return new Qa}function Qa(){this.reset()}Jl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Qa.prototype={constructor:Qa,reset:function(){this.s=this.t=0},add:function(t){ih(ja,t,this.t),ih(this,ja.s,this.s),this.s?this.t+=ja.t:this.s=ja.t},valueOf:function(){return this.s}};var ja=new Qa;function ih(t,e,i){var a=t.s=e+i,o=a-e;t.t=e-(a-o)+(i-o)}var lt=1e-6,Za=1e-12,St=Math.PI,Kt=St/2,Ka=St/4,Se=2*St,Ft=180/St,dt=St/180,kt=Math.abs,Oi=Math.atan,Te=Math.atan2,ft=Math.cos,Ja=Math.ceil,rh=Math.exp,to=(Math,Math.log),vu=Math.pow,ot=Math.sin,Be=Math.sign||function(t){return t>0?1:t<0?-1:0},ie=Math.sqrt,wu=Math.tan;function ah(t){return t>1?0:t<-1?St:Math.acos(t)}function Ae(t){return t>1?Kt:t<-1?-Kt:Math.asin(t)}function oh(t){return(t=ot(t/2))*t}function Qt(){}function eo(t,e){t&&uh.hasOwnProperty(t.type)&&uh[t.type](t,e)}var sh={Feature:function(t,e){eo(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)eo(i[a].geometry,e)}},uh={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)e.point((t=i[a])[0],t[1],t[2])},LineString:function(t,e){bu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)bu(i[a],e,0)},Polygon:function(t,e){ch(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)ch(i[a],e)},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)eo(i[a],e)}};function bu(t,e,i){var u,a=-1,o=t.length-i;for(e.lineStart();++a<o;)e.point((u=t[a])[0],u[1],u[2]);e.lineEnd()}function ch(t,e){var i=-1,a=t.length;for(e.polygonStart();++i<a;)bu(t[i],e,1);e.polygonEnd()}function tn(t,e){t&&sh.hasOwnProperty(t.type)?sh[t.type](t,e):eo(t,e)}var fh,lh,Su,Tu,Au,no=$n(),io=$n(),_n={point:Qt,lineStart:Qt,lineEnd:Qt,polygonStart:function(){no.reset(),_n.lineStart=iv,_n.lineEnd=rv},polygonEnd:function(){var t=+no;io.add(t<0?Se+t:t),this.lineStart=this.lineEnd=this.point=Qt},sphere:function(){io.add(Se)}};function iv(){_n.point=av}function rv(){hh(fh,lh)}function av(t,e){_n.point=hh,fh=t,lh=e,Su=t*=dt,Tu=ft(e=(e*=dt)/2+Ka),Au=ot(e)}function hh(t,e){var i=(t*=dt)-Su,a=i>=0?1:-1,o=a*i,u=ft(e=(e*=dt)/2+Ka),f=ot(e),l=Au*f,h=Tu*u+l*ft(o),d=l*a*ot(o);no.add(Te(d,h)),Su=t,Tu=u,Au=f}function ov(t){return io.reset(),tn(t,_n),2*io}function ro(t){return[Te(t[1],t[0]),Ae(t[2])]}function ii(t){var e=t[0],i=t[1],a=ft(i);return[a*ft(e),a*ot(e),ot(i)]}function ao(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $i(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Pu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function so(t){var e=ie(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var jt,Oe,Jt,$e,ri,dh,gh,Ni,Nn,Tn,wr=$n(),An={point:Cu,lineStart:_h,lineEnd:yh,polygonStart:function(){An.point=mh,An.lineStart=sv,An.lineEnd=uv,wr.reset(),_n.polygonStart()},polygonEnd:function(){_n.polygonEnd(),An.point=Cu,An.lineStart=_h,An.lineEnd=yh,no<0?(jt=-(Jt=180),Oe=-($e=90)):wr>lt?$e=90:wr<-lt&&(Oe=-90),Tn[0]=jt,Tn[1]=Jt},sphere:function(){jt=-(Jt=180),Oe=-($e=90)}};function Cu(t,e){Nn.push(Tn=[jt=t,Jt=t]),e<Oe&&(Oe=e),e>$e&&($e=e)}function ph(t,e){var i=ii([t*dt,e*dt]);if(Ni){var a=$i(Ni,i),u=$i([a[1],-a[0],0],a);so(u),u=ro(u);var d,f=t-ri,l=f>0?1:-1,h=u[0]*Ft*l,p=kt(f)>180;p^(l*ri<h&&h<l*t)?(d=u[1]*Ft)>$e&&($e=d):p^(l*ri<(h=(h+360)%360-180)&&h<l*t)?(d=-u[1]*Ft)<Oe&&(Oe=d):(e<Oe&&(Oe=e),e>$e&&($e=e)),p?t<ri?Ne(jt,t)>Ne(jt,Jt)&&(Jt=t):Ne(t,Jt)>Ne(jt,Jt)&&(jt=t):Jt>=jt?(t<jt&&(jt=t),t>Jt&&(Jt=t)):t>ri?Ne(jt,t)>Ne(jt,Jt)&&(Jt=t):Ne(t,Jt)>Ne(jt,Jt)&&(jt=t)}else Nn.push(Tn=[jt=t,Jt=t]);e<Oe&&(Oe=e),e>$e&&($e=e),Ni=i,ri=t}function _h(){An.point=ph}function yh(){Tn[0]=jt,Tn[1]=Jt,An.point=Cu,Ni=null}function mh(t,e){if(Ni){var i=t-ri;wr.add(kt(i)>180?i+(i>0?360:-360):i)}else dh=t,gh=e;_n.point(t,e),ph(t,e)}function sv(){_n.lineStart()}function uv(){mh(dh,gh),_n.lineEnd(),kt(wr)>lt&&(jt=-(Jt=180)),Tn[0]=jt,Tn[1]=Jt,Ni=null}function Ne(t,e){return(e-=t)<0?e+360:e}function cv(t,e){return t[0]-e[0]}function xh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function fv(t){var e,i,a,o,u,f,l;if($e=Jt=-(jt=Oe=1/0),Nn=[],tn(t,An),i=Nn.length){for(Nn.sort(cv),e=1,u=[a=Nn[0]];e<i;++e)xh(a,(o=Nn[e])[0])||xh(a,o[1])?(Ne(a[0],o[1])>Ne(a[0],a[1])&&(a[1]=o[1]),Ne(o[0],a[1])>Ne(a[0],a[1])&&(a[0]=o[0])):u.push(a=o);for(f=-1/0,e=0,a=u[i=u.length-1];e<=i;a=o,++e)(l=Ne(a[1],(o=u[e])[0]))>f&&(f=l,jt=o[0],Jt=a[1])}return Nn=Tn=null,jt===1/0||Oe===1/0?[[NaN,NaN],[NaN,NaN]]:[[jt,Oe],[Jt,$e]]}var br,uo,co,fo,lo,ho,go,po,Lu,Mu,Eu,vh,wh,Pe,Ce,Le,en={sphere:Qt,point:ku,lineStart:bh,lineEnd:Sh,polygonStart:function(){en.lineStart=dv,en.lineEnd=gv},polygonEnd:function(){en.lineStart=bh,en.lineEnd=Sh}};function ku(t,e){t*=dt;var i=ft(e*=dt);Sr(i*ft(t),i*ot(t),ot(e))}function Sr(t,e,i){++br,co+=(t-co)/br,fo+=(e-fo)/br,lo+=(i-lo)/br}function bh(){en.point=lv}function lv(t,e){t*=dt;var i=ft(e*=dt);Pe=i*ft(t),Ce=i*ot(t),Le=ot(e),en.point=hv,Sr(Pe,Ce,Le)}function hv(t,e){t*=dt;var i=ft(e*=dt),a=i*ft(t),o=i*ot(t),u=ot(e),f=Te(ie((f=Ce*u-Le*o)*f+(f=Le*a-Pe*u)*f+(f=Pe*o-Ce*a)*f),Pe*a+Ce*o+Le*u);uo+=f,ho+=f*(Pe+(Pe=a)),go+=f*(Ce+(Ce=o)),po+=f*(Le+(Le=u)),Sr(Pe,Ce,Le)}function Sh(){en.point=ku}function dv(){en.point=pv}function gv(){Th(vh,wh),en.point=ku}function pv(t,e){vh=t,wh=e,t*=dt,e*=dt,en.point=Th;var i=ft(e);Pe=i*ft(t),Ce=i*ot(t),Le=ot(e),Sr(Pe,Ce,Le)}function Th(t,e){t*=dt;var i=ft(e*=dt),a=i*ft(t),o=i*ot(t),u=ot(e),f=Ce*u-Le*o,l=Le*a-Pe*u,h=Pe*o-Ce*a,d=ie(f*f+l*l+h*h),p=Ae(d),y=d&&-p/d;Lu+=y*f,Mu+=y*l,Eu+=y*h,uo+=p,ho+=p*(Pe+(Pe=a)),go+=p*(Ce+(Ce=o)),po+=p*(Le+(Le=u)),Sr(Pe,Ce,Le)}function _v(t){br=uo=co=fo=lo=ho=go=po=Lu=Mu=Eu=0,tn(t,en);var e=Lu,i=Mu,a=Eu,o=e*e+i*i+a*a;return o<Za&&(e=ho,i=go,a=po,uo<lt&&(e=co,i=fo,a=lo),(o=e*e+i*i+a*a)<Za)?[NaN,NaN]:[Te(i,e)*Ft,Ae(a/ie(o))*Ft]}function Ii(t){return function(){return t}}function Ru(t,e){function i(a,o){return a=t(a,o),e(a[0],a[1])}return t.invert&&e.invert&&(i.invert=function(a,o){return(a=e.invert(a,o))&&t.invert(a[0],a[1])}),i}function Vu(t,e){return[kt(t)>St?t+Math.round(-t/Se)*Se:t,e]}function Gu(t,e,i){return(t%=Se)?e||i?Ru(Ph(t),Ch(e,i)):Ph(t):e||i?Ch(e,i):Vu}function Ah(t){return function(e,i){return[(e+=t)>St?e-Se:e<-St?e+Se:e,i]}}function Ph(t){var e=Ah(t);return e.invert=Ah(-t),e}function Ch(t,e){var i=ft(t),a=ot(t),o=ft(e),u=ot(e);function f(l,h){var d=ft(h),p=ft(l)*d,y=ot(l)*d,_=ot(h),x=_*i+p*a;return[Te(y*o-x*u,p*i-_*a),Ae(x*o+y*u)]}return f.invert=function(l,h){var d=ft(h),p=ft(l)*d,y=ot(l)*d,_=ot(h),x=_*o-y*u;return[Te(y*o+_*u,p*i+x*a),Ae(x*i-p*a)]},f}function Lh(t){function e(i){return(i=t(i[0]*dt,i[1]*dt))[0]*=Ft,i[1]*=Ft,i}return t=Gu(t[0]*dt,t[1]*dt,t.length>2?t[2]*dt:0),e.invert=function(i){return(i=t.invert(i[0]*dt,i[1]*dt))[0]*=Ft,i[1]*=Ft,i},e}function Mh(t,e,i,a,o,u){if(i){var f=ft(e),l=ot(e),h=a*i;null==o?(o=e+a*Se,u=e-h/2):(o=Eh(f,o),u=Eh(f,u),(a>0?o<u:o>u)&&(o+=a*Se));for(var d,p=o;a>0?p>u:p<u;p-=h)d=ro([f,-l*ft(p),-l*ot(p)]),t.point(d[0],d[1])}}function Eh(t,e){(e=ii(e))[0]-=t,so(e);var i=ah(-e[1]);return((-e[2]<0?-i:i)+Se-lt)%Se}function yv(){var a,o,t=Ii([0,0]),e=Ii(90),i=Ii(6),u={point:function f(h,d){a.push(h=o(h,d)),h[0]*=Ft,h[1]*=Ft}};function l(){var h=t.apply(this,arguments),d=e.apply(this,arguments)*dt,p=i.apply(this,arguments)*dt;return a=[],o=Gu(-h[0]*dt,-h[1]*dt,0).invert,Mh(u,d,p,1),h={type:"Polygon",coordinates:[a]},a=o=null,h}return l.center=function(h){return arguments.length?(t="function"==typeof h?h:Ii([+h[0],+h[1]]),l):t},l.radius=function(h){return arguments.length?(e="function"==typeof h?h:Ii(+h),l):e},l.precision=function(h){return arguments.length?(i="function"==typeof h?h:Ii(+h),l):i},l}function kh(){var e,t=[];return{point:function(i,a,o){e.push([i,a,o])},lineStart:function(){t.push(e=[])},lineEnd:Qt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function _o(t,e){return kt(t[0]-e[0])<lt&&kt(t[1]-e[1])<lt}function yo(t,e,i,a){this.x=t,this.z=e,this.o=i,this.e=a,this.v=!1,this.n=this.p=null}function Rh(t,e,i,a,o){var l,h,u=[],f=[];if(t.forEach(function(b){if(!((v=b.length-1)<=0)){var v,R,A=b[0],P=b[v];if(_o(A,P)){if(!A[2]&&!P[2]){for(o.lineStart(),l=0;l<v;++l)o.point((A=b[l])[0],A[1]);return void o.lineEnd()}P[0]+=2*lt}u.push(R=new yo(A,b,null,!0)),f.push(R.o=new yo(A,null,R,!1)),u.push(R=new yo(P,b,null,!1)),f.push(R.o=new yo(P,null,R,!0))}}),u.length){for(f.sort(e),Vh(u),Vh(f),l=0,h=f.length;l<h;++l)f[l].e=i=!i;for(var p,y,d=u[0];;){for(var _=d,x=!0;_.v;)if((_=_.n)===d)return;p=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(x)for(l=0,h=p.length;l<h;++l)o.point((y=p[l])[0],y[1]);else a(_.x,_.n.x,1,o);_=_.n}else{if(x)for(l=(p=_.p.z).length-1;l>=0;--l)o.point((y=p[l])[0],y[1]);else a(_.x,_.p.x,-1,o);_=_.p}p=(_=_.o).z,x=!x}while(!_.v);o.lineEnd()}}}function Vh(t){if(e=t.length){for(var e,o,i=0,a=t[0];++i<e;)a.n=o=t[i],o.p=a,a=o;a.n=o=t[0],o.p=a}}Vu.invert=Vu;var Ou=$n();function $u(t){return kt(t[0])<=St?t[0]:Be(t[0])*((kt(t[0])+St)%Se-St)}function Gh(t,e){var i=$u(e),a=e[1],o=ot(a),u=[ot(i),-ft(i),0],f=0,l=0;Ou.reset(),1===o?a=Kt+lt:-1===o&&(a=-Kt-lt);for(var h=0,d=t.length;h<d;++h)if(y=(p=t[h]).length)for(var p,y,_=p[y-1],x=$u(_),b=_[1]/2+Ka,v=ot(b),A=ft(b),P=0;P<y;++P,x=L,v=$,A=D,_=R){var R=p[P],L=$u(R),E=R[1]/2+Ka,$=ot(E),D=ft(E),N=L-x,W=N>=0?1:-1,H=W*N,U=H>St,X=v*$;if(Ou.add(Te(X*W*ot(H),A*D+X*ft(H))),f+=U?N+W*Se:N,U^x>=i^L>=i){var V=$i(ii(_),ii(R));so(V);var F=$i(u,V);so(F);var j=(U^N>=0?-1:1)*Ae(F[2]);(a>j||a===j&&(V[0]||V[1]))&&(l+=U^N>=0?1:-1)}}return(f<-lt||f<lt&&Ou<-lt)^1&l}function Oh(t,e,i,a){return function(o){var d,p,y,u=e(o),f=kh(),l=e(f),h=!1,_={point:x,lineStart:v,lineEnd:A,polygonStart:function(){_.point=P,_.lineStart=R,_.lineEnd=L,p=[],d=[]},polygonEnd:function(){_.point=x,_.lineStart=v,_.lineEnd=A,p=_t(p);var E=Gh(d,a);p.length?(h||(o.polygonStart(),h=!0),Rh(p,xv,E,i,o)):E&&(h||(o.polygonStart(),h=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(E,$){t(E,$)&&o.point(E,$)}function b(E,$){u.point(E,$)}function v(){_.point=b,u.lineStart()}function A(){_.point=x,u.lineEnd()}function P(E,$){y.push([E,$]),l.point(E,$)}function R(){l.lineStart(),y=[]}function L(){P(y[0][0],y[0][1]),l.lineEnd();var D,W,H,U,E=l.clean(),$=f.result(),N=$.length;if(y.pop(),d.push(y),y=null,N){if(1&E){if((W=(H=$[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),D=0;D<W;++D)o.point((U=H[D])[0],U[1]);o.lineEnd()}return}N>1&&2&E&&$.push($.pop().concat($.shift())),p.push($.filter(mv))}}return _}}function mv(t){return t.length>1}function xv(t,e){return((t=t.x)[0]<0?t[1]-Kt-lt:Kt-t[1])-((e=e.x)[0]<0?e[1]-Kt-lt:Kt-e[1])}const Nu=Oh(function(){return!0},function vv(t){var o,e=NaN,i=NaN,a=NaN;return{lineStart:function(){t.lineStart(),o=1},point:function(u,f){var l=u>0?St:-St,h=kt(u-e);kt(h-St)<lt?(t.point(e,i=(i+f)/2>0?Kt:-Kt),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(u,i),o=0):a!==l&&h>=St&&(kt(e-a)<lt&&(e-=a*lt),kt(u-l)<lt&&(u-=l*lt),i=function wv(t,e,i,a){var o,u,f=ot(t-i);return kt(f)>lt?Oi((ot(e)*(u=ft(a))*ot(i)-ot(a)*(o=ft(e))*ot(t))/(o*u*f)):(e+a)/2}(e,i,u,f),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(l,i),o=0),t.point(e=u,i=f),a=l},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-o}}},function bv(t,e,i,a){var o;if(null==t)a.point(-St,o=i*Kt),a.point(0,o),a.point(St,o),a.point(St,0),a.point(St,-o),a.point(0,-o),a.point(-St,-o),a.point(-St,0),a.point(-St,o);else if(kt(t[0]-e[0])>lt){var u=t[0]<e[0]?St:-St;a.point(-u,o=i*u/2),a.point(0,o),a.point(u,o)}else a.point(e[0],e[1])},[-St,-Kt]);function $h(t){var e=ft(t),i=6*dt,a=e>0,o=kt(e)>lt;function f(p,y){return ft(p)*ft(y)>e}function h(p,y,_){var v=[1,0,0],A=$i(ii(p),ii(y)),P=ao(A,A),R=A[0],L=P-R*R;if(!L)return!_&&p;var E=e*P/L,$=-e*R/L,D=$i(v,A),N=oo(v,E);Pu(N,oo(A,$));var H=D,U=ao(N,H),X=ao(H,H),V=U*U-X*(ao(N,N)-1);if(!(V<0)){var F=ie(V),j=oo(H,(-U-F)/X);if(Pu(j,N),j=ro(j),!_)return j;var ct,I=p[0],Q=y[0],st=p[1],rt=y[1];Q<I&&(ct=I,I=Q,Q=ct);var xt=Q-I,vt=kt(xt-St)<lt;if(!vt&&rt<st&&(ct=st,st=rt,rt=ct),vt||xt<lt?vt?st+rt>0^j[1]<(kt(j[0]-I)<lt?st:rt):st<=j[1]&&j[1]<=rt:xt>St^(I<=j[0]&&j[0]<=Q)){var Dt=oo(H,(-U+F)/X);return Pu(Dt,N),[j,ro(Dt)]}}}function d(p,y){var _=a?t:St-t,x=0;return p<-_?x|=1:p>_&&(x|=2),y<-_?x|=4:y>_&&(x|=8),x}return Oh(f,function l(p){var y,_,x,b,v;return{lineStart:function(){b=x=!1,v=1},point:function(A,P){var L,R=[A,P],E=f(A,P),$=a?E?0:d(A,P):E?d(A+(A<0?St:-St),P):0;if(!y&&(b=x=E)&&p.lineStart(),E!==x&&(!(L=h(y,R))||_o(y,L)||_o(R,L))&&(R[2]=1),E!==x)v=0,E?(p.lineStart(),L=h(R,y),p.point(L[0],L[1])):(L=h(y,R),p.point(L[0],L[1],2),p.lineEnd()),y=L;else if(o&&y&&a^E){var D;!($&_)&&(D=h(R,y,!0))&&(v=0,a?(p.lineStart(),p.point(D[0][0],D[0][1]),p.point(D[1][0],D[1][1]),p.lineEnd()):(p.point(D[1][0],D[1][1]),p.lineEnd(),p.lineStart(),p.point(D[0][0],D[0][1],3)))}E&&(!y||!_o(y,R))&&p.point(R[0],R[1]),y=R,x=E,_=$},lineEnd:function(){x&&p.lineEnd(),y=null},clean:function(){return v|(b&&x)<<1}}},function u(p,y,_,x){Mh(x,t,i,_,p,y)},a?[0,-t]:[-St,t-St])}var Tr=1e9,mo=-Tr;function xo(t,e,i,a){function o(d,p){return t<=d&&d<=i&&e<=p&&p<=a}function u(d,p,y,_){var x=0,b=0;if(null==d||(x=f(d,y))!==(b=f(p,y))||h(d,p)<0^y>0)do{_.point(0===x||3===x?t:i,x>1?a:e)}while((x=(x+y+4)%4)!==b);else _.point(p[0],p[1])}function f(d,p){return kt(d[0]-t)<lt?p>0?0:3:kt(d[0]-i)<lt?p>0?2:1:kt(d[1]-e)<lt?p>0?1:0:p>0?3:2}function l(d,p){return h(d.x,p.x)}function h(d,p){var y=f(d,1),_=f(p,1);return y!==_?y-_:0===y?p[1]-d[1]:1===y?d[0]-p[0]:2===y?d[1]-p[1]:p[0]-d[0]}return function(d){var _,x,b,v,A,P,R,L,E,$,D,p=d,y=kh(),N={point:W,lineStart:function V(){N.point=j,x&&x.push(b=[]),$=!0,E=!1,R=L=NaN},lineEnd:function F(){_&&(j(v,A),P&&E&&y.rejoin(),_.push(y.result())),N.point=W,E&&p.lineEnd()},polygonStart:function U(){p=y,_=[],x=[],D=!0},polygonEnd:function X(){var I=function H(){for(var I=0,Q=0,st=x.length;Q<st;++Q)for(var Bt,Dt,rt=x[Q],ct=1,xt=rt.length,vt=rt[0],Vt=vt[0],ne=vt[1];ct<xt;++ct)Bt=Vt,Dt=ne,Vt=(vt=rt[ct])[0],ne=vt[1],Dt<=a?ne>a&&(Vt-Bt)*(a-Dt)>(ne-Dt)*(t-Bt)&&++I:ne<=a&&(Vt-Bt)*(a-Dt)<(ne-Dt)*(t-Bt)&&--I;return I}(),Q=D&&I,st=(_=_t(_)).length;(Q||st)&&(d.polygonStart(),Q&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),st&&Rh(_,l,I,u,d),d.polygonEnd()),p=d,_=x=b=null}};function W(I,Q){o(I,Q)&&p.point(I,Q)}function j(I,Q){var st=o(I,Q);if(x&&b.push([I,Q]),$)v=I,A=Q,P=st,$=!1,st&&(p.lineStart(),p.point(I,Q));else if(st&&E)p.point(I,Q);else{var rt=[R=Math.max(mo,Math.min(Tr,R)),L=Math.max(mo,Math.min(Tr,L))],ct=[I=Math.max(mo,Math.min(Tr,I)),Q=Math.max(mo,Math.min(Tr,Q))];!function Sv(t,e,i,a,o,u){var b,f=t[0],l=t[1],p=0,y=1,_=e[0]-f,x=e[1]-l;if(b=i-f,_||!(b>0)){if(b/=_,_<0){if(b<p)return;b<y&&(y=b)}else if(_>0){if(b>y)return;b>p&&(p=b)}if(b=o-f,_||!(b<0)){if(b/=_,_<0){if(b>y)return;b>p&&(p=b)}else if(_>0){if(b<p)return;b<y&&(y=b)}if(b=a-l,x||!(b>0)){if(b/=x,x<0){if(b<p)return;b<y&&(y=b)}else if(x>0){if(b>y)return;b>p&&(p=b)}if(b=u-l,x||!(b<0)){if(b/=x,x<0){if(b>y)return;b>p&&(p=b)}else if(x>0){if(b<p)return;b<y&&(y=b)}return p>0&&(t[0]=f+p*_,t[1]=l+p*x),y<1&&(e[0]=f+y*_,e[1]=l+y*x),!0}}}}}(rt,ct,t,e,i,a)?st&&(p.lineStart(),p.point(I,Q),D=!1):(E||(p.lineStart(),p.point(rt[0],rt[1])),p.point(ct[0],ct[1]),st||p.lineEnd(),D=!1)}R=I,L=Q,E=st}return N}}function Tv(){var o,u,f,t=0,e=0,i=960,a=500;return f={stream:function(l){return o&&u===l?o:o=xo(t,e,i,a)(u=l)},extent:function(l){return arguments.length?(t=+l[0][0],e=+l[0][1],i=+l[1][0],a=+l[1][1],o=u=null,f):[[t,e],[i,a]]}}}var Du,vo,wo,Iu=$n(),Di={sphere:Qt,point:Qt,lineStart:function Av(){Di.point=Cv,Di.lineEnd=Pv},lineEnd:Qt,polygonStart:Qt,polygonEnd:Qt};function Pv(){Di.point=Di.lineEnd=Qt}function Cv(t,e){Du=t*=dt,vo=ot(e*=dt),wo=ft(e),Di.point=Lv}function Lv(t,e){t*=dt;var i=ot(e*=dt),a=ft(e),o=kt(t-Du),u=ft(o),l=a*ot(o),h=wo*i-vo*a*u,d=vo*i+wo*a*u;Iu.add(Te(ie(l*l+h*h),d)),Du=t,vo=i,wo=a}function Nh(t){return Iu.reset(),tn(t,Di),+Iu}var Fu=[null,null],Mv={type:"LineString",coordinates:Fu};function bo(t,e){return Fu[0]=t,Fu[1]=e,Nh(Mv)}var Ih={Feature:function(t,e){return So(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)if(So(i[a].geometry,e))return!0;return!1}},Dh={Sphere:function(){return!0},Point:function(t,e){return Fh(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Fh(i[a],e))return!0;return!1},LineString:function(t,e){return zh(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(zh(i[a],e))return!0;return!1},Polygon:function(t,e){return Yh(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Yh(i[a],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)if(So(i[a],e))return!0;return!1}};function So(t,e){return!(!t||!Dh.hasOwnProperty(t.type))&&Dh[t.type](t,e)}function Fh(t,e){return 0===bo(t,e)}function zh(t,e){for(var i,a,o,u=0,f=t.length;u<f;u++){if(0===(a=bo(t[u],e))||u>0&&(o=bo(t[u],t[u-1]))>0&&i<=o&&a<=o&&(i+a-o)*(1-Math.pow((i-a)/o,2))<Za*o)return!0;i=a}return!1}function Yh(t,e){return!!Gh(t.map(Ev),Xh(e))}function Ev(t){return(t=t.map(Xh)).pop(),t}function Xh(t){return[t[0]*dt,t[1]*dt]}function kv(t,e){return(t&&Ih.hasOwnProperty(t.type)?Ih[t.type]:So)(t,e)}function Bh(t,e,i){var a=c(t,e-lt,i).concat(e);return function(o){return a.map(function(u){return[o,u]})}}function Hh(t,e,i){var a=c(t,e-lt,i).concat(e);return function(o){return a.map(function(u){return[u,o]})}}function Uh(){var t,e,i,a,o,u,f,l,_,x,b,v,h=10,d=h,p=90,y=360,A=2.5;function P(){return{type:"MultiLineString",coordinates:R()}}function R(){return c(Ja(a/p)*p,i,p).map(b).concat(c(Ja(l/y)*y,f,y).map(v)).concat(c(Ja(e/h)*h,t,h).filter(function(L){return kt(L%p)>lt}).map(_)).concat(c(Ja(u/d)*d,o,d).filter(function(L){return kt(L%y)>lt}).map(x))}return P.lines=function(){return R().map(function(L){return{type:"LineString",coordinates:L}})},P.outline=function(){return{type:"Polygon",coordinates:[b(a).concat(v(f).slice(1),b(i).reverse().slice(1),v(l).reverse().slice(1))]}},P.extent=function(L){return arguments.length?P.extentMajor(L).extentMinor(L):P.extentMinor()},P.extentMajor=function(L){return arguments.length?(l=+L[0][1],f=+L[1][1],(a=+L[0][0])>(i=+L[1][0])&&(L=a,a=i,i=L),l>f&&(L=l,l=f,f=L),P.precision(A)):[[a,l],[i,f]]},P.extentMinor=function(L){return arguments.length?(u=+L[0][1],o=+L[1][1],(e=+L[0][0])>(t=+L[1][0])&&(L=e,e=t,t=L),u>o&&(L=u,u=o,o=L),P.precision(A)):[[e,u],[t,o]]},P.step=function(L){return arguments.length?P.stepMajor(L).stepMinor(L):P.stepMinor()},P.stepMajor=function(L){return arguments.length?(p=+L[0],y=+L[1],P):[p,y]},P.stepMinor=function(L){return arguments.length?(h=+L[0],d=+L[1],P):[h,d]},P.precision=function(L){return arguments.length?(A=+L,_=Bh(u,o,90),x=Hh(e,t,A),b=Bh(l,f,90),v=Hh(a,i,A),P):A},P.extentMajor([[-180,-90+lt],[180,90-lt]]).extentMinor([[-180,-80-lt],[180,80+lt]])}function Rv(){return Uh()()}function Vv(t,e){var i=t[0]*dt,a=t[1]*dt,o=e[0]*dt,u=e[1]*dt,f=ft(a),l=ot(a),h=ft(u),d=ot(u),p=f*ft(i),y=f*ot(i),_=h*ft(o),x=h*ot(o),b=2*Ae(ie(oh(u-a)+f*h*oh(o-i))),v=ot(b),A=b?function(P){var R=ot(P*=b)/v,L=ot(b-P)/v,E=L*p+R*_,$=L*y+R*x,D=L*l+R*d;return[Te($,E)*Ft,Te(D,ie(E*E+$*$))*Ft]}:function(){return[i*Ft,a*Ft]};return A.distance=b,A}function Ar(t){return t}var Wh,qh,Xu,Bu,zu=$n(),Yu=$n(),In={point:Qt,lineStart:Qt,lineEnd:Qt,polygonStart:function(){In.lineStart=Gv,In.lineEnd=$v},polygonEnd:function(){In.lineStart=In.lineEnd=In.point=Qt,zu.add(kt(Yu)),Yu.reset()},result:function(){var t=zu/2;return zu.reset(),t}};function Gv(){In.point=Ov}function Ov(t,e){In.point=Qh,Wh=Xu=t,qh=Bu=e}function Qh(t,e){Yu.add(Bu*t-Xu*e),Xu=t,Bu=e}function $v(){Qh(Wh,qh)}const jh=In;var Fi=1/0,To=Fi,Pr=-Fi,Ao=Pr;const Po={point:function Iv(t,e){t<Fi&&(Fi=t),t>Pr&&(Pr=t),e<To&&(To=e),e>Ao&&(Ao=e)},lineStart:Qt,lineEnd:Qt,polygonStart:Qt,polygonEnd:Qt,result:function(){var t=[[Fi,To],[Pr,Ao]];return Pr=Ao=-(To=Fi=1/0),t}};var Zh,Kh,yn,mn,Hu=0,Uu=0,Cr=0,Co=0,Lo=0,zi=0,Wu=0,qu=0,Lr=0,nn={point:ai,lineStart:Jh,lineEnd:td,polygonStart:function(){nn.lineStart=zv,nn.lineEnd=Yv},polygonEnd:function(){nn.point=ai,nn.lineStart=Jh,nn.lineEnd=td},result:function(){var t=Lr?[Wu/Lr,qu/Lr]:zi?[Co/zi,Lo/zi]:Cr?[Hu/Cr,Uu/Cr]:[NaN,NaN];return Hu=Uu=Cr=Co=Lo=zi=Wu=qu=Lr=0,t}};function ai(t,e){Hu+=t,Uu+=e,++Cr}function Jh(){nn.point=Dv}function Dv(t,e){nn.point=Fv,ai(yn=t,mn=e)}function Fv(t,e){var i=t-yn,a=e-mn,o=ie(i*i+a*a);Co+=o*(yn+t)/2,Lo+=o*(mn+e)/2,zi+=o,ai(yn=t,mn=e)}function td(){nn.point=ai}function zv(){nn.point=Xv}function Yv(){ed(Zh,Kh)}function Xv(t,e){nn.point=ed,ai(Zh=yn=t,Kh=mn=e)}function ed(t,e){var i=t-yn,a=e-mn,o=ie(i*i+a*a);Co+=o*(yn+t)/2,Lo+=o*(mn+e)/2,zi+=o,Wu+=(o=mn*t-yn*e)*(yn+t),qu+=o*(mn+e),Lr+=3*o,ai(yn=t,mn=e)}const nd=nn;function id(t){this._context=t}id.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Se)}},result:Qt};var ju,rd,ad,Mr,Er,Qu=$n(),Mo={point:Qt,lineStart:function(){Mo.point=Bv},lineEnd:function(){ju&&od(rd,ad),Mo.point=Qt},polygonStart:function(){ju=!0},polygonEnd:function(){ju=null},result:function(){var t=+Qu;return Qu.reset(),t}};function Bv(t,e){Mo.point=od,rd=Mr=t,ad=Er=e}function od(t,e){Qu.add(ie((Mr-=t)*Mr+(Er-=e)*Er)),Mr=t,Er=e}const sd=Mo;function ud(){this._string=[]}function cd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Hv(t,e){var a,o,i=4.5;function u(f){return f&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),tn(f,a(o))),o.result()}return u.area=function(f){return tn(f,a(jh)),jh.result()},u.measure=function(f){return tn(f,a(sd)),sd.result()},u.bounds=function(f){return tn(f,a(Po)),Po.result()},u.centroid=function(f){return tn(f,a(nd)),nd.result()},u.projection=function(f){return arguments.length?(a=null==f?(t=null,Ar):(t=f).stream,u):t},u.context=function(f){return arguments.length?(o=null==f?(e=null,new ud):new id(e=f),"function"!=typeof i&&o.pointRadius(i),u):e},u.pointRadius=function(f){return arguments.length?(i="function"==typeof f?f:(o.pointRadius(+f),+f),u):i},u.projection(t).context(e)}function Uv(t){return{stream:kr(t)}}function kr(t){return function(e){var i=new Zu;for(var a in t)i[a]=t[a];return i.stream=e,i}}function Zu(){}function Ku(t,e,i){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),tn(i,t.stream(Po)),e(Po.result()),null!=a&&t.clipExtent(a),t}function Eo(t,e,i){return Ku(t,function(a){var o=e[1][0]-e[0][0],u=e[1][1]-e[0][1],f=Math.min(o/(a[1][0]-a[0][0]),u/(a[1][1]-a[0][1])),l=+e[0][0]+(o-f*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(u-f*(a[1][1]+a[0][1]))/2;t.scale(150*f).translate([l,h])},i)}function Ju(t,e,i){return Eo(t,[[0,0],e],i)}function tc(t,e,i){return Ku(t,function(a){var o=+e,u=o/(a[1][0]-a[0][0]),f=(o-u*(a[1][0]+a[0][0]))/2,l=-u*a[0][1];t.scale(150*u).translate([f,l])},i)}function ec(t,e,i){return Ku(t,function(a){var o=+e,u=o/(a[1][1]-a[0][1]),f=-u*a[0][0],l=(o-u*(a[1][1]+a[0][1]))/2;t.scale(150*u).translate([f,l])},i)}ud.prototype={_radius:4.5,_circle:cd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=cd(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Zu.prototype={constructor:Zu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Wv=ft(30*dt);function ld(t,e){return+e?function Qv(t,e){function i(a,o,u,f,l,h,d,p,y,_,x,b,v,A){var P=d-a,R=p-o,L=P*P+R*R;if(L>4*e&&v--){var E=f+_,$=l+x,D=h+b,N=ie(E*E+$*$+D*D),W=Ae(D/=N),H=kt(kt(D)-1)<lt||kt(u-y)<lt?(u+y)/2:Te($,E),U=t(H,W),X=U[0],V=U[1],F=X-a,j=V-o,I=R*F-P*j;(I*I/L>e||kt((P*F+R*j)/L-.5)>.3||f*_+l*x+h*b<Wv)&&(i(a,o,u,f,l,h,X,V,H,E/=N,$/=N,D,v,A),A.point(X,V),i(X,V,H,E,$,D,d,p,y,_,x,b,v,A))}}return function(a){var o,u,f,l,h,d,p,y,_,x,b,v,A={point:P,lineStart:R,lineEnd:E,polygonStart:function(){a.polygonStart(),A.lineStart=$},polygonEnd:function(){a.polygonEnd(),A.lineStart=R}};function P(W,H){W=t(W,H),a.point(W[0],W[1])}function R(){y=NaN,A.point=L,a.lineStart()}function L(W,H){var U=ii([W,H]),X=t(W,H);i(y,_,p,x,b,v,y=X[0],_=X[1],p=W,x=U[0],b=U[1],v=U[2],16,a),a.point(y,_)}function E(){A.point=P,a.lineEnd()}function $(){R(),A.point=D,A.lineEnd=N}function D(W,H){L(o=W,H),u=y,f=_,l=x,h=b,d=v,A.point=L}function N(){i(y,_,p,x,b,v,u,f,o,l,h,d,16,a),A.lineEnd=E,E()}return A}}(t,e):function qv(t){return kr({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)}var jv=kr({point:function(t,e){this.stream.point(t*dt,e*dt)}});function Kv(t,e,i,a,o){function u(f,l){return[e+t*(f*=a),i-t*(l*=o)]}return u.invert=function(f,l){return[(f-e)/t*a,(i-l)/t*o]},u}function hd(t,e,i,a,o,u){var f=ft(u),l=ot(u),h=f*t,d=l*t,p=f/t,y=l/t,_=(l*i-f*e)/t,x=(l*e+f*i)/t;function b(v,A){return[h*(v*=a)-d*(A*=o)+e,i-d*v-h*A]}return b.invert=function(v,A){return[a*(p*v-y*A+_),o*(x-y*v-p*A)]},b}function xn(t){return nc(function(){return t})()}function nc(t){var e,p,P,R,L,D,N,W,H,U,i=150,a=480,o=250,u=0,f=0,l=0,h=0,d=0,y=0,_=1,x=1,b=null,v=Nu,A=null,E=Ar,$=.5;function X(I){return W(I[0]*dt,I[1]*dt)}function V(I){return(I=W.invert(I[0],I[1]))&&[I[0]*Ft,I[1]*Ft]}function F(){var I=hd(i,0,0,_,x,y).apply(null,e(u,f)),Q=(y?hd:Kv)(i,a-I[0],o-I[1],_,x,y);return p=Gu(l,h,d),N=Ru(e,Q),W=Ru(p,N),D=ld(N,$),j()}function j(){return H=U=null,X}return X.stream=function(I){return H&&U===I?H:H=jv(function Zv(t){return kr({point:function(e,i){var a=t(e,i);return this.stream.point(a[0],a[1])}})}(p)(v(D(E(U=I)))))},X.preclip=function(I){return arguments.length?(v=I,b=void 0,j()):v},X.postclip=function(I){return arguments.length?(E=I,A=P=R=L=null,j()):E},X.clipAngle=function(I){return arguments.length?(v=+I?$h(b=I*dt):(b=null,Nu),j()):b*Ft},X.clipExtent=function(I){return arguments.length?(E=null==I?(A=P=R=L=null,Ar):xo(A=+I[0][0],P=+I[0][1],R=+I[1][0],L=+I[1][1]),j()):null==A?null:[[A,P],[R,L]]},X.scale=function(I){return arguments.length?(i=+I,F()):i},X.translate=function(I){return arguments.length?(a=+I[0],o=+I[1],F()):[a,o]},X.center=function(I){return arguments.length?(u=I[0]%360*dt,f=I[1]%360*dt,F()):[u*Ft,f*Ft]},X.rotate=function(I){return arguments.length?(l=I[0]%360*dt,h=I[1]%360*dt,d=I.length>2?I[2]%360*dt:0,F()):[l*Ft,h*Ft,d*Ft]},X.angle=function(I){return arguments.length?(y=I%360*dt,F()):y*Ft},X.reflectX=function(I){return arguments.length?(_=I?-1:1,F()):_<0},X.reflectY=function(I){return arguments.length?(x=I?-1:1,F()):x<0},X.precision=function(I){return arguments.length?(D=ld(N,$=I*I),j()):ie($)},X.fitExtent=function(I,Q){return Eo(X,I,Q)},X.fitSize=function(I,Q){return Ju(X,I,Q)},X.fitWidth=function(I,Q){return tc(X,I,Q)},X.fitHeight=function(I,Q){return ec(X,I,Q)},function(){return e=t.apply(this,arguments),X.invert=e.invert&&V,F()}}function ic(t){var e=0,i=St/3,a=nc(t),o=a(e,i);return o.parallels=function(u){return arguments.length?a(e=u[0]*dt,i=u[1]*dt):[e*Ft,i*Ft]},o}function dd(t,e){var i=ot(t),a=(i+ot(e))/2;if(kt(a)<lt)return function Jv(t){var e=ft(t);function i(a,o){return[a*e,ot(o)/e]}return i.invert=function(a,o){return[a/e,Ae(o*e)]},i}(t);var o=1+i*(2*a-i),u=ie(o)/a;function f(l,h){var d=ie(o-2*a*ot(h))/a;return[d*ot(l*=a),u-d*ft(l)]}return f.invert=function(l,h){var d=u-h,p=Te(l,kt(d))*Be(d);return d*a<0&&(p-=St*Be(l)*Be(d)),[p/a,Ae((o-(l*l+d*d)*a*a)/(2*a))]},f}function ko(){return ic(dd).scale(155.424).center([0,33.6442])}function gd(){return ko().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ew(){var t,e,a,u,l,h,i=gd(),o=ko().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=ko().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(_,x){h=[_,x]}};function p(_){var x=_[0],b=_[1];return h=null,a.point(x,b),h||(u.point(x,b),h)||(l.point(x,b),h)}function y(){return t=e=null,p}return p.invert=function(_){var x=i.scale(),b=i.translate(),v=(_[0]-b[0])/x,A=(_[1]-b[1])/x;return(A>=.12&&A<.234&&v>=-.425&&v<-.214?o:A>=.166&&A<.234&&v>=-.214&&v<-.115?f:i).invert(_)},p.stream=function(_){return t&&e===_?t:t=function tw(t){var e=t.length;return{point:function(i,a){for(var o=-1;++o<e;)t[o].point(i,a)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}([i.stream(e=_),o.stream(_),f.stream(_)])},p.precision=function(_){return arguments.length?(i.precision(_),o.precision(_),f.precision(_),y()):i.precision()},p.scale=function(_){return arguments.length?(i.scale(_),o.scale(.35*_),f.scale(_),p.translate(i.translate())):i.scale()},p.translate=function(_){if(!arguments.length)return i.translate();var x=i.scale(),b=+_[0],v=+_[1];return a=i.translate(_).clipExtent([[b-.455*x,v-.238*x],[b+.455*x,v+.238*x]]).stream(d),u=o.translate([b-.307*x,v+.201*x]).clipExtent([[b-.425*x+lt,v+.12*x+lt],[b-.214*x-lt,v+.234*x-lt]]).stream(d),l=f.translate([b-.205*x,v+.212*x]).clipExtent([[b-.214*x+lt,v+.166*x+lt],[b-.115*x-lt,v+.234*x-lt]]).stream(d),y()},p.fitExtent=function(_,x){return Eo(p,_,x)},p.fitSize=function(_,x){return Ju(p,_,x)},p.fitWidth=function(_,x){return tc(p,_,x)},p.fitHeight=function(_,x){return ec(p,_,x)},p.scale(1070)}function pd(t){return function(e,i){var a=ft(e),o=ft(i),u=t(a*o);return[u*o*ot(e),u*ot(i)]}}function Rr(t){return function(e,i){var a=ie(e*e+i*i),o=t(a),u=ot(o),f=ft(o);return[Te(e*u,a*f),Ae(a&&i*u/a)]}}var rc=pd(function(t){return ie(2/(1+t))});function nw(){return xn(rc).scale(124.75).clipAngle(179.999)}rc.invert=Rr(function(t){return 2*Ae(t/2)});var ac=pd(function(t){return(t=ah(t))&&t/ot(t)});function iw(){return xn(ac).scale(79.4188).clipAngle(179.999)}function Vr(t,e){return[t,to(wu((Kt+e)/2))]}function rw(){return _d(Vr).scale(961/Se)}function _d(t){var l,h,d,e=xn(t),i=e.center,a=e.scale,o=e.translate,u=e.clipExtent,f=null;function p(){var y=St*a(),_=e(Lh(e.rotate()).invert([0,0]));return u(null==f?[[_[0]-y,_[1]-y],[_[0]+y,_[1]+y]]:t===Vr?[[Math.max(_[0]-y,f),l],[Math.min(_[0]+y,h),d]]:[[f,Math.max(_[1]-y,l)],[h,Math.min(_[1]+y,d)]])}return e.scale=function(y){return arguments.length?(a(y),p()):a()},e.translate=function(y){return arguments.length?(o(y),p()):o()},e.center=function(y){return arguments.length?(i(y),p()):i()},e.clipExtent=function(y){return arguments.length?(null==y?f=l=h=d=null:(f=+y[0][0],l=+y[0][1],h=+y[1][0],d=+y[1][1]),p()):null==f?null:[[f,l],[h,d]]},p()}function Ro(t){return wu((Kt+t)/2)}function yd(t,e){var i=ft(t),a=t===e?ot(t):to(i/ft(e))/to(Ro(e)/Ro(t)),o=i*vu(Ro(t),a)/a;if(!a)return Vr;function u(f,l){o>0?l<-Kt+lt&&(l=-Kt+lt):l>Kt-lt&&(l=Kt-lt);var h=o/vu(Ro(l),a);return[h*ot(a*f),o-h*ft(a*f)]}return u.invert=function(f,l){var h=o-l,d=Be(a)*ie(f*f+h*h),p=Te(f,kt(h))*Be(h);return h*a<0&&(p-=St*Be(f)*Be(h)),[p/a,2*Oi(vu(o/d,1/a))-Kt]},u}function aw(){return ic(yd).scale(109.5).parallels([30,30])}function Gr(t,e){return[t,e]}function ow(){return xn(Gr).scale(152.63)}function md(t,e){var i=ft(t),a=t===e?ot(t):(i-ft(e))/(e-t),o=i/a+t;if(kt(a)<lt)return Gr;function u(f,l){var h=o-l,d=a*f;return[h*ot(d),o-h*ft(d)]}return u.invert=function(f,l){var h=o-l,d=Te(f,kt(h))*Be(h);return h*a<0&&(d-=St*Be(f)*Be(h)),[d/a,o-Be(a)*ie(f*f+h*h)]},u}function sw(){return ic(md).scale(131.154).center([0,13.9389])}ac.invert=Rr(function(t){return t}),Vr.invert=function(t,e){return[t,2*Oi(rh(e))-Kt]},Gr.invert=Gr;var Or=1.340264,$r=-.081106,Nr=893e-6,Ir=.003796,Vo=ie(3)/2;function oc(t,e){var i=Ae(Vo*ot(e)),a=i*i,o=a*a*a;return[t*ft(i)/(Vo*(Or+3*$r*a+o*(7*Nr+9*Ir*a))),i*(Or+$r*a+o*(Nr+Ir*a))]}function cw(){return xn(oc).scale(177.158)}function sc(t,e){var i=ft(e),a=ft(t)*i;return[i*ot(t)/a,ot(e)/a]}function fw(){return xn(sc).scale(144.049).clipAngle(60)}function lw(){var f,l,d,p,y,A,P,t=1,e=0,i=0,a=1,o=1,u=0,h=null,_=1,x=1,b=kr({point:function(E,$){var D=L([E,$]);this.stream.point(D[0],D[1])}}),v=Ar;function R(){return _=t*a,x=t*o,A=P=null,L}function L(E){var $=E[0]*_,D=E[1]*x;if(u){var N=D*f-$*l;$=$*f+D*l,D=N}return[$+e,D+i]}return L.invert=function(E){var $=E[0]-e,D=E[1]-i;if(u){var N=D*f+$*l;$=$*f-D*l,D=N}return[$/_,D/x]},L.stream=function(E){return A&&P===E?A:A=b(v(P=E))},L.postclip=function(E){return arguments.length?(v=E,h=d=p=y=null,R()):v},L.clipExtent=function(E){return arguments.length?(v=null==E?(h=d=p=y=null,Ar):xo(h=+E[0][0],d=+E[0][1],p=+E[1][0],y=+E[1][1]),R()):null==h?null:[[h,d],[p,y]]},L.scale=function(E){return arguments.length?(t=+E,R()):t},L.translate=function(E){return arguments.length?(e=+E[0],i=+E[1],R()):[e,i]},L.angle=function(E){return arguments.length?(l=ot(u=E%360*dt),f=ft(u),R()):u*Ft},L.reflectX=function(E){return arguments.length?(a=E?-1:1,R()):a<0},L.reflectY=function(E){return arguments.length?(o=E?-1:1,R()):o<0},L.fitExtent=function(E,$){return Eo(L,E,$)},L.fitSize=function(E,$){return Ju(L,E,$)},L.fitWidth=function(E,$){return tc(L,E,$)},L.fitHeight=function(E,$){return ec(L,E,$)},L}function uc(t,e){var i=e*e,a=i*i;return[t*(.8707-.131979*i+a*(a*(.003971*i-.001529*a)-.013791)),e*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))]}function hw(){return xn(uc).scale(175.295)}function cc(t,e){return[ft(e)*ot(t),ot(e)]}function dw(){return xn(cc).scale(249.5).clipAngle(90+lt)}function fc(t,e){var i=ft(e),a=1+ft(t)*i;return[i*ot(t)/a,ot(e)/a]}function gw(){return xn(fc).scale(250).clipAngle(142)}function lc(t,e){return[to(wu((Kt+e)/2)),-t]}function pw(){var t=_d(lc),e=t.center,i=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):[(a=e())[1],-a[0]]},t.rotate=function(a){return arguments.length?i([a[0],a[1],a.length>2?a[2]+90:90]):[(a=i())[0],a[1],a[2]-90]},i([0,0,90]).scale(159.155)}function _w(t,e){return t.parent===e.parent?1:2}function mw(t,e){return t+e.x}function vw(t,e){return Math.max(t,e.y)}function Sw(){var t=_w,e=1,i=1,a=!1;function o(u){var f,l=0;u.eachAfter(function(_){var x=_.children;x?(_.x=function yw(t){return t.reduce(mw,0)/t.length}(x),_.y=function xw(t){return 1+t.reduce(vw,0)}(x)):(_.x=f?l+=t(_,f):0,_.y=0,f=_)});var h=function ww(t){for(var e;e=t.children;)t=e[0];return t}(u),d=function bw(t){for(var e;e=t.children;)t=e[e.length-1];return t}(u),p=h.x-t(h,d)/2,y=d.x+t(d,h)/2;return u.eachAfter(a?function(_){_.x=(_.x-u.x)*e,_.y=(u.y-_.y)*i}:function(_){_.x=(_.x-p)/(y-p)*e,_.y=(1-(u.y?_.y/u.y:1))*i})}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(a=!1,e=+u[0],i=+u[1],o):a?null:[e,i]},o.nodeSize=function(u){return arguments.length?(a=!0,e=+u[0],i=+u[1],o):a?[e,i]:null},o}function Tw(t){var e=0,i=t.children,a=i&&i.length;if(a)for(;--a>=0;)e+=i[a].value;else e=1;t.value=e}function hc(t,e){var o,f,l,h,d,i=new Yi(t),a=+t.value&&(i.value=t.value),u=[i];for(null==e&&(e=Iw);o=u.pop();)if(a&&(o.value=+o.data.value),(l=e(o.data))&&(d=l.length))for(o.children=new Array(d),h=d-1;h>=0;--h)u.push(f=o.children[h]=new Yi(l[h])),f.parent=o,f.depth=o.depth+1;return i.eachBefore(xd)}function Iw(t){return t.children}function Dw(t){t.data=t.data.data}function xd(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Yi(t){this.data=t,this.depth=this.height=0,this.parent=null}oc.invert=function(t,e){for(var f,i=e,a=i*i,o=a*a*a,u=0;u<12&&(o=(a=(i-=f=(i*(Or+$r*a+o*(Nr+Ir*a))-e)/(Or+3*$r*a+o*(7*Nr+9*Ir*a)))*i)*a*a,!(kt(f)<Za));++u);return[Vo*t*(Or+3*$r*a+o*(7*Nr+9*Ir*a))/ft(i),Ae(ot(i)/Vo)]},sc.invert=Rr(Oi),uc.invert=function(t,e){var o,i=e,a=25;do{var u=i*i,f=u*u;i-=o=(i*(1.007226+u*(.015085+f*(.028874*u-.044475-.005916*f)))-e)/(1.007226+u*(.045255+f*(.259866*u-.311325-.005916*11*f)))}while(kt(o)>lt&&--a>0);return[t/(.8707+(u=i*i)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),i]},cc.invert=Rr(Ae),fc.invert=Rr(function(t){return 2*Oi(t)}),lc.invert=function(t,e){return[-e,2*Oi(rh(t))-Kt]},Yi.prototype=hc.prototype={constructor:Yi,count:function Aw(){return this.eachAfter(Tw)},each:function Pw(t){var i,o,u,f,e=this,a=[e];do{for(i=a.reverse(),a=[];e=i.pop();)if(t(e),o=e.children)for(u=0,f=o.length;u<f;++u)a.push(o[u])}while(a.length);return this},eachAfter:function Lw(t){for(var o,u,f,e=this,i=[e],a=[];e=i.pop();)if(a.push(e),o=e.children)for(u=0,f=o.length;u<f;++u)i.push(o[u]);for(;e=a.pop();)t(e);return this},eachBefore:function Cw(t){for(var a,o,e=this,i=[e];e=i.pop();)if(t(e),a=e.children)for(o=a.length-1;o>=0;--o)i.push(a[o]);return this},sum:function Mw(t){return this.eachAfter(function(e){for(var i=+t(e.data)||0,a=e.children,o=a&&a.length;--o>=0;)i+=a[o].value;e.value=i})},sort:function Ew(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function kw(t){for(var e=this,i=function Rw(t,e){if(t===e)return t;var i=t.ancestors(),a=e.ancestors(),o=null;for(t=i.pop(),e=a.pop();t===e;)o=t,t=i.pop(),e=a.pop();return o}(e,t),a=[e];e!==i;)a.push(e=e.parent);for(var o=a.length;t!==i;)a.splice(o,0,t),t=t.parent;return a},ancestors:function Vw(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function Gw(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function Ow(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function $w(){var t=this,e=[];return t.each(function(i){i!==t&&e.push({source:i.parent,target:i})}),e},copy:function Nw(){return hc(this).eachBefore(Dw)}};var Fw=Array.prototype.slice;function vd(t){for(var o,u,e=0,i=(t=function zw(t){for(var i,a,e=t.length;e;)a=Math.random()*e--|0,i=t[e],t[e]=t[a],t[a]=i;return t}(Fw.call(t))).length,a=[];e<i;)o=t[e],u&&wd(u,o)?++e:(u=Xw(a=Yw(a,o)),e=0);return u}function Yw(t,e){var i,a;if(dc(e,t))return[e];for(i=0;i<t.length;++i)if(Go(e,t[i])&&dc(Dr(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(a=i+1;a<t.length;++a)if(Go(Dr(t[i],t[a]),e)&&Go(Dr(t[i],e),t[a])&&Go(Dr(t[a],e),t[i])&&dc(bd(t[i],t[a],e),t))return[t[i],t[a],e];throw new Error}function Go(t,e){var i=t.r-e.r,a=e.x-t.x,o=e.y-t.y;return i<0||i*i<a*a+o*o}function wd(t,e){var i=t.r-e.r+1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function dc(t,e){for(var i=0;i<e.length;++i)if(!wd(t,e[i]))return!1;return!0}function Xw(t){switch(t.length){case 1:return function Bw(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Dr(t[0],t[1]);case 3:return bd(t[0],t[1],t[2])}}function Dr(t,e){var i=t.x,a=t.y,o=t.r,u=e.x,f=e.y,l=e.r,h=u-i,d=f-a,p=l-o,y=Math.sqrt(h*h+d*d);return{x:(i+u+h/y*p)/2,y:(a+f+d/y*p)/2,r:(y+o+l)/2}}function bd(t,e,i){var a=t.x,o=t.y,u=t.r,f=e.x,l=e.y,h=e.r,d=i.x,p=i.y,y=i.r,_=a-f,x=a-d,b=o-l,v=o-p,A=h-u,P=y-u,R=a*a+o*o-u*u,L=R-f*f-l*l+h*h,E=R-d*d-p*p+y*y,$=x*b-_*v,D=(b*E-v*L)/(2*$)-a,N=(v*A-b*P)/$,W=(x*L-_*E)/(2*$)-o,H=(_*P-x*A)/$,U=N*N+H*H-1,X=2*(u+D*N+W*H),V=D*D+W*W-u*u,F=-(U?(X+Math.sqrt(X*X-4*U*V))/(2*U):V/X);return{x:a+D+N*F,y:o+W+H*F,r:F}}function Sd(t,e,i){var o,u,l,h,a=t.x-e.x,f=t.y-e.y,d=a*a+f*f;d?(u=e.r+i.r,h=t.r+i.r,(u*=u)>(h*=h)?(o=(d+h-u)/(2*d),l=Math.sqrt(Math.max(0,h/d-o*o)),i.x=t.x-o*a-l*f,i.y=t.y-o*f+l*a):(o=(d+u-h)/(2*d),l=Math.sqrt(Math.max(0,u/d-o*o)),i.x=e.x+o*a-l*f,i.y=e.y+o*f+l*a)):(i.x=e.x+i.r,i.y=e.y)}function Td(t,e){var i=t.r+e.r-1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function Ad(t){var e=t._,i=t.next._,a=e.r+i.r,o=(e.x*i.r+i.x*e.r)/a,u=(e.y*i.r+i.y*e.r)/a;return o*o+u*u}function Oo(t){this._=t,this.next=null,this.previous=null}function Pd(t){if(!(o=t.length))return 0;var e,i,a,o,u,f,l,h,d,p,y;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(e.x=-(i=t[1]).r,i.x=e.r,i.y=0,!(o>2))return e.r+i.r;Sd(i,e,a=t[2]),e=new Oo(e),i=new Oo(i),a=new Oo(a),e.next=a.previous=i,i.next=e.previous=a,a.next=i.previous=e;t:for(l=3;l<o;++l){Sd(e._,i._,a=t[l]),a=new Oo(a),h=i.next,d=e.previous,p=i._.r,y=e._.r;do{if(p<=y){if(Td(h._,a._)){e.next=i=h,i.previous=e,--l;continue t}p+=h._.r,h=h.next}else{if(Td(d._,a._)){(e=d).next=i,i.previous=e,--l;continue t}y+=d._.r,d=d.previous}}while(h!==d.next);for(a.previous=e,a.next=i,e.next=i.previous=i=a,u=Ad(e);(a=a.next)!==i;)(f=Ad(a))<u&&(e=a,u=f);i=e.next}for(e=[i._],a=i;(a=a.next)!==i;)e.push(a._);for(a=vd(e),l=0;l<o;++l)(e=t[l]).x-=a.x,e.y-=a.y;return a.r}function Hw(t){return Pd(t),t}function Uw(t){return null==t?null:$o(t)}function $o(t){if("function"!=typeof t)throw new Error;return t}function oi(){return 0}function Xi(t){return function(){return t}}function Ww(t){return Math.sqrt(t.value)}function qw(){var t=null,e=1,i=1,a=oi;function o(u){return u.x=e/2,u.y=i/2,t?u.eachBefore(Cd(t)).eachAfter(gc(a,.5)).eachBefore(Ld(1)):u.eachBefore(Cd(Ww)).eachAfter(gc(oi,1)).eachAfter(gc(a,u.r/Math.min(e,i))).eachBefore(Ld(Math.min(e,i)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(t=Uw(u),o):t},o.size=function(u){return arguments.length?(e=+u[0],i=+u[1],o):[e,i]},o.padding=function(u){return arguments.length?(a="function"==typeof u?u:Xi(+u),o):a},o}function Cd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function gc(t,e){return function(i){if(a=i.children){var a,o,l,u=a.length,f=t(i)*e||0;if(f)for(o=0;o<u;++o)a[o].r+=f;if(l=Pd(a),f)for(o=0;o<u;++o)a[o].r-=f;i.r=l+f}}}function Ld(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}function Md(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Fr(t,e,i,a,o){for(var f,u=t.children,l=-1,h=u.length,d=t.value&&(a-e)/t.value;++l<h;)(f=u[l]).y0=i,f.y1=o,f.x0=e,f.x1=e+=f.value*d}function Qw(){var t=1,e=1,i=0,a=!1;function o(f){var l=f.height+1;return f.x0=f.y0=i,f.x1=t,f.y1=e/l,f.eachBefore(function u(f,l){return function(h){h.children&&Fr(h,h.x0,f*(h.depth+1)/l,h.x1,f*(h.depth+2)/l);var d=h.x0,p=h.y0,y=h.x1-i,_=h.y1-i;y<d&&(d=y=(d+y)/2),_<p&&(p=_=(p+_)/2),h.x0=d,h.y0=p,h.x1=y,h.y1=_}}(e,l)),a&&f.eachBefore(Md),f}return o.round=function(f){return arguments.length?(a=!!f,o):a},o.size=function(f){return arguments.length?(t=+f[0],e=+f[1],o):[t,e]},o.padding=function(f){return arguments.length?(i=+f,o):i},o}var jw={depth:-1},kd={};function Zw(t){return t.id}function Kw(t){return t.parentId}function Jw(){var t=Zw,e=Kw;function i(a){var o,u,l,h,d,y,_,f=a.length,p=new Array(f),x={};for(u=0;u<f;++u)d=p[u]=new Yi(o=a[u]),null!=(y=t(o,u,a))&&(y+="")&&(x[_="$"+(d.id=y)]=_ in x?kd:d);for(u=0;u<f;++u)if(d=p[u],null!=(y=e(a[u],u,a))&&(y+="")){if(!(h=x["$"+y]))throw new Error("missing: "+y);if(h===kd)throw new Error("ambiguous: "+y);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(l)throw new Error("multiple roots");l=d}if(!l)throw new Error("no root");if(l.parent=jw,l.eachBefore(function(b){b.depth=b.parent.depth+1,--f}).eachBefore(xd),l.parent=null,f>0)throw new Error("cycle");return l}return i.id=function(a){return arguments.length?(t=$o(a),i):t},i.parentId=function(a){return arguments.length?(e=$o(a),i):e},i}function tb(t,e){return t.parent===e.parent?1:2}function pc(t){var e=t.children;return e?e[0]:t.t}function _c(t){var e=t.children;return e?e[e.length-1]:t.t}function eb(t,e,i){var a=i/(e.i-t.i);e.c-=a,e.s+=i,t.c+=a,e.z+=i,e.m+=i}function ib(t,e,i){return t.a.parent===e.parent?t.a:i}function No(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ab(){var t=tb,e=1,i=1,a=null;function o(d){var p=function rb(t){for(var i,o,u,f,l,e=new No(t,0),a=[e];i=a.pop();)if(u=i._.children)for(i.children=new Array(l=u.length),f=l-1;f>=0;--f)a.push(o=i.children[f]=new No(u[f],f)),o.parent=i;return(e.parent=new No(null,0)).children=[e],e}(d);if(p.eachAfter(u),p.parent.m=-p.z,p.eachBefore(f),a)d.eachBefore(h);else{var y=d,_=d,x=d;d.eachBefore(function(R){R.x<y.x&&(y=R),R.x>_.x&&(_=R),R.depth>x.depth&&(x=R)});var b=y===_?1:t(y,_)/2,v=b-y.x,A=e/(_.x+b+v),P=i/(x.depth||1);d.eachBefore(function(R){R.x=(R.x+v)*A,R.y=R.depth*P})}return d}function u(d){var p=d.children,y=d.parent.children,_=d.i?y[d.i-1]:null;if(p){!function nb(t){for(var u,e=0,i=0,a=t.children,o=a.length;--o>=0;)(u=a[o]).z+=e,u.m+=e,e+=u.s+(i+=u.c)}(d);var x=(p[0].z+p[p.length-1].z)/2;_?(d.z=_.z+t(d._,_._),d.m=d.z-x):d.z=x}else _&&(d.z=_.z+t(d._,_._));d.parent.A=function l(d,p,y){if(p){for(var E,_=d,x=d,b=p,v=_.parent.children[0],A=_.m,P=x.m,R=b.m,L=v.m;b=_c(b),_=pc(_),b&&_;)v=pc(v),(x=_c(x)).a=d,(E=b.z+R-_.z-A+t(b._,_._))>0&&(eb(ib(b,d,y),d,E),A+=E,P+=E),R+=b.m,A+=_.m,L+=v.m,P+=x.m;b&&!_c(x)&&(x.t=b,x.m+=R-P),_&&!pc(v)&&(v.t=_,v.m+=A-L,y=d)}return y}(d,_,d.parent.A||y[0])}function f(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function h(d){d.x*=e,d.y=d.depth*i}return o.separation=function(d){return arguments.length?(t=d,o):t},o.size=function(d){return arguments.length?(a=!1,e=+d[0],i=+d[1],o):a?null:[e,i]},o.nodeSize=function(d){return arguments.length?(a=!0,e=+d[0],i=+d[1],o):a?[e,i]:null},o}function Io(t,e,i,a,o){for(var f,u=t.children,l=-1,h=u.length,d=t.value&&(o-i)/t.value;++l<h;)(f=u[l]).x0=e,f.x1=a,f.y0=i,f.y1=i+=f.value*d}No.prototype=Object.create(Yi.prototype);var Rd=(1+Math.sqrt(5))/2;function Vd(t,e,i,a,o,u){for(var h,d,x,b,A,P,R,L,E,$,D,f=[],l=e.children,p=0,y=0,_=l.length,v=e.value;p<_;){x=o-i,b=u-a;do{A=l[y++].value}while(!A&&y<_);for(P=R=A,D=A*A*($=Math.max(b/x,x/b)/(v*t)),E=Math.max(R/D,D/P);y<_;++y){if(A+=d=l[y].value,d<P&&(P=d),d>R&&(R=d),D=A*A*$,(L=Math.max(R/D,D/P))>E){A-=d;break}E=L}f.push(h={value:A,dice:x<b,children:l.slice(p,y)}),h.dice?Fr(h,i,a,o,v?a+=b*A/v:u):Io(h,i,a,v?i+=x*A/v:o,u),v-=A,p=y}return f}const Gd=function t(e){function i(a,o,u,f,l){Vd(e,a,o,u,f,l)}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(Rd);function ob(){var t=Gd,e=!1,i=1,a=1,o=[0],u=oi,f=oi,l=oi,h=oi,d=oi;function p(_){return _.x0=_.y0=0,_.x1=i,_.y1=a,_.eachBefore(y),o=[0],e&&_.eachBefore(Md),_}function y(_){var x=o[_.depth],b=_.x0+x,v=_.y0+x,A=_.x1-x,P=_.y1-x;A<b&&(b=A=(b+A)/2),P<v&&(v=P=(v+P)/2),_.x0=b,_.y0=v,_.x1=A,_.y1=P,_.children&&(x=o[_.depth+1]=u(_)/2,b+=d(_)-x,v+=f(_)-x,(A-=l(_)-x)<b&&(b=A=(b+A)/2),(P-=h(_)-x)<v&&(v=P=(v+P)/2),t(_,b,v,A,P))}return p.round=function(_){return arguments.length?(e=!!_,p):e},p.size=function(_){return arguments.length?(i=+_[0],a=+_[1],p):[i,a]},p.tile=function(_){return arguments.length?(t=$o(_),p):t},p.padding=function(_){return arguments.length?p.paddingInner(_).paddingOuter(_):p.paddingInner()},p.paddingInner=function(_){return arguments.length?(u="function"==typeof _?_:Xi(+_),p):u},p.paddingOuter=function(_){return arguments.length?p.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):p.paddingTop()},p.paddingTop=function(_){return arguments.length?(f="function"==typeof _?_:Xi(+_),p):f},p.paddingRight=function(_){return arguments.length?(l="function"==typeof _?_:Xi(+_),p):l},p.paddingBottom=function(_){return arguments.length?(h="function"==typeof _?_:Xi(+_),p):h},p.paddingLeft=function(_){return arguments.length?(d="function"==typeof _?_:Xi(+_),p):d},p}function sb(t,e,i,a,o){var f,h,u=t.children,l=u.length,d=new Array(l+1);for(d[0]=h=f=0;f<l;++f)d[f+1]=h+=u[f].value;!function p(y,_,x,b,v,A,P){if(y>=_-1){var R=u[y];return R.x0=b,R.y0=v,R.x1=A,void(R.y1=P)}for(var L=d[y],E=x/2+L,$=y+1,D=_-1;$<D;){var N=$+D>>>1;d[N]<E?$=N+1:D=N}E-d[$-1]<d[$]-E&&y+1<$&&--$;var W=d[$]-L,H=x-W;if(A-b>P-v){var U=(b*H+A*W)/x;p(y,$,W,b,v,U,P),p($,_,H,U,v,A,P)}else{var X=(v*H+P*W)/x;p(y,$,W,b,v,A,X),p($,_,H,b,X,A,P)}}(0,l,t.value,e,i,a,o)}function ub(t,e,i,a,o){(1&t.depth?Io:Fr)(t,e,i,a,o)}const cb=function t(e){function i(a,o,u,f,l){if((h=a._squarify)&&h.ratio===e)for(var h,d,p,y,x,_=-1,b=h.length,v=a.value;++_<b;){for(p=(d=h[_]).children,y=d.value=0,x=p.length;y<x;++y)d.value+=p[y].value;d.dice?Fr(d,o,u,f,u+=(l-u)*d.value/v):Io(d,o,u,o+=(f-o)*d.value/v,l),v-=d.value}else a._squarify=h=Vd(e,a,o,u,f,l),h.ratio=e}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(Rd);function fb(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}function lb(t,e){var i=wa(+t,+e);return function(a){var o=i(a);return o-360*Math.floor(o/360)}}function Od(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var zr=Math.SQRT2;function Nd(t){return((t=Math.exp(t))+1/t)/2}function Id(t,e){var y,_,i=t[0],a=t[1],o=t[2],l=e[2],h=e[0]-i,d=e[1]-a,p=h*h+d*d;if(p<1e-12)_=Math.log(l/o)/zr,y=function(R){return[i+R*h,a+R*d,o*Math.exp(zr*R*_)]};else{var x=Math.sqrt(p),b=(l*l-o*o+4*p)/(2*o*2*x),v=(l*l-o*o-4*p)/(2*l*2*x),A=Math.log(Math.sqrt(b*b+1)-b),P=Math.log(Math.sqrt(v*v+1)-v);_=(P-A)/zr,y=function(R){var L=R*_,E=Nd(A),$=o/(2*x)*(E*function gb(t){return((t=Math.exp(2*t))-1)/(t+1)}(zr*L+A)-function db(t){return((t=Math.exp(t))-1/t)/2}(A));return[i+$*h,a+$*d,o*E/Nd(zr*L+A)]}}return y.duration=1e3*_,y}function Dd(t){return function(e,i){var a=t((e=xa(e)).h,(i=xa(i)).h),o=ce(e.s,i.s),u=ce(e.l,i.l),f=ce(e.opacity,i.opacity);return function(l){return e.h=a(l),e.s=o(l),e.l=u(l),e.opacity=f(l),e+""}}}const pb=Dd(wa);var _b=Dd(ce);function yb(t,e){var i=ce((t=Na(t)).l,(e=Na(e)).l),a=ce(t.a,e.a),o=ce(t.b,e.b),u=ce(t.opacity,e.opacity);return function(f){return t.l=i(f),t.a=a(f),t.b=o(f),t.opacity=u(f),t+""}}function Fd(t){return function(e,i){var a=t((e=Ia(e)).h,(i=Ia(i)).h),o=ce(e.c,i.c),u=ce(e.l,i.l),f=ce(e.opacity,i.opacity);return function(l){return e.h=a(l),e.c=o(l),e.l=u(l),e.opacity=f(l),e+""}}}const mb=Fd(wa);var xb=Fd(ce);function zd(t){return function e(i){function a(o,u){var f=t((o=Je(o)).h,(u=Je(u)).h),l=ce(o.s,u.s),h=ce(o.l,u.l),d=ce(o.opacity,u.opacity);return function(p){return o.h=f(p),o.s=l(p),o.l=h(Math.pow(p,i)),o.opacity=d(p),o+""}}return i=+i,a.gamma=e,a}(1)}const vb=zd(wa);var Do=zd(ce);function wb(t,e){for(var i=0,a=e.length-1,o=e[0],u=new Array(a<0?0:a);i<a;)u[i]=t(o,o=e[++i]);return function(f){var l=Math.max(0,Math.min(a-1,Math.floor(f*=a)));return u[l](f-l)}}function bb(t,e){for(var i=new Array(e),a=0;a<e;++a)i[a]=t(a/(e-1));return i}function Sb(t){for(var a,e=-1,i=t.length,o=t[i-1],u=0;++e<i;)u+=(a=o)[1]*(o=t[e])[0]-a[0]*o[1];return u/2}function Tb(t){for(var u,l,e=-1,i=t.length,a=0,o=0,f=t[i-1],h=0;++e<i;)h+=l=(u=f)[0]*(f=t[e])[1]-f[0]*u[1],a+=(u[0]+f[0])*l,o+=(u[1]+f[1])*l;return[a/(h*=3),o/h]}function Ab(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function Pb(t,e){return t[0]-e[0]||t[1]-e[1]}function Yd(t){for(var e=t.length,i=[0,1],a=2,o=2;o<e;++o){for(;a>1&&Ab(t[i[a-2]],t[i[a-1]],t[o])<=0;)--a;i[a++]=o}return i.slice(0,a)}function Cb(t){if((i=t.length)<3)return null;var e,i,a=new Array(i),o=new Array(i);for(e=0;e<i;++e)a[e]=[+t[e][0],+t[e][1],e];for(a.sort(Pb),e=0;e<i;++e)o[e]=[a[e][0],-a[e][1]];var u=Yd(a),f=Yd(o),l=f[0]===u[0],h=f[f.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[a[u[e]][2]]);for(e=+l;e<f.length-h;++e)d.push(t[a[f[e]][2]]);return d}function Lb(t,e){for(var h,d,i=t.length,a=t[i-1],o=e[0],u=e[1],f=a[0],l=a[1],p=!1,y=0;y<i;++y)h=(a=t[y])[0],(d=a[1])>u!=l>u&&o<(f-h)*(u-d)/(l-d)+h&&(p=!p),f=h,l=d;return p}function Mb(t){for(var o,u,e=-1,i=t.length,a=t[i-1],f=a[0],l=a[1],h=0;++e<i;)o=f,u=l,o-=f=(a=t[e])[0],u-=l=a[1],h+=Math.sqrt(o*o+u*u);return h}function Bi(){return Math.random()}const Eb=function t(e){function i(a,o){return a=null==a?0:+a,o=null==o?1:+o,1===arguments.length?(o=a,a=0):o-=a,function(){return e()*o+a}}return i.source=t,i}(Bi),Xd=function t(e){function i(a,o){var u,f;return a=null==a?0:+a,o=null==o?1:+o,function(){var l;if(null!=u)l=u,u=null;else do{u=2*e()-1,l=2*e()-1,f=u*u+l*l}while(!f||f>1);return a+o*l*Math.sqrt(-2*Math.log(f)/f)}}return i.source=t,i}(Bi),kb=function t(e){function i(){var a=Xd.source(e).apply(this,arguments);return function(){return Math.exp(a())}}return i.source=t,i}(Bi),Bd=function t(e){function i(a){return function(){for(var o=0,u=0;u<a;++u)o+=e();return o}}return i.source=t,i}(Bi),Rb=function t(e){function i(a){var o=Bd.source(e)(a);return function(){return o()/a}}return i.source=t,i}(Bi),Vb=function t(e){function i(a){return function(){return-Math.log(1-e())/a}}return i.source=t,i}(Bi);function rn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Pn(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Hd=Array.prototype,Fo=Hd.map,si=Hd.slice,mc={name:"implicit"};function xc(){var t=Rn(),e=[],i=[],a=mc;function o(u){var f=u+"",l=t.get(f);if(!l){if(a!==mc)return a;t.set(f,l=e.push(u))}return i[(l-1)%i.length]}return o.domain=function(u){if(!arguments.length)return e.slice();e=[],t=Rn();for(var h,d,f=-1,l=u.length;++f<l;)t.has(d=(h=u[f])+"")||t.set(d,e.push(h));return o},o.range=function(u){return arguments.length?(i=si.call(u),o):i.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return xc(e,i).unknown(a)},rn.apply(o,arguments),o}function vc(){var o,u,t=xc().unknown(void 0),e=t.domain,i=t.range,a=[0,1],f=!1,l=0,h=0,d=.5;function p(){var y=e().length,_=a[1]<a[0],x=a[_-0],b=a[1-_];o=(b-x)/Math.max(1,y-l+2*h),f&&(o=Math.floor(o)),x+=(b-x-o*(y-l))*d,u=o*(1-l),f&&(x=Math.round(x),u=Math.round(u));var v=c(y).map(function(A){return x+o*A});return i(_?v.reverse():v)}return delete t.unknown,t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?(a=[+y[0],+y[1]],p()):a.slice()},t.rangeRound=function(y){return a=[+y[0],+y[1]],f=!0,p()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(y){return arguments.length?(f=!!y,p()):f},t.padding=function(y){return arguments.length?(l=Math.min(1,h=+y),p()):l},t.paddingInner=function(y){return arguments.length?(l=Math.min(1,y),p()):l},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return vc(e(),a).round(f).paddingInner(l).paddingOuter(h).align(d)},rn.apply(p(),arguments)}function Ud(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ud(e())},t}function Gb(){return Ud(vc.apply(null,arguments).paddingInner(1))}function wc(t){return+t}var Wd=[0,1];function he(t){return t}function bc(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:function Ob(t){return function(){return t}}(isNaN(e)?NaN:.5)}function qd(t){var a,e=t[0],i=t[t.length-1];return e>i&&(a=e,e=i,i=a),function(o){return Math.max(e,Math.min(i,o))}}function $b(t,e,i){var a=t[0],o=t[1],u=e[0],f=e[1];return o<a?(a=bc(o,a),u=i(f,u)):(a=bc(a,o),u=i(u,f)),function(l){return u(a(l))}}function Nb(t,e,i){var a=Math.min(t.length,e.length)-1,o=new Array(a),u=new Array(a),f=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<a;)o[f]=bc(t[f],t[f+1]),u[f]=i(e[f],e[f+1]);return function(l){var h=sn(t,l,1,a)-1;return u[h](o[h](l))}}function Yr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zo(){var a,o,u,l,h,d,t=Wd,e=Wd,i=ur,f=he;function p(){return l=Math.min(t.length,e.length)>2?Nb:$b,h=d=null,y}function y(_){return isNaN(_=+_)?u:(h||(h=l(t.map(a),e,i)))(a(f(_)))}return y.invert=function(_){return f(o((d||(d=l(e,t.map(a),Ye)))(_)))},y.domain=function(_){return arguments.length?(t=Fo.call(_,wc),f===he||(f=qd(t)),p()):t.slice()},y.range=function(_){return arguments.length?(e=si.call(_),p()):e.slice()},y.rangeRound=function(_){return e=si.call(_),i=Od,p()},y.clamp=function(_){return arguments.length?(f=_?qd(t):he,y):f!==he},y.interpolate=function(_){return arguments.length?(i=_,p()):i},y.unknown=function(_){return arguments.length?(u=_,y):u},function(_,x){return a=_,o=x,p()}}function Qd(t,e){return zo()(t,e)}function jd(t,e,i,a){var u,o=C(t,e,i);switch((a=vr(null==a?",f":a)).type){case"s":var f=Math.max(Math.abs(t),Math.abs(e));return null==a.precision&&!isNaN(u=eh(o,f))&&(a.precision=u),xu(a,f);case"":case"e":case"g":case"p":case"r":null==a.precision&&!isNaN(u=nh(o,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=u-("e"===a.type));break;case"f":case"%":null==a.precision&&!isNaN(u=th(o))&&(a.precision=u-2*("%"===a.type))}return qa(a)}function ui(t){var e=t.domain;return t.ticks=function(i){var a=e();return T(a[0],a[a.length-1],null==i?10:i)},t.tickFormat=function(i,a){var o=e();return jd(o[0],o[o.length-1],null==i?10:i,a)},t.nice=function(i){null==i&&(i=10);var h,a=e(),o=0,u=a.length-1,f=a[o],l=a[u];return l<f&&(h=f,f=l,l=h,h=o,o=u,u=h),(h=M(f,l,i))>0?h=M(f=Math.floor(f/h)*h,l=Math.ceil(l/h)*h,i):h<0&&(h=M(f=Math.ceil(f*h)/h,l=Math.floor(l*h)/h,i)),h>0?(a[o]=Math.floor(f/h)*h,a[u]=Math.ceil(l/h)*h,e(a)):h<0&&(a[o]=Math.ceil(f*h)/h,a[u]=Math.floor(l*h)/h,e(a)),t},t}function Zd(){var t=Qd(he,he);return t.copy=function(){return Yr(t,Zd())},rn.apply(t,arguments),ui(t)}function Kd(t){var e;function i(a){return isNaN(a=+a)?e:a}return i.invert=i,i.domain=i.range=function(a){return arguments.length?(t=Fo.call(a,wc),i):t.slice()},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Kd(t).unknown(e)},t=arguments.length?Fo.call(t,wc):[0,1],ui(i)}function Jd(t,e){var f,i=0,a=(t=t.slice()).length-1,o=t[i],u=t[a];return u<o&&(f=i,i=a,a=f,f=o,o=u,u=f),t[i]=e.floor(o),t[a]=e.ceil(u),t}function tg(t){return Math.log(t)}function eg(t){return Math.exp(t)}function Ib(t){return-Math.log(-t)}function Db(t){return-Math.exp(-t)}function Fb(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ng(t){return function(e){return-t(-e)}}function Sc(t){var o,u,e=t(tg,eg),i=e.domain,a=10;function f(){return o=function Yb(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),u=function zb(t){return 10===t?Fb:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(o=ng(o),u=ng(u),t(Ib,Db)):t(tg,eg),e}return e.base=function(l){return arguments.length?(a=+l,f()):a},e.domain=function(l){return arguments.length?(i(l),f()):i()},e.ticks=function(l){var y,h=i(),d=h[0],p=h[h.length-1];(y=p<d)&&(_=d,d=p,p=_);var b,v,A,_=o(d),x=o(p),P=null==l?10:+l,R=[];if(!(a%1)&&x-_<P){if(_=Math.round(_)-1,x=Math.round(x)+1,d>0){for(;_<x;++_)for(v=1,b=u(_);v<a;++v)if(!((A=b*v)<d)){if(A>p)break;R.push(A)}}else for(;_<x;++_)for(v=a-1,b=u(_);v>=1;--v)if(!((A=b*v)<d)){if(A>p)break;R.push(A)}}else R=T(_,x,Math.min(x-_,P)).map(u);return y?R.reverse():R},e.tickFormat=function(l,h){if(null==h&&(h=10===a?".0e":","),"function"!=typeof h&&(h=qa(h)),l===1/0)return h;null==l&&(l=10);var d=Math.max(1,a*l/e.ticks().length);return function(p){var y=p/u(Math.round(o(p)));return y*a<a-.5&&(y*=a),y<=d?h(p):""}},e.nice=function(){return i(Jd(i(),{floor:function(l){return u(Math.floor(o(l)))},ceil:function(l){return u(Math.ceil(o(l)))}}))},e}function ig(){var t=Sc(zo()).domain([1,10]);return t.copy=function(){return Yr(t,ig()).base(t.base())},rn.apply(t,arguments),t}function rg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ag(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Tc(t){var e=1,i=t(rg(e),ag(e));return i.constant=function(a){return arguments.length?t(rg(e=+a),ag(e)):e},ui(i)}function og(){var t=Tc(zo());return t.copy=function(){return Yr(t,og()).constant(t.constant())},rn.apply(t,arguments)}function sg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xb(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bb(t){return t<0?-t*t:t*t}function Ac(t){var e=t(he,he),i=1;function a(){return 1===i?t(he,he):.5===i?t(Xb,Bb):t(sg(i),sg(1/i))}return e.exponent=function(o){return arguments.length?(i=+o,a()):i},ui(e)}function Pc(){var t=Ac(zo());return t.copy=function(){return Yr(t,Pc()).exponent(t.exponent())},rn.apply(t,arguments),t}function Hb(){return Pc.apply(null,arguments).exponent(.5)}function ug(){var a,t=[],e=[],i=[];function o(){var f=0,l=Math.max(1,e.length);for(i=new Array(l-1);++f<l;)i[f-1]=Y(t,f/l);return u}function u(f){return isNaN(f=+f)?a:e[sn(i,f)]}return u.invertExtent=function(f){var l=e.indexOf(f);return l<0?[NaN,NaN]:[l>0?i[l-1]:t[0],l<i.length?i[l]:t[t.length-1]]},u.domain=function(f){if(!arguments.length)return t.slice();t=[];for(var d,l=0,h=f.length;l<h;++l)null!=(d=f[l])&&!isNaN(d=+d)&&t.push(d);return t.sort(gt),o()},u.range=function(f){return arguments.length?(e=si.call(f),o()):e.slice()},u.unknown=function(f){return arguments.length?(a=f,u):a},u.quantiles=function(){return i.slice()},u.copy=function(){return ug().domain(t).range(e).unknown(a)},rn.apply(u,arguments)}function cg(){var u,t=0,e=1,i=1,a=[.5],o=[0,1];function f(h){return h<=h?o[sn(a,h,0,i)]:u}function l(){var h=-1;for(a=new Array(i);++h<i;)a[h]=((h+1)*e-(h-i)*t)/(i+1);return f}return f.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],l()):[t,e]},f.range=function(h){return arguments.length?(i=(o=si.call(h)).length-1,l()):o.slice()},f.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=i?[a[i-1],e]:[a[d-1],a[d]]},f.unknown=function(h){return arguments.length&&(u=h),f},f.thresholds=function(){return a.slice()},f.copy=function(){return cg().domain([t,e]).range(o).unknown(u)},rn.apply(ui(f),arguments)}function fg(){var i,t=[.5],e=[0,1],a=1;function o(u){return u<=u?e[sn(t,u,0,a)]:i}return o.domain=function(u){return arguments.length?(t=si.call(u),a=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(u){return arguments.length?(e=si.call(u),a=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(u){var f=e.indexOf(u);return[t[f-1],t[f]]},o.unknown=function(u){return arguments.length?(i=u,o):i},o.copy=function(){return fg().domain(t).range(e).unknown(i)},rn.apply(o,arguments)}var Cc=new Date,Lc=new Date;function se(t,e,i,a){function o(u){return t(u=0===arguments.length?new Date:new Date(+u)),u}return o.floor=function(u){return t(u=new Date(+u)),u},o.ceil=function(u){return t(u=new Date(u-1)),e(u,1),t(u),u},o.round=function(u){var f=o(u),l=o.ceil(u);return u-f<l-u?f:l},o.offset=function(u,f){return e(u=new Date(+u),null==f?1:Math.floor(f)),u},o.range=function(u,f,l){var d,h=[];if(u=o.ceil(u),l=null==l?1:Math.floor(l),!(u<f&&l>0))return h;do{h.push(d=new Date(+u)),e(u,l),t(u)}while(d<u&&u<f);return h},o.filter=function(u){return se(function(f){if(f>=f)for(;t(f),!u(f);)f.setTime(f-1)},function(f,l){if(f>=f)if(l<0)for(;++l<=0;)for(;e(f,-1),!u(f););else for(;--l>=0;)for(;e(f,1),!u(f););})},i&&(o.count=function(u,f){return Cc.setTime(+u),Lc.setTime(+f),t(Cc),t(Lc),Math.floor(i(Cc,Lc))},o.every=function(u){return u=Math.floor(u),isFinite(u)&&u>0?u>1?o.filter(a?function(f){return a(f)%u==0}:function(f){return o.count(0,f)%u==0}):o:null}),o}var Mc=se(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Mc.every=function(t){return isFinite(t=Math.floor(t))&&t>0?se(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)}):null};const ci=Mc;var Ub=Mc.range,lg=se(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});const hg=lg;var Wb=lg.range,fi=6e4,Xo=36e5,gg=6048e5;function li(t){return se(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,i){e.setDate(e.getDate()+7*i)},function(e,i){return(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*fi)/gg})}var Xr=li(0),Br=li(1),pg=li(2),_g=li(3),hi=li(4),yg=li(5),mg=li(6),xg=Xr.range,qb=Br.range,Qb=pg.range,jb=_g.range,Zb=hi.range,Kb=yg.range,Jb=mg.range,vg=se(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/864e5},function(t){return t.getDate()-1});const Bo=vg;var t2=vg.range,wg=se(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*fi)},function(t,e){t.setTime(+t+e*Xo)},function(t,e){return(e-t)/Xo},function(t){return t.getHours()});const bg=wg;var e2=wg.range,Sg=se(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*fi)},function(t,e){return(e-t)/fi},function(t){return t.getMinutes()});const Tg=Sg;var n2=Sg.range,Ag=se(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()});const Ho=Ag;var Pg=Ag.range,Uo=se(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Uo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?se(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):Uo:null};const Wo=Uo;var Cg=Uo.range;function di(t){return se(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+7*i)},function(e,i){return(i-e)/gg})}var Hr=di(0),Ur=di(1),Lg=di(2),Mg=di(3),gi=di(4),Eg=di(5),kg=di(6),Rg=Hr.range,i2=Ur.range,r2=Lg.range,a2=Mg.range,o2=gi.range,s2=Eg.range,u2=kg.range,Vg=se(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});const qo=Vg;var c2=Vg.range,Ec=se(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ec.every=function(t){return isFinite(t=Math.floor(t))&&t>0?se(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null};const pi=Ec;var f2=Ec.range;function kc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wr(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function Gg(t){var e=t.dateTime,i=t.date,a=t.time,o=t.periods,u=t.days,f=t.shortDays,l=t.months,h=t.shortMonths,d=qr(o),p=Qr(o),y=qr(u),_=Qr(u),x=qr(f),b=Qr(f),v=qr(l),A=Qr(l),P=qr(h),R=Qr(h),L={a:function st(nt){return f[nt.getDay()]},A:function rt(nt){return u[nt.getDay()]},b:function ct(nt){return h[nt.getMonth()]},B:function xt(nt){return l[nt.getMonth()]},c:null,d:Fg,e:Fg,f:V2,g:X2,G:H2,H:E2,I:k2,j:R2,L:zg,m:G2,M:O2,p:function vt(nt){return o[+(nt.getHours()>=12)]},q:function Bt(nt){return 1+~~(nt.getMonth()/3)},Q:Wg,s:qg,S:$2,u:N2,U:I2,V:D2,w:F2,W:z2,x:null,X:null,y:Y2,Y:B2,Z:U2,"%":Ug},E={a:function Dt(nt){return f[nt.getUTCDay()]},A:function Vt(nt){return u[nt.getUTCDay()]},b:function ne(nt){return h[nt.getUTCMonth()]},B:function We(nt){return l[nt.getUTCMonth()]},c:null,d:Xg,e:Xg,f:j2,g:oS,G:uS,H:W2,I:q2,j:Q2,L:Bg,m:Z2,M:K2,p:function an(nt){return o[+(nt.getUTCHours()>=12)]},q:function on(nt){return 1+~~(nt.getUTCMonth()/3)},Q:Wg,s:qg,S:J2,u:tS,U:eS,V:nS,w:iS,W:rS,x:null,X:null,y:aS,Y:sS,Z:cS,"%":Ug},$={a:function U(nt,wt,Lt){var K=x.exec(wt.slice(Lt));return K?(nt.w=b[K[0].toLowerCase()],Lt+K[0].length):-1},A:function X(nt,wt,Lt){var K=y.exec(wt.slice(Lt));return K?(nt.w=_[K[0].toLowerCase()],Lt+K[0].length):-1},b:function V(nt,wt,Lt){var K=P.exec(wt.slice(Lt));return K?(nt.m=R[K[0].toLowerCase()],Lt+K[0].length):-1},B:function F(nt,wt,Lt){var K=v.exec(wt.slice(Lt));return K?(nt.m=A[K[0].toLowerCase()],Lt+K[0].length):-1},c:function j(nt,wt,Lt){return W(nt,e,wt,Lt)},d:Ig,e:Ig,f:P2,g:Ng,G:$g,H:Dg,I:Dg,j:b2,L:A2,m:w2,M:S2,p:function H(nt,wt,Lt){var K=d.exec(wt.slice(Lt));return K?(nt.p=p[K[0].toLowerCase()],Lt+K[0].length):-1},q:v2,Q:L2,s:M2,S:T2,u:p2,U:_2,V:y2,w:g2,W:m2,x:function I(nt,wt,Lt){return W(nt,i,wt,Lt)},X:function Q(nt,wt,Lt){return W(nt,a,wt,Lt)},y:Ng,Y:$g,Z:x2,"%":C2};function D(nt,wt){return function(Lt){var Me,Ln,Ee,K=[],de=-1,Gt=0,xe=nt.length;for(Lt instanceof Date||(Lt=new Date(+Lt));++de<xe;)37===nt.charCodeAt(de)&&(K.push(nt.slice(Gt,de)),null!=(Ln=Og[Me=nt.charAt(++de)])?Me=nt.charAt(++de):Ln="e"===Me?" ":"0",(Ee=wt[Me])&&(Me=Ee(Lt,Ln)),K.push(Me),Gt=de+1);return K.push(nt.slice(Gt,de)),K.join("")}}function N(nt,wt){return function(Lt){var Gt,xe,K=Wr(1900,void 0,1);if(W(K,nt,Lt+="",0)!=Lt.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(1e3*K.s+("L"in K?K.L:0));if(wt&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+12*K.p),void 0===K.m&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(xe=(Gt=Rc(Wr(K.y,0,1))).getUTCDay(),Gt=xe>4||0===xe?Ur.ceil(Gt):Ur(Gt),Gt=qo.offset(Gt,7*(K.V-1)),K.y=Gt.getUTCFullYear(),K.m=Gt.getUTCMonth(),K.d=Gt.getUTCDate()+(K.w+6)%7):(xe=(Gt=kc(Wr(K.y,0,1))).getDay(),Gt=xe>4||0===xe?Br.ceil(Gt):Br(Gt),Gt=Bo.offset(Gt,7*(K.V-1)),K.y=Gt.getFullYear(),K.m=Gt.getMonth(),K.d=Gt.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),xe="Z"in K?Rc(Wr(K.y,0,1)).getUTCDay():kc(Wr(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+7*K.W-(xe+5)%7:K.w+7*K.U-(xe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Rc(K)):kc(K)}}function W(nt,wt,Lt,K){for(var Me,Ln,de=0,Gt=wt.length,xe=Lt.length;de<Gt;){if(K>=xe)return-1;if(37===(Me=wt.charCodeAt(de++))){if(Me=wt.charAt(de++),!(Ln=$[Me in Og?wt.charAt(de++):Me])||(K=Ln(nt,Lt,K))<0)return-1}else if(Me!=Lt.charCodeAt(K++))return-1}return K}return L.x=D(i,L),L.X=D(a,L),L.c=D(e,L),E.x=D(i,E),E.X=D(a,E),E.c=D(e,E),{format:function(nt){var wt=D(nt+="",L);return wt.toString=function(){return nt},wt},parse:function(nt){var wt=N(nt+="",!1);return wt.toString=function(){return nt},wt},utcFormat:function(nt){var wt=D(nt+="",E);return wt.toString=function(){return nt},wt},utcParse:function(nt){var wt=N(nt+="",!0);return wt.toString=function(){return nt},wt}}}var Hi,Vc,Qg,Qo,Gc,Og={"-":"",_:" ",0:"0"},fe=/^\s*\d+/,l2=/^%/,h2=/[\\^$*+?|[\]().{}]/g;function $t(t,e,i){var a=t<0?"-":"",o=(a?-t:t)+"",u=o.length;return a+(u<i?new Array(i-u+1).join(e)+o:o)}function d2(t){return t.replace(h2,"\\$&")}function qr(t){return new RegExp("^(?:"+t.map(d2).join("|")+")","i")}function Qr(t){for(var e={},i=-1,a=t.length;++i<a;)e[t[i].toLowerCase()]=i;return e}function g2(t,e,i){var a=fe.exec(e.slice(i,i+1));return a?(t.w=+a[0],i+a[0].length):-1}function p2(t,e,i){var a=fe.exec(e.slice(i,i+1));return a?(t.u=+a[0],i+a[0].length):-1}function _2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.U=+a[0],i+a[0].length):-1}function y2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.V=+a[0],i+a[0].length):-1}function m2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.W=+a[0],i+a[0].length):-1}function $g(t,e,i){var a=fe.exec(e.slice(i,i+4));return a?(t.y=+a[0],i+a[0].length):-1}function Ng(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),i+a[0].length):-1}function x2(t,e,i){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),i+a[0].length):-1}function v2(t,e,i){var a=fe.exec(e.slice(i,i+1));return a?(t.q=3*a[0]-3,i+a[0].length):-1}function w2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.m=a[0]-1,i+a[0].length):-1}function Ig(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.d=+a[0],i+a[0].length):-1}function b2(t,e,i){var a=fe.exec(e.slice(i,i+3));return a?(t.m=0,t.d=+a[0],i+a[0].length):-1}function Dg(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.H=+a[0],i+a[0].length):-1}function S2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.M=+a[0],i+a[0].length):-1}function T2(t,e,i){var a=fe.exec(e.slice(i,i+2));return a?(t.S=+a[0],i+a[0].length):-1}function A2(t,e,i){var a=fe.exec(e.slice(i,i+3));return a?(t.L=+a[0],i+a[0].length):-1}function P2(t,e,i){var a=fe.exec(e.slice(i,i+6));return a?(t.L=Math.floor(a[0]/1e3),i+a[0].length):-1}function C2(t,e,i){var a=l2.exec(e.slice(i,i+1));return a?i+a[0].length:-1}function L2(t,e,i){var a=fe.exec(e.slice(i));return a?(t.Q=+a[0],i+a[0].length):-1}function M2(t,e,i){var a=fe.exec(e.slice(i));return a?(t.s=+a[0],i+a[0].length):-1}function Fg(t,e){return $t(t.getDate(),e,2)}function E2(t,e){return $t(t.getHours(),e,2)}function k2(t,e){return $t(t.getHours()%12||12,e,2)}function R2(t,e){return $t(1+Bo.count(ci(t),t),e,3)}function zg(t,e){return $t(t.getMilliseconds(),e,3)}function V2(t,e){return zg(t,e)+"000"}function G2(t,e){return $t(t.getMonth()+1,e,2)}function O2(t,e){return $t(t.getMinutes(),e,2)}function $2(t,e){return $t(t.getSeconds(),e,2)}function N2(t){var e=t.getDay();return 0===e?7:e}function I2(t,e){return $t(Xr.count(ci(t)-1,t),e,2)}function Yg(t){var e=t.getDay();return e>=4||0===e?hi(t):hi.ceil(t)}function D2(t,e){return t=Yg(t),$t(hi.count(ci(t),t)+(4===ci(t).getDay()),e,2)}function F2(t){return t.getDay()}function z2(t,e){return $t(Br.count(ci(t)-1,t),e,2)}function Y2(t,e){return $t(t.getFullYear()%100,e,2)}function X2(t,e){return $t((t=Yg(t)).getFullYear()%100,e,2)}function B2(t,e){return $t(t.getFullYear()%1e4,e,4)}function H2(t,e){var i=t.getDay();return $t((t=i>=4||0===i?hi(t):hi.ceil(t)).getFullYear()%1e4,e,4)}function U2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$t(e/60|0,"0",2)+$t(e%60,"0",2)}function Xg(t,e){return $t(t.getUTCDate(),e,2)}function W2(t,e){return $t(t.getUTCHours(),e,2)}function q2(t,e){return $t(t.getUTCHours()%12||12,e,2)}function Q2(t,e){return $t(1+qo.count(pi(t),t),e,3)}function Bg(t,e){return $t(t.getUTCMilliseconds(),e,3)}function j2(t,e){return Bg(t,e)+"000"}function Z2(t,e){return $t(t.getUTCMonth()+1,e,2)}function K2(t,e){return $t(t.getUTCMinutes(),e,2)}function J2(t,e){return $t(t.getUTCSeconds(),e,2)}function tS(t){var e=t.getUTCDay();return 0===e?7:e}function eS(t,e){return $t(Hr.count(pi(t)-1,t),e,2)}function Hg(t){var e=t.getUTCDay();return e>=4||0===e?gi(t):gi.ceil(t)}function nS(t,e){return t=Hg(t),$t(gi.count(pi(t),t)+(4===pi(t).getUTCDay()),e,2)}function iS(t){return t.getUTCDay()}function rS(t,e){return $t(Ur.count(pi(t)-1,t),e,2)}function aS(t,e){return $t(t.getUTCFullYear()%100,e,2)}function oS(t,e){return $t((t=Hg(t)).getUTCFullYear()%100,e,2)}function sS(t,e){return $t(t.getUTCFullYear()%1e4,e,4)}function uS(t,e){var i=t.getUTCDay();return $t((t=i>=4||0===i?gi(t):gi.ceil(t)).getUTCFullYear()%1e4,e,4)}function cS(){return"+0000"}function Ug(){return"%"}function Wg(t){return+t}function qg(t){return Math.floor(+t/1e3)}function jg(t){return Hi=Gg(t),Vc=Hi.format,Qg=Hi.parse,Qo=Hi.utcFormat,Gc=Hi.utcParse,Hi}jg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Zr=6e4,Kr=60*Zr,Jr=24*Kr,Zg=30*Jr,Oc=365*Jr;function lS(t){return new Date(t)}function hS(t){return t instanceof Date?+t:+new Date(+t)}function $c(t,e,i,a,o,u,f,l,h){var d=Qd(he,he),p=d.invert,y=d.domain,_=h(".%L"),x=h(":%S"),b=h("%I:%M"),v=h("%I %p"),A=h("%a %d"),P=h("%b %d"),R=h("%B"),L=h("%Y"),E=[[f,1,1e3],[f,5,5e3],[f,15,15e3],[f,30,3e4],[u,1,Zr],[u,5,5*Zr],[u,15,15*Zr],[u,30,30*Zr],[o,1,Kr],[o,3,3*Kr],[o,6,6*Kr],[o,12,12*Kr],[a,1,Jr],[a,2,2*Jr],[i,1,6048e5],[e,1,Zg],[e,3,3*Zg],[t,1,Oc]];function $(N){return(f(N)<N?_:u(N)<N?x:o(N)<N?b:a(N)<N?v:e(N)<N?i(N)<N?A:P:t(N)<N?R:L)(N)}function D(N,W,H,U){if(null==N&&(N=10),"number"==typeof N){var X=Math.abs(H-W)/N,V=Nt(function(F){return F[2]}).right(E,X);V===E.length?(U=C(W/Oc,H/Oc,N),N=t):V?(U=(V=E[X/E[V-1][2]<E[V][2]/X?V-1:V])[1],N=V[0]):(U=Math.max(C(W,H,N),1),N=l)}return null==U?N:N.every(U)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?y(Fo.call(N,hS)):y().map(lS)},d.ticks=function(N,W){var F,H=y(),U=H[0],X=H[H.length-1],V=X<U;return V&&(F=U,U=X,X=F),F=(F=D(N,U,X,W))?F.range(U,X+1):[],V?F.reverse():F},d.tickFormat=function(N,W){return null==W?$:h(W)},d.nice=function(N,W){var H=y();return(N=D(N,H[0],H[H.length-1],W))?y(Jd(H,N)):d},d.copy=function(){return Yr(d,$c(t,e,i,a,o,u,f,l,h))},d}function dS(){return rn.apply($c(ci,hg,Xr,Bo,bg,Tg,Ho,Wo,Vc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Kg=se(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});const Jg=Kg;var gS=Kg.range,tp=se(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Xo)},function(t,e){return(e-t)/Xo},function(t){return t.getUTCHours()});const ep=tp;var pS=tp.range,np=se(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*fi)},function(t,e){return(e-t)/fi},function(t){return t.getUTCMinutes()});const ip=np;var _S=np.range;function yS(){return rn.apply($c(pi,Jg,Hr,qo,ep,ip,Ho,Wo,Qo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jo(){var i,a,o,u,h,t=0,e=1,f=he,l=!1;function d(p){return isNaN(p=+p)?h:f(0===o?.5:(p=(u(p)-i)*o,l?Math.max(0,Math.min(1,p)):p))}return d.domain=function(p){return arguments.length?(i=u(t=+p[0]),a=u(e=+p[1]),o=i===a?0:1/(a-i),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(f=p,d):f},d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return u=p,i=p(t),a=p(e),o=i===a?0:1/(a-i),d}}function Dn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rp(){var t=ui(jo()(he));return t.copy=function(){return Dn(t,rp())},Pn.apply(t,arguments)}function ap(){var t=Sc(jo()).domain([1,10]);return t.copy=function(){return Dn(t,ap()).base(t.base())},Pn.apply(t,arguments)}function op(){var t=Tc(jo());return t.copy=function(){return Dn(t,op()).constant(t.constant())},Pn.apply(t,arguments)}function Nc(){var t=Ac(jo());return t.copy=function(){return Dn(t,Nc()).exponent(t.exponent())},Pn.apply(t,arguments)}function mS(){return Nc.apply(null,arguments).exponent(.5)}function sp(){var t=[],e=he;function i(a){if(!isNaN(a=+a))return e((sn(t,a)-1)/(t.length-1))}return i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(var f,o=0,u=a.length;o<u;++o)null!=(f=a[o])&&!isNaN(f=+f)&&t.push(f);return t.sort(gt),i},i.interpolator=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return sp(e).domain(t)},Pn.apply(i,arguments)}function Zo(){var a,o,u,f,l,d,y,t=0,e=.5,i=1,h=he,p=!1;function _(x){return isNaN(x=+x)?y:(x=.5+((x=+d(x))-o)*(x<o?f:l),h(p?Math.max(0,Math.min(1,x)):x))}return _.domain=function(x){return arguments.length?(a=d(t=+x[0]),o=d(e=+x[1]),u=d(i=+x[2]),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),_):[t,e,i]},_.clamp=function(x){return arguments.length?(p=!!x,_):p},_.interpolator=function(x){return arguments.length?(h=x,_):h},_.unknown=function(x){return arguments.length?(y=x,_):y},function(x){return d=x,a=x(t),o=x(e),u=x(i),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),_}}function up(){var t=ui(Zo()(he));return t.copy=function(){return Dn(t,up())},Pn.apply(t,arguments)}function cp(){var t=Sc(Zo()).domain([.1,1,10]);return t.copy=function(){return Dn(t,cp()).base(t.base())},Pn.apply(t,arguments)}function fp(){var t=Tc(Zo());return t.copy=function(){return Dn(t,fp()).constant(t.constant())},Pn.apply(t,arguments)}function Ic(){var t=Ac(Zo());return t.copy=function(){return Dn(t,Ic()).exponent(t.exponent())},Pn.apply(t,arguments)}function xS(){return Ic.apply(null,arguments).exponent(.5)}function bt(t){for(var e=t.length/6|0,i=new Array(e),a=0;a<e;)i[a]="#"+t.slice(6*a,6*++a);return i}const vS=bt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),wS=bt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),bS=bt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),SS=bt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),TS=bt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),AS=bt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),PS=bt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),CS=bt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),LS=bt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),MS=bt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function zt(t){return Ef(t[t.length-1])}var lp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(bt);const ES=zt(lp);var hp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(bt);const kS=zt(hp);var dp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(bt);const RS=zt(dp);var gp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(bt);const VS=zt(gp);var pp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(bt);const GS=zt(pp);var _p=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(bt);const OS=zt(_p);var yp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(bt);const $S=zt(yp);var mp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bt);const NS=zt(mp);var xp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(bt);const IS=zt(xp);var vp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(bt);const DS=zt(vp);var wp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(bt);const FS=zt(wp);var bp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(bt);const zS=zt(bp);var Sp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(bt);const YS=zt(Sp);var Tp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(bt);const XS=zt(Tp);var Ap=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(bt);const BS=zt(Ap);var Pp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(bt);const HS=zt(Pp);var Cp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(bt);const US=zt(Cp);var Lp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(bt);const WS=zt(Lp);var Mp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(bt);const qS=zt(Mp);var Ep=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(bt);const QS=zt(Ep);var kp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(bt);const jS=zt(kp);var Rp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bt);const ZS=zt(Rp);var Vp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bt);const KS=zt(Vp);var Gp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(bt);const JS=zt(Gp);var Op=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bt);const tT=zt(Op);var $p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bt);const eT=zt($p);var Np=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bt);const nT=zt(Np);function iT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const rT=Do(Je(300,.5,0),Je(-240,.5,1));var aT=Do(Je(-100,.75,.35),Je(80,1.5,.8)),oT=Do(Je(260,.75,.35),Je(80,1.5,.8)),Ko=Je();function sT(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ko.h=360*t-100,Ko.s=1.5-1.5*e,Ko.l=.8-.9*e,Ko+""}var Jo=Pi(),uT=Math.PI/3,cT=2*Math.PI/3;function fT(t){var e;return t=(.5-t)*Math.PI,Jo.r=255*(e=Math.sin(t))*e,Jo.g=255*(e=Math.sin(t+uT))*e,Jo.b=255*(e=Math.sin(t+cT))*e,Jo+""}function lT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ts(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}const hT=ts(bt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var dT=ts(bt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gT=ts(bt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pT=ts(bt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _T(t){return Ve(pa(t).call(document.documentElement))}var yT=0;function Ip(){return new Dc}function Dc(){this._="@"+(++yT).toString(36)}function mT(t){return"string"==typeof t?new ve([document.querySelectorAll(t)],[document.documentElement]):new ve([null==t?[]:t],Ss)}function xT(t,e){null==e&&(e=Rs().touches);for(var i=0,a=e?e.length:0,o=new Array(a);i<a;++i)o[i]=ba(t,e[i]);return o}function Ct(t){return function(){return t}}Dc.prototype=Ip.prototype={constructor:Dc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Dp=Math.abs,_e=Math.atan2,_i=Math.cos,vT=Math.max,Fc=Math.min,vn=Math.sin,Ui=Math.sqrt,ye=1e-12,Fn=Math.PI,es=Fn/2,zn=2*Fn;function wT(t){return t>1?0:t<-1?Fn:Math.acos(t)}function Fp(t){return t>=1?es:t<=-1?-es:Math.asin(t)}function bT(t){return t.innerRadius}function ST(t){return t.outerRadius}function TT(t){return t.startAngle}function AT(t){return t.endAngle}function PT(t){return t&&t.padAngle}function CT(t,e,i,a,o,u,f,l){var h=i-t,d=a-e,p=f-o,y=l-u,_=y*h-p*d;if(!(_*_<ye))return[t+(_=(p*(e-u)-y*(t-o))/_)*h,e+_*d]}function ns(t,e,i,a,o,u,f){var l=t-i,h=e-a,d=(f?u:-u)/Ui(l*l+h*h),p=d*h,y=-d*l,_=t+p,x=e+y,b=i+p,v=a+y,A=(_+b)/2,P=(x+v)/2,R=b-_,L=v-x,E=R*R+L*L,$=o-u,D=_*v-b*x,N=(L<0?-1:1)*Ui(vT(0,$*$*E-D*D)),W=(D*L-R*N)/E,H=(-D*R-L*N)/E,U=(D*L+R*N)/E,X=(-D*R+L*N)/E,V=W-A,F=H-P,j=U-A,I=X-P;return V*V+F*F>j*j+I*I&&(W=U,H=X),{cx:W,cy:H,x01:-p,y01:-y,x11:W*(o/$-1),y11:H*(o/$-1)}}function LT(){var t=bT,e=ST,i=Ct(0),a=null,o=TT,u=AT,f=PT,l=null;function h(){var d,p,y=+t.apply(this,arguments),_=+e.apply(this,arguments),x=o.apply(this,arguments)-es,b=u.apply(this,arguments)-es,v=Dp(b-x),A=b>x;if(l||(l=d=Kn()),_<y&&(p=_,_=y,y=p),_>ye)if(v>zn-ye)l.moveTo(_*_i(x),_*vn(x)),l.arc(0,0,_,x,b,!A),y>ye&&(l.moveTo(y*_i(b),y*vn(b)),l.arc(0,0,y,b,x,A));else{var V,F,P=x,R=b,L=x,E=b,$=v,D=v,N=f.apply(this,arguments)/2,W=N>ye&&(a?+a.apply(this,arguments):Ui(y*y+_*_)),H=Fc(Dp(_-y)/2,+i.apply(this,arguments)),U=H,X=H;if(W>ye){var j=Fp(W/y*vn(N)),I=Fp(W/_*vn(N));($-=2*j)>ye?(L+=j*=A?1:-1,E-=j):($=0,L=E=(x+b)/2),(D-=2*I)>ye?(P+=I*=A?1:-1,R-=I):(D=0,P=R=(x+b)/2)}var Q=_*_i(P),st=_*vn(P),rt=y*_i(E),ct=y*vn(E);if(H>ye){var Vt,xt=_*_i(R),vt=_*vn(R),Bt=y*_i(L),Dt=y*vn(L);if(v<Fn&&(Vt=CT(Q,st,Bt,Dt,xt,vt,rt,ct))){var ne=Q-Vt[0],We=st-Vt[1],an=xt-Vt[0],on=vt-Vt[1],nt=1/vn(wT((ne*an+We*on)/(Ui(ne*ne+We*We)*Ui(an*an+on*on)))/2),wt=Ui(Vt[0]*Vt[0]+Vt[1]*Vt[1]);U=Fc(H,(y-wt)/(nt-1)),X=Fc(H,(_-wt)/(nt+1))}}D>ye?X>ye?(V=ns(Bt,Dt,Q,st,_,X,A),F=ns(xt,vt,rt,ct,_,X,A),l.moveTo(V.cx+V.x01,V.cy+V.y01),X<H?l.arc(V.cx,V.cy,X,_e(V.y01,V.x01),_e(F.y01,F.x01),!A):(l.arc(V.cx,V.cy,X,_e(V.y01,V.x01),_e(V.y11,V.x11),!A),l.arc(0,0,_,_e(V.cy+V.y11,V.cx+V.x11),_e(F.cy+F.y11,F.cx+F.x11),!A),l.arc(F.cx,F.cy,X,_e(F.y11,F.x11),_e(F.y01,F.x01),!A))):(l.moveTo(Q,st),l.arc(0,0,_,P,R,!A)):l.moveTo(Q,st),y>ye&&$>ye?U>ye?(V=ns(rt,ct,xt,vt,y,-U,A),F=ns(Q,st,Bt,Dt,y,-U,A),l.lineTo(V.cx+V.x01,V.cy+V.y01),U<H?l.arc(V.cx,V.cy,U,_e(V.y01,V.x01),_e(F.y01,F.x01),!A):(l.arc(V.cx,V.cy,U,_e(V.y01,V.x01),_e(V.y11,V.x11),!A),l.arc(0,0,y,_e(V.cy+V.y11,V.cx+V.x11),_e(F.cy+F.y11,F.cx+F.x11),A),l.arc(F.cx,F.cy,U,_e(F.y11,F.x11),_e(F.y01,F.x01),!A))):l.arc(0,0,y,E,L,A):l.lineTo(rt,ct)}else l.moveTo(0,0);if(l.closePath(),d)return l=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-Fn/2;return[_i(p)*d,vn(p)*d]},h.innerRadius=function(d){return arguments.length?(t="function"==typeof d?d:Ct(+d),h):t},h.outerRadius=function(d){return arguments.length?(e="function"==typeof d?d:Ct(+d),h):e},h.cornerRadius=function(d){return arguments.length?(i="function"==typeof d?d:Ct(+d),h):i},h.padRadius=function(d){return arguments.length?(a=null==d?null:"function"==typeof d?d:Ct(+d),h):a},h.startAngle=function(d){return arguments.length?(o="function"==typeof d?d:Ct(+d),h):o},h.endAngle=function(d){return arguments.length?(u="function"==typeof d?d:Ct(+d),h):u},h.padAngle=function(d){return arguments.length?(f="function"==typeof d?d:Ct(+d),h):f},h.context=function(d){return arguments.length?(l=null==d?null:d,h):l},h}function zp(t){this._context=t}function is(t){return new zp(t)}function zc(t){return t[0]}function Yc(t){return t[1]}function Xc(){var t=zc,e=Yc,i=Ct(!0),a=null,o=is,u=null;function f(l){var h,p,_,d=l.length,y=!1;for(null==a&&(u=o(_=Kn())),h=0;h<=d;++h)!(h<d&&i(p=l[h],h,l))===y&&((y=!y)?u.lineStart():u.lineEnd()),y&&u.point(+t(p,h,l),+e(p,h,l));if(_)return u=null,_+""||null}return f.x=function(l){return arguments.length?(t="function"==typeof l?l:Ct(+l),f):t},f.y=function(l){return arguments.length?(e="function"==typeof l?l:Ct(+l),f):e},f.defined=function(l){return arguments.length?(i="function"==typeof l?l:Ct(!!l),f):i},f.curve=function(l){return arguments.length?(o=l,null!=a&&(u=o(a)),f):o},f.context=function(l){return arguments.length?(null==l?a=u=null:u=o(a=l),f):a},f}function Yp(){var t=zc,e=null,i=Ct(0),a=Yc,o=Ct(!0),u=null,f=is,l=null;function h(p){var y,_,x,v,P,b=p.length,A=!1,R=new Array(b),L=new Array(b);for(null==u&&(l=f(P=Kn())),y=0;y<=b;++y){if(!(y<b&&o(v=p[y],y,p))===A)if(A=!A)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=y-1;x>=_;--x)l.point(R[x],L[x]);l.lineEnd(),l.areaEnd()}A&&(R[y]=+t(v,y,p),L[y]=+i(v,y,p),l.point(e?+e(v,y,p):R[y],a?+a(v,y,p):L[y]))}if(P)return l=null,P+""||null}function d(){return Xc().defined(o).curve(f).context(u)}return h.x=function(p){return arguments.length?(t="function"==typeof p?p:Ct(+p),e=null,h):t},h.x0=function(p){return arguments.length?(t="function"==typeof p?p:Ct(+p),h):t},h.x1=function(p){return arguments.length?(e=null==p?null:"function"==typeof p?p:Ct(+p),h):e},h.y=function(p){return arguments.length?(i="function"==typeof p?p:Ct(+p),a=null,h):i},h.y0=function(p){return arguments.length?(i="function"==typeof p?p:Ct(+p),h):i},h.y1=function(p){return arguments.length?(a=null==p?null:"function"==typeof p?p:Ct(+p),h):a},h.lineX0=h.lineY0=function(){return d().x(t).y(i)},h.lineY1=function(){return d().x(t).y(a)},h.lineX1=function(){return d().x(e).y(i)},h.defined=function(p){return arguments.length?(o="function"==typeof p?p:Ct(!!p),h):o},h.curve=function(p){return arguments.length?(f=p,null!=u&&(l=f(u)),h):f},h.context=function(p){return arguments.length?(null==p?u=l=null:l=f(u=p),h):u},h}function MT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ET(t){return t}function kT(){var t=ET,e=MT,i=null,a=Ct(0),o=Ct(zn),u=Ct(0);function f(l){var h,p,y,P,E,d=l.length,_=0,x=new Array(d),b=new Array(d),v=+a.apply(this,arguments),A=Math.min(zn,Math.max(-zn,o.apply(this,arguments)-v)),R=Math.min(Math.abs(A)/d,u.apply(this,arguments)),L=R*(A<0?-1:1);for(h=0;h<d;++h)(E=b[x[h]=h]=+t(l[h],h,l))>0&&(_+=E);for(null!=e?x.sort(function($,D){return e(b[$],b[D])}):null!=i&&x.sort(function($,D){return i(l[$],l[D])}),h=0,y=_?(A-d*L)/_:0;h<d;++h,v=P)b[p=x[h]]={data:l[p],index:h,value:E=b[p],startAngle:v,endAngle:P=v+(E>0?E*y:0)+L,padAngle:R};return b}return f.value=function(l){return arguments.length?(t="function"==typeof l?l:Ct(+l),f):t},f.sortValues=function(l){return arguments.length?(e=l,i=null,f):e},f.sort=function(l){return arguments.length?(i=l,e=null,f):i},f.startAngle=function(l){return arguments.length?(a="function"==typeof l?l:Ct(+l),f):a},f.endAngle=function(l){return arguments.length?(o="function"==typeof l?l:Ct(+l),f):o},f.padAngle=function(l){return arguments.length?(u="function"==typeof l?l:Ct(+l),f):u},f}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Xp=Bc(is);function Bp(t){this._curve=t}function Bc(t){function e(i){return new Bp(t(i))}return e._curve=t,e}function ta(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?e(Bc(i)):e()._curve},t}function Hp(){return ta(Xc().curve(Xp))}function Up(){var t=Yp().curve(Xp),e=t.curve,i=t.lineX0,a=t.lineX1,o=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ta(i())},delete t.lineX0,t.lineEndAngle=function(){return ta(a())},delete t.lineX1,t.lineInnerRadius=function(){return ta(o())},delete t.lineY0,t.lineOuterRadius=function(){return ta(u())},delete t.lineY1,t.curve=function(f){return arguments.length?e(Bc(f)):e()._curve},t}function ea(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Bp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Hc=Array.prototype.slice;function RT(t){return t.source}function VT(t){return t.target}function Uc(t){var e=RT,i=VT,a=zc,o=Yc,u=null;function f(){var l,h=Hc.call(arguments),d=e.apply(this,h),p=i.apply(this,h);if(u||(u=l=Kn()),t(u,+a.apply(this,(h[0]=d,h)),+o.apply(this,h),+a.apply(this,(h[0]=p,h)),+o.apply(this,h)),l)return u=null,l+""||null}return f.source=function(l){return arguments.length?(e=l,f):e},f.target=function(l){return arguments.length?(i=l,f):i},f.x=function(l){return arguments.length?(a="function"==typeof l?l:Ct(+l),f):a},f.y=function(l){return arguments.length?(o="function"==typeof l?l:Ct(+l),f):o},f.context=function(l){return arguments.length?(u=null==l?null:l,f):u},f}function GT(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e=(e+a)/2,i,e,o,a,o)}function OT(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+o)/2,a,i,a,o)}function $T(t,e,i,a,o){var u=ea(e,i),f=ea(e,i=(i+o)/2),l=ea(a,i),h=ea(a,o);t.moveTo(u[0],u[1]),t.bezierCurveTo(f[0],f[1],l[0],l[1],h[0],h[1])}function NT(){return Uc(GT)}function IT(){return Uc(OT)}function DT(){var t=Uc($T);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Wc={draw:function(t,e){var i=Math.sqrt(e/Fn);t.moveTo(i,0),t.arc(0,0,i,0,zn)}},Wp={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};var qp=Math.sqrt(1/3),FT=2*qp;const Qp={draw:function(t,e){var i=Math.sqrt(e/FT),a=i*qp;t.moveTo(0,-i),t.lineTo(a,0),t.lineTo(0,i),t.lineTo(-a,0),t.closePath()}};var jp=Math.sin(Fn/10)/Math.sin(7*Fn/10),YT=Math.sin(zn/10)*jp,XT=-Math.cos(zn/10)*jp;const Zp={draw:function(t,e){var i=Math.sqrt(.8908130915292852*e),a=YT*i,o=XT*i;t.moveTo(0,-i),t.lineTo(a,o);for(var u=1;u<5;++u){var f=zn*u/5,l=Math.cos(f),h=Math.sin(f);t.lineTo(h*i,-l*i),t.lineTo(l*a-h*o,h*a+l*o)}t.closePath()}},Kp={draw:function(t,e){var i=Math.sqrt(e),a=-i/2;t.rect(a,a,i,i)}};var qc=Math.sqrt(3);const Jp={draw:function(t,e){var i=-Math.sqrt(e/(3*qc));t.moveTo(0,2*i),t.lineTo(-qc*i,-i),t.lineTo(qc*i,-i),t.closePath()}};var He=-.5,Ue=Math.sqrt(3)/2,Qc=1/Math.sqrt(12),BT=3*(Qc/2+1);const t0={draw:function(t,e){var i=Math.sqrt(e/BT),a=i/2,o=i*Qc,u=a,f=i*Qc+i,l=-u,h=f;t.moveTo(a,o),t.lineTo(u,f),t.lineTo(l,h),t.lineTo(He*a-Ue*o,Ue*a+He*o),t.lineTo(He*u-Ue*f,Ue*u+He*f),t.lineTo(He*l-Ue*h,Ue*l+He*h),t.lineTo(He*a+Ue*o,He*o-Ue*a),t.lineTo(He*u+Ue*f,He*f-Ue*u),t.lineTo(He*l+Ue*h,He*h-Ue*l),t.closePath()}};var HT=[Wc,Wp,Qp,Kp,Zp,Jp,t0];function UT(){var t=Ct(Wc),e=Ct(64),i=null;function a(){var o;if(i||(i=o=Kn()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),o)return i=null,o+""||null}return a.type=function(o){return arguments.length?(t="function"==typeof o?o:Ct(o),a):t},a.size=function(o){return arguments.length?(e="function"==typeof o?o:Ct(+o),a):e},a.context=function(o){return arguments.length?(i=null==o?null:o,a):i},a}function Yn(){}function rs(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function as(t){this._context=t}function WT(t){return new as(t)}function e0(t){this._context=t}function qT(t){return new e0(t)}function n0(t){this._context=t}function QT(t){return new n0(t)}function i0(t,e){this._basis=new as(t),this._beta=e}as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rs(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e0.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rs(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 3:this._point=4;default:rs(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},i0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var h,a=t[0],o=e[0],u=t[i]-a,f=e[i]-o,l=-1;++l<=i;)this._basis.point(this._beta*t[l]+(1-this._beta)*(a+(h=l/i)*u),this._beta*e[l]+(1-this._beta)*(o+h*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const jT=function t(e){function i(a){return 1===e?new as(a):new i0(a,e)}return i.beta=function(a){return t(+a)},i}(.85);function os(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function jc(t,e){this._context=t,this._k=(1-e)/6}jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:os(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:os(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZT=function t(e){function i(a){return new jc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Zc(t,e){this._context=t,this._k=(1-e)/6}Zc.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:os(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const KT=function t(e){function i(a){return new Zc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Kc(t,e){this._context=t,this._k=(1-e)/6}Kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:os(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const JT=function t(e){function i(a){return new Kc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Jc(t,e,i){var a=t._x1,o=t._y1,u=t._x2,f=t._y2;if(t._l01_a>ye){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>ye){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*d+t._x1*t._l23_2a-e*t._l12_2a)/p,f=(f*d+t._y1*t._l23_2a-i*t._l12_2a)/p}t._context.bezierCurveTo(a,o,u,f,t._x2,t._y2)}function r0(t,e){this._context=t,this._alpha=e}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tA=function t(e){function i(a){return e?new r0(a,e):new jc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function a0(t,e){this._context=t,this._alpha=e}a0.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Jc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eA=function t(e){function i(a){return e?new a0(a,e):new Zc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function o0(t,e){this._context=t,this._alpha=e}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nA=function t(e){function i(a){return e?new o0(a,e):new Kc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function s0(t){this._context=t}function iA(t){return new s0(t)}function u0(t){return t<0?-1:1}function c0(t,e,i){var a=t._x1-t._x0,o=e-t._x1,u=(t._y1-t._y0)/(a||o<0&&-0),f=(i-t._y1)/(o||a<0&&-0),l=(u*o+f*a)/(a+o);return(u0(u)+u0(f))*Math.min(Math.abs(u),Math.abs(f),.5*Math.abs(l))||0}function f0(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function tf(t,e,i){var a=t._x0,u=t._x1,f=t._y1,l=(u-a)/3;t._context.bezierCurveTo(a+l,t._y0+l*e,u-l,f-l*i,u,f)}function ss(t){this._context=t}function l0(t){this._context=new h0(t)}function h0(t){this._context=t}function rA(t){return new ss(t)}function aA(t){return new l0(t)}function d0(t){this._context=t}function g0(t){var e,a,i=t.length-1,o=new Array(i),u=new Array(i),f=new Array(i);for(o[0]=0,u[0]=2,f[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,u[e]=4,f[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,u[i-1]=7,f[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)u[e]-=a=o[e]/u[e-1],f[e]-=a*f[e-1];for(o[i-1]=f[i-1]/u[i-1],e=i-2;e>=0;--e)o[e]=(f[e]-o[e+1])/u[e];for(u[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)u[e]=2*t[e+1]-o[e+1];return[o,u]}function oA(t){return new d0(t)}function us(t,e){this._context=t,this._t=e}function sA(t){return new us(t,.5)}function uA(t){return new us(t,0)}function cA(t){return new us(t,1)}function Wi(t,e){if((f=t.length)>1)for(var a,o,f,i=1,u=t[e[0]],l=u.length;i<f;++i)for(o=u,u=t[e[i]],a=0;a<l;++a)u[a][1]+=u[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function qi(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function fA(t,e){return t[e]}function lA(){var t=Ct([]),e=qi,i=Wi,a=fA;function o(u){var l,y,f=t.apply(this,arguments),h=u.length,d=f.length,p=new Array(d);for(l=0;l<d;++l){for(var v,_=f[l],x=p[l]=new Array(h),b=0;b<h;++b)x[b]=v=[0,+a(u[b],_,b,u)],v.data=u[b];x.key=_}for(l=0,y=e(p);l<d;++l)p[y[l]].index=l;return i(p,y),p}return o.keys=function(u){return arguments.length?(t="function"==typeof u?u:Ct(Hc.call(u)),o):t},o.value=function(u){return arguments.length?(a="function"==typeof u?u:Ct(+u),o):a},o.order=function(u){return arguments.length?(e=null==u?qi:"function"==typeof u?u:Ct(Hc.call(u)),o):e},o.offset=function(u){return arguments.length?(i=null==u?Wi:u,o):i},o}function hA(t,e){if((a=t.length)>0){for(var i,a,f,o=0,u=t[0].length;o<u;++o){for(f=i=0;i<a;++i)f+=t[i][o][1]||0;if(f)for(i=0;i<a;++i)t[i][o][1]/=f}Wi(t,e)}}function dA(t,e){if((h=t.length)>0)for(var i,o,u,f,l,h,a=0,d=t[e[0]].length;a<d;++a)for(f=l=0,i=0;i<h;++i)(u=(o=t[e[i]][a])[1]-o[0])>0?(o[0]=f,o[1]=f+=u):u<0?(o[1]=l,o[0]=l+=u):(o[0]=0,o[1]=u)}function gA(t,e){if((o=t.length)>0){for(var o,i=0,a=t[e[0]],u=a.length;i<u;++i){for(var f=0,l=0;f<o;++f)l+=t[f][i][1]||0;a[i][1]+=a[i][0]=-l/2}Wi(t,e)}}function pA(t,e){if((f=t.length)>0&&(u=(o=t[e[0]]).length)>0){for(var o,u,f,i=0,a=1;a<u;++a){for(var l=0,h=0,d=0;l<f;++l){for(var p=t[e[l]],y=p[a][1]||0,x=(y-(p[a-1][1]||0))/2,b=0;b<l;++b){var v=t[e[b]];x+=(v[a][1]||0)-(v[a-1][1]||0)}h+=y,d+=x*y}o[a-1][1]+=o[a-1][0]=i,h&&(i-=d/h)}o[a-1][1]+=o[a-1][0]=i,Wi(t,e)}}function p0(t){var e=t.map(_A);return qi(t).sort(function(i,a){return e[i]-e[a]})}function _A(t){for(var o,e=-1,i=0,a=t.length,u=-1/0;++e<a;)(o=+t[e][1])>u&&(u=o,i=e);return i}function _0(t){var e=t.map(y0);return qi(t).sort(function(i,a){return e[i]-e[a]})}function y0(t){for(var o,e=0,i=-1,a=t.length;++i<a;)(o=+t[i][1])&&(e+=o);return e}function yA(t){return _0(t).reverse()}function mA(t){var i,a,e=t.length,o=t.map(y0),u=p0(t),f=0,l=0,h=[],d=[];for(i=0;i<e;++i)a=u[i],f<l?(f+=o[a],h.push(a)):(l+=o[a],d.push(a));return d.reverse().concat(h)}function xA(t){return qi(t).reverse()}s0.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tf(this,this._t0,f0(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tf(this,f0(this,i=c0(this,t,e)),i);break;default:tf(this,this._t0,i=c0(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(l0.prototype=Object.create(ss.prototype)).point=function(t,e){ss.prototype.point.call(this,e,t)},h0.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,a,o,u){this._context.bezierCurveTo(e,t,a,i,u,o)}},d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var a=g0(t),o=g0(e),u=0,f=1;f<i;++u,++f)this._context.bezierCurveTo(a[0][u],o[0][u],a[1][u],o[1][u],t[f],e[f]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}};var m0="%Y-%m-%dT%H:%M:%S.%LZ";const bA=Date.prototype.toISOString?function vA(t){return t.toISOString()}:Qo(m0),AA=+new Date("2000-01-01T00:00:00.000Z")?function SA(t){var e=new Date(t);return isNaN(e)?null:e}:Gc(m0);function PA(t,e,i){var a=new gr,o=e;return null==e?(a.restart(t,e,i),a):(e=+e,i=null==i?Li():+i,a.restart(function u(f){f+=o,a.restart(u,o+=e,i),t(f)},e,i),a)}function x0(t){return function(){return t}}function CA(t){return t[0]}function LA(t){return t[1]}function ef(){this._=null}function cs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function na(t,e){var i=e,a=e.R,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function ia(t,e){var i=e,a=e.L,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function v0(t){for(;t.L;)t=t.L;return t}ef.prototype={constructor:ef,insert:function(t,e){var i,a,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=v0(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)i===(a=i.U).L?(o=a.R)&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.R&&(na(this,i),i=(t=i).U),i.C=!1,a.C=!0,ia(this,a)):(o=a.L)&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.L&&(ia(this,i),i=(t=i).U),i.C=!1,a.C=!0,na(this,a)),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var i,u,f,e=t.U,a=t.L,o=t.R;if(u=a?o?v0(o):a:o,e?e.L===t?e.L=u:e.R=u:this._=u,a&&o?(f=u.C,u.C=t.C,u.L=a,a.U=u,u!==o?(e=u.U,u.U=t.U,e.L=t=u.R,u.R=o,o.U=u):(u.U=e,e=u,t=u.R)):(f=t.C,t=u),t&&(t.U=e),!f){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===e.L){if((i=e.R).C&&(i.C=!1,e.C=!0,na(this,e),i=e.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,ia(this,i),i=e.R),i.C=e.C,e.C=i.R.C=!1,na(this,e),t=this._;break}}else if((i=e.L).C&&(i.C=!1,e.C=!0,ia(this,e),i=e.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,na(this,i),i=e.L),i.C=e.C,e.C=i.L.C=!1,ia(this,e),t=this._;break}i.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};const w0=ef;function ra(t,e,i,a){var o=[null,null],u=me.push(o)-1;return o.left=t,o.right=e,i&&fs(o,t,e,i),a&&fs(o,e,t,a),Ie[t.index].halfedges.push(u),Ie[e.index].halfedges.push(u),o}function aa(t,e,i){var a=[e,i];return a.left=t,a}function fs(t,e,i,a){t[0]||t[1]?t.left===i?t[1]=a:t[0]=a:(t[0]=a,t.left=e,t.right=i)}function MA(t,e,i,a,o){var v,u=t[0],f=t[1],l=u[0],h=u[1],y=0,_=1,x=f[0]-l,b=f[1]-h;if(v=e-l,x||!(v>0)){if(v/=x,x<0){if(v<y)return;v<_&&(_=v)}else if(x>0){if(v>_)return;v>y&&(y=v)}if(v=a-l,x||!(v<0)){if(v/=x,x<0){if(v>_)return;v>y&&(y=v)}else if(x>0){if(v<y)return;v<_&&(_=v)}if(v=i-h,b||!(v>0)){if(v/=b,b<0){if(v<y)return;v<_&&(_=v)}else if(b>0){if(v>_)return;v>y&&(y=v)}if(v=o-h,b||!(v<0)){if(v/=b,b<0){if(v>_)return;v>y&&(y=v)}else if(b>0){if(v<y)return;v<_&&(_=v)}return!(y>0)&&!(_<1)||(y>0&&(t[0]=[l+y*x,h+y*b]),_<1&&(t[1]=[l+_*x,h+_*b])),!0}}}}}function EA(t,e,i,a,o){var u=t[1];if(u)return!0;var v,A,f=t[0],l=t.left,h=t.right,d=l[0],p=l[1],y=h[0],_=h[1],x=(d+y)/2;if(_===p){if(x<e||x>=a)return;if(d>y){if(f){if(f[1]>=o)return}else f=[x,i];u=[x,o]}else{if(f){if(f[1]<i)return}else f=[x,o];u=[x,i]}}else if(A=(p+_)/2-(v=(d-y)/(_-p))*x,v<-1||v>1)if(d>y){if(f){if(f[1]>=o)return}else f=[(i-A)/v,i];u=[(o-A)/v,o]}else{if(f){if(f[1]<i)return}else f=[(o-A)/v,o];u=[(i-A)/v,i]}else if(p<_){if(f){if(f[0]>=a)return}else f=[e,v*e+A];u=[a,v*a+A]}else{if(f){if(f[0]<e)return}else f=[a,v*a+A];u=[e,v*e+A]}return t[0]=f,t[1]=u,!0}function VA(t,e){var i=t.site,a=e.left,o=e.right;return i===o&&(o=a,a=i),o?Math.atan2(o[1]-a[1],o[0]-a[0]):(i===a?(a=e[1],o=e[0]):(a=e[0],o=e[1]),Math.atan2(a[0]-o[0],o[1]-a[1]))}function b0(t,e){return e[+(e.left!==t.site)]}function GA(t,e){return e[+(e.left===t.site)]}var nf,S0=[];function NA(){cs(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qi(t){var e=t.P,i=t.N;if(e&&i){var a=e.site,o=t.site,u=i.site;if(a!==u){var f=o[0],l=o[1],h=a[0]-f,d=a[1]-l,p=u[0]-f,y=u[1]-l,_=2*(h*y-d*p);if(!(_>=-YA)){var x=h*h+d*d,b=p*p+y*y,v=(y*x-d*b)/_,A=(h*b-p*x)/_,P=S0.pop()||new NA;P.arc=t,P.site=o,P.x=v+f,P.y=(P.cy=A+l)+Math.sqrt(v*v+A*A),t.circle=P;for(var R=null,L=oa._;L;)if(P.y<L.y||P.y===L.y&&P.x<=L.x){if(!L.L){R=L.P;break}L=L.L}else{if(!L.R){R=L;break}L=L.R}oa.insert(R,P),R||(nf=P)}}}}function ji(t){var e=t.circle;e&&(e.P||(nf=e.N),oa.remove(e),S0.push(e),cs(e),t.circle=null)}var T0=[];function IA(){cs(this),this.edge=this.site=this.circle=null}function A0(t){var e=T0.pop()||new IA;return e.site=t,e}function rf(t){ji(t),Zi.remove(t),T0.push(t),cs(t)}function DA(t){var e=t.circle,i=e.x,a=e.cy,o=[i,a],u=t.P,f=t.N,l=[t];rf(t);for(var h=u;h.circle&&Math.abs(i-h.circle.x)<It&&Math.abs(a-h.circle.cy)<It;)u=h.P,l.unshift(h),rf(h),h=u;l.unshift(h),ji(h);for(var d=f;d.circle&&Math.abs(i-d.circle.x)<It&&Math.abs(a-d.circle.cy)<It;)f=d.N,l.push(d),rf(d),d=f;l.push(d),ji(d);var y,p=l.length;for(y=1;y<p;++y)fs((d=l[y]).edge,(h=l[y-1]).site,d.site,o);(d=l[p-1]).edge=ra((h=l[0]).site,d.site,null,o),Qi(h),Qi(d)}function FA(t){for(var a,o,u,f,e=t[0],i=t[1],l=Zi._;l;)if((u=P0(l,i)-e)>It)l=l.L;else{if(!((f=e-zA(l,i))>It)){u>-It?(a=l.P,o=l):f>-It?(a=l,o=l.N):a=o=l;break}if(!l.R){a=l;break}l=l.R}!function RA(t){Ie[t.index]={site:t,halfedges:[]}}(t);var h=A0(t);if(Zi.insert(a,h),a||o){if(a===o)return ji(a),o=A0(a.site),Zi.insert(h,o),h.edge=o.edge=ra(a.site,h.site),Qi(a),void Qi(o);if(!o)return void(h.edge=ra(a.site,h.site));ji(a),ji(o);var d=a.site,p=d[0],y=d[1],_=t[0]-p,x=t[1]-y,b=o.site,v=b[0]-p,A=b[1]-y,P=2*(_*A-x*v),R=_*_+x*x,L=v*v+A*A,E=[(A*R-x*L)/P+p,(_*L-v*R)/P+y];fs(o.edge,d,b,E),h.edge=ra(d,t,null,E),o.edge=ra(t,b,null,E),Qi(a),Qi(o)}}function P0(t,e){var i=t.site,a=i[0],o=i[1],u=o-e;if(!u)return a;var f=t.P;if(!f)return-1/0;var l=(i=f.site)[0],h=i[1],d=h-e;if(!d)return l;var p=l-a,y=1/u-1/d,_=p/d;return y?(-_+Math.sqrt(_*_-2*y*(p*p/(-2*d)-h+d/2+o-u/2)))/y+a:(a+l)/2}function zA(t,e){var i=t.N;if(i)return P0(i,e);var a=t.site;return a[1]===e?a[0]:1/0}var Zi,Ie,oa,me,It=1e-6,YA=1e-12;function XA(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function BA(t,e){return e[1]-t[1]||e[0]-t[0]}function af(t,e){var a,o,u,i=t.sort(BA).pop();for(me=[],Ie=new Array(t.length),Zi=new w0,oa=new w0;;)if(u=nf,i&&(!u||i[1]<u.y||i[1]===u.y&&i[0]<u.x))(i[0]!==a||i[1]!==o)&&(FA(i),a=i[0],o=i[1]),i=t.pop();else{if(!u)break;DA(u.arc)}if(function OA(){for(var i,a,o,u,t=0,e=Ie.length;t<e;++t)if((i=Ie[t])&&(u=(a=i.halfedges).length)){var f=new Array(u),l=new Array(u);for(o=0;o<u;++o)f[o]=o,l[o]=VA(i,me[a[o]]);for(f.sort(function(h,d){return l[d]-l[h]}),o=0;o<u;++o)l[o]=a[f[o]];for(o=0;o<u;++o)a[o]=l[o]}}(),e){var f=+e[0][0],l=+e[0][1],h=+e[1][0],d=+e[1][1];(function kA(t,e,i,a){for(var u,o=me.length;o--;)EA(u=me[o],t,e,i,a)&&MA(u,t,e,i,a)&&(Math.abs(u[0][0]-u[1][0])>It||Math.abs(u[0][1]-u[1][1])>It)||delete me[o]})(f,l,h,d),function $A(t,e,i,a){var u,f,l,h,d,p,y,_,x,b,v,A,o=Ie.length,P=!0;for(u=0;u<o;++u)if(f=Ie[u]){for(l=f.site,h=(d=f.halfedges).length;h--;)me[d[h]]||d.splice(h,1);for(h=0,p=d.length;h<p;)v=(b=GA(f,me[d[h]]))[0],A=b[1],_=(y=b0(f,me[d[++h%p]]))[0],x=y[1],(Math.abs(v-_)>It||Math.abs(A-x)>It)&&(d.splice(h,0,me.push(aa(l,b,Math.abs(v-t)<It&&a-A>It?[t,Math.abs(_-t)<It?x:a]:Math.abs(A-a)<It&&i-v>It?[Math.abs(x-a)<It?_:i,a]:Math.abs(v-i)<It&&A-e>It?[i,Math.abs(_-i)<It?x:e]:Math.abs(A-e)<It&&v-t>It?[Math.abs(x-e)<It?_:t,e]:null))-1),++p);p&&(P=!1)}if(P){var R,L,E,$=1/0;for(u=0,P=null;u<o;++u)(f=Ie[u])&&(E=(R=(l=f.site)[0]-t)*R+(L=l[1]-e)*L)<$&&($=E,P=f);if(P){var D=[t,e],N=[t,a],W=[i,a],H=[i,e];P.halfedges.push(me.push(aa(l=P.site,D,N))-1,me.push(aa(l,N,W))-1,me.push(aa(l,W,H))-1,me.push(aa(l,H,D))-1)}}for(u=0;u<o;++u)(f=Ie[u])&&(f.halfedges.length||delete Ie[u])}(f,l,h,d)}this.edges=me,this.cells=Ie,Zi=oa=me=Ie=null}function HA(){var t=CA,e=LA,i=null;function a(o){return new af(o.map(function(u,f){var l=[Math.round(t(u,f,o)/It)*It,Math.round(e(u,f,o)/It)*It];return l.index=f,l.data=u,l}),i)}return a.polygons=function(o){return a(o).polygons()},a.links=function(o){return a(o).links()},a.triangles=function(o){return a(o).triangles()},a.x=function(o){return arguments.length?(t="function"==typeof o?o:x0(+o),a):t},a.y=function(o){return arguments.length?(e="function"==typeof o?o:x0(+o),a):e},a.extent=function(o){return arguments.length?(i=null==o?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],a):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},a.size=function(o){return arguments.length?(i=null==o?null:[[0,0],[+o[0],+o[1]]],a):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},a}function ls(t){return function(){return t}}function UA(t,e,i){this.target=t,this.type=e,this.transform=i}function Cn(t,e,i){this.k=t,this.x=e,this.y=i}af.prototype={constructor:af,polygons:function(){var t=this.edges;return this.cells.map(function(e){var i=e.halfedges.map(function(a){return b0(e,t[a])});return i.data=e.site.data,i})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(i,a){if(l=(u=i.halfedges).length)for(var u,l,h,o=i.site,f=-1,d=e[u[l-1]],p=d.left===o?d.right:d.left;++f<l;)h=p,p=(d=e[u[f]]).left===o?d.right:d.left,h&&p&&a<h.index&&a<p.index&&XA(o,h,p)<0&&t.push([o.data,h.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,i){for(var o,l,a=this,u=a._found||0,f=a.cells.length;!(l=a.cells[u]);)if(++u>=f)return null;var h=t-l.site[0],d=e-l.site[1],p=h*h+d*d;do{l=a.cells[o=u],u=null,l.halfedges.forEach(function(y){var _=a.edges[y],x=_.left;if(x!==l.site&&x||(x=_.right)){var b=t-x[0],v=e-x[1],A=b*b+v*v;A<p&&(p=A,u=x.index)}})}while(null!==u);return a._found=o,null==i||p<=i*i?l.site:null}},Cn.prototype={constructor:Cn,scale:function(t){return 1===t?this:new Cn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Cn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hs=new Cn(1,0,0);function C0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return hs;return t.__zoom}function of(){it.stopImmediatePropagation()}function sa(){it.preventDefault(),it.stopImmediatePropagation()}function WA(){return!it.ctrlKey&&!it.button}function qA(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function L0(){return this.__zoom||hs}function QA(){return-it.deltaY*(1===it.deltaMode?.05:it.deltaMode?1:.002)}function jA(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZA(t,e,i){var a=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],u=t.invertY(e[0][1])-i[0][1],f=t.invertY(e[1][1])-i[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),f>u?(u+f)/2:Math.min(0,u)||Math.max(0,f))}function KA(){var p,y,t=WA,e=qA,i=ZA,a=QA,o=jA,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],l=250,h=Id,d=Mn("start","zoom","end"),_=500,b=0;function v(V){V.property("__zoom",L0).on("wheel.zoom",D).on("mousedown.zoom",N).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",X).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(V,F){return(F=Math.max(u[0],Math.min(u[1],F)))===V.k?V:new Cn(F,V.x,V.y)}function P(V,F,j){var I=F[0]-j[0]*V.k,Q=F[1]-j[1]*V.k;return I===V.x&&Q===V.y?V:new Cn(V.k,I,Q)}function R(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function L(V,F,j){V.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var I=this,Q=arguments,st=E(I,Q),rt=e.apply(I,Q),ct=null==j?R(rt):"function"==typeof j?j.apply(I,Q):j,xt=Math.max(rt[1][0]-rt[0][0],rt[1][1]-rt[0][1]),vt=I.__zoom,Bt="function"==typeof F?F.apply(I,Q):F,Dt=h(vt.invert(ct).concat(xt/vt.k),Bt.invert(ct).concat(xt/Bt.k));return function(Vt){if(1===Vt)Vt=Bt;else{var ne=Dt(Vt),We=xt/ne[2];Vt=new Cn(We,ct[0]-ne[0]*We,ct[1]-ne[1]*We)}st.zoom(null,Vt)}})}function E(V,F,j){return!j&&V.__zooming||new $(V,F)}function $(V,F){this.that=V,this.args=F,this.active=0,this.extent=e.apply(V,F),this.taps=0}function D(){if(t.apply(this,arguments)){var V=E(this,arguments),F=this.__zoom,j=Math.max(u[0],Math.min(u[1],F.k*Math.pow(2,a.apply(this,arguments)))),I=qn(this);if(V.wheel)(V.mouse[0][0]!==I[0]||V.mouse[0][1]!==I[1])&&(V.mouse[1]=F.invert(V.mouse[0]=I)),clearTimeout(V.wheel);else{if(F.k===j)return;V.mouse=[I,F.invert(I)],jn(this),V.start()}sa(),V.wheel=setTimeout(Q,150),V.zoom("mouse",i(P(A(F,j),V.mouse[0],V.mouse[1]),V.extent,f))}function Q(){V.wheel=null,V.end()}}function N(){if(!y&&t.apply(this,arguments)){var V=E(this,arguments,!0),F=Ve(it.view).on("mousemove.zoom",st,!0).on("mouseup.zoom",rt,!0),j=qn(this),I=it.clientX,Q=it.clientY;_a(it.view),of(),V.mouse=[j,this.__zoom.invert(j)],jn(this),V.start()}function st(){if(sa(),!V.moved){var ct=it.clientX-I,xt=it.clientY-Q;V.moved=ct*ct+xt*xt>b}V.zoom("mouse",i(P(V.that.__zoom,V.mouse[0]=qn(V.that),V.mouse[1]),V.extent,f))}function rt(){F.on("mousemove.zoom mouseup.zoom",null),ya(it.view,V.moved),sa(),V.end()}}function W(){if(t.apply(this,arguments)){var V=this.__zoom,F=qn(this),j=V.invert(F),I=V.k*(it.shiftKey?.5:2),Q=i(P(A(V,I),F,j),e.apply(this,arguments),f);sa(),l>0?Ve(this).transition().duration(l).call(L,Q,F):Ve(this).call(v.transform,Q)}}function H(){if(t.apply(this,arguments)){var I,Q,st,rt,V=it.touches,F=V.length,j=E(this,arguments,it.changedTouches.length===F);for(of(),Q=0;Q<F;++Q)rt=[rt=cr(this,V,(st=V[Q]).identifier),this.__zoom.invert(rt),st.identifier],j.touch0?!j.touch1&&j.touch0[2]!==rt[2]&&(j.touch1=rt,j.taps=0):(j.touch0=rt,I=!0,j.taps=1+!!p);p&&(p=clearTimeout(p)),I&&(j.taps<2&&(p=setTimeout(function(){p=null},_)),jn(this),j.start())}}function U(){if(this.__zooming){var I,Q,st,rt,V=E(this,arguments),F=it.changedTouches,j=F.length;for(sa(),p&&(p=clearTimeout(p)),V.taps=0,I=0;I<j;++I)st=cr(this,F,(Q=F[I]).identifier),V.touch0&&V.touch0[2]===Q.identifier?V.touch0[0]=st:V.touch1&&V.touch1[2]===Q.identifier&&(V.touch1[0]=st);if(Q=V.that.__zoom,V.touch1){var ct=V.touch0[0],xt=V.touch0[1],vt=V.touch1[0],Bt=V.touch1[1],Dt=(Dt=vt[0]-ct[0])*Dt+(Dt=vt[1]-ct[1])*Dt,Vt=(Vt=Bt[0]-xt[0])*Vt+(Vt=Bt[1]-xt[1])*Vt;Q=A(Q,Math.sqrt(Dt/Vt)),st=[(ct[0]+vt[0])/2,(ct[1]+vt[1])/2],rt=[(xt[0]+Bt[0])/2,(xt[1]+Bt[1])/2]}else{if(!V.touch0)return;st=V.touch0[0],rt=V.touch0[1]}V.zoom("touch",i(P(Q,st,rt),V.extent,f))}}function X(){if(this.__zooming){var I,Q,V=E(this,arguments),F=it.changedTouches,j=F.length;for(of(),y&&clearTimeout(y),y=setTimeout(function(){y=null},_),I=0;I<j;++I)Q=F[I],V.touch0&&V.touch0[2]===Q.identifier?delete V.touch0:V.touch1&&V.touch1[2]===Q.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),2===V.taps){var st=Ve(this).on("dblclick.zoom");st&&st.apply(this,arguments)}}}return v.transform=function(V,F,j){var I=V.selection?V.selection():V;I.property("__zoom",L0),V!==I?L(V,F,j):I.interrupt().each(function(){E(this,arguments).start().zoom(null,"function"==typeof F?F.apply(this,arguments):F).end()})},v.scaleBy=function(V,F,j){v.scaleTo(V,function(){var I=this.__zoom.k,Q="function"==typeof F?F.apply(this,arguments):F;return I*Q},j)},v.scaleTo=function(V,F,j){v.transform(V,function(){var I=e.apply(this,arguments),Q=this.__zoom,st=null==j?R(I):"function"==typeof j?j.apply(this,arguments):j,rt=Q.invert(st),ct="function"==typeof F?F.apply(this,arguments):F;return i(P(A(Q,ct),st,rt),I,f)},j)},v.translateBy=function(V,F,j){v.transform(V,function(){return i(this.__zoom.translate("function"==typeof F?F.apply(this,arguments):F,"function"==typeof j?j.apply(this,arguments):j),e.apply(this,arguments),f)})},v.translateTo=function(V,F,j,I){v.transform(V,function(){var Q=e.apply(this,arguments),st=this.__zoom,rt=null==I?R(Q):"function"==typeof I?I.apply(this,arguments):I;return i(hs.translate(rt[0],rt[1]).scale(st.k).translate("function"==typeof F?-F.apply(this,arguments):-F,"function"==typeof j?-j.apply(this,arguments):-j),Q,f)},I)},$.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,F){return this.mouse&&"mouse"!==V&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&"touch"!==V&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&"touch"!==V&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){rr(new UA(v,V,this.that.__zoom),d.apply,d,[V,this.that,this.args])}},v.wheelDelta=function(V){return arguments.length?(a="function"==typeof V?V:ls(+V),v):a},v.filter=function(V){return arguments.length?(t="function"==typeof V?V:ls(!!V),v):t},v.touchable=function(V){return arguments.length?(o="function"==typeof V?V:ls(!!V),v):o},v.extent=function(V){return arguments.length?(e="function"==typeof V?V:ls([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),v):e},v.scaleExtent=function(V){return arguments.length?(u[0]=+V[0],u[1]=+V[1],v):[u[0],u[1]]},v.translateExtent=function(V){return arguments.length?(f[0][0]=+V[0][0],f[1][0]=+V[1][0],f[0][1]=+V[0][1],f[1][1]=+V[1][1],v):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},v.constrain=function(V){return arguments.length?(i=V,v):i},v.duration=function(V){return arguments.length?(l=+V,v):l},v.interpolate=function(V){return arguments.length?(h=V,v):h},v.on=function(){var V=d.on.apply(d,arguments);return V===d?v:V},v.clickDistance=function(V){return arguments.length?(b=(V=+V)*V,v):Math.sqrt(b)},v}C0.prototype=Cn.prototype}}]);